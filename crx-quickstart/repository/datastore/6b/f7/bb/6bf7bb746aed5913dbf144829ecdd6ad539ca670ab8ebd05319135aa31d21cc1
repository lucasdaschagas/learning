/**!

 @license
 handlebars v4.7.7

Copyright (C) 2011-2019 by Yehuda Katz

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.

*/
var Class,Exception;!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Handlebars=t():e.Handlebars=t()}(this,(function(){return function(e){var t={};function i(n){if(t[n])return t[n].exports;var o=t[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,i),o.loaded=!0,o.exports}return i.m=e,i.c=t,i.p="",i(0)}([function(e,t,i){"use strict";var n=i(1).default,o=i(2).default;t.__esModule=!0;var a=n(i(3)),r=o(i(36)),s=o(i(5)),l=n(i(4)),c=n(i(37)),d=o(i(43));function u(){var e=new a.HandlebarsEnvironment;return l.extend(e,a),e.SafeString=r.default,e.Exception=s.default,e.Utils=l,e.escapeExpression=l.escapeExpression,e.VM=c,e.template=function(t){return c.template(t,e)},e}var h=u();h.create=u,d.default(h),h.default=h,t.default=h,e.exports=t.default},function(e,t){"use strict";t.default=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t},t.__esModule=!0},function(e,t){"use strict";t.default=function(e){return e&&e.__esModule?e:{default:e}},t.__esModule=!0},function(e,t,i){"use strict";var n=i(2).default;t.__esModule=!0,t.HandlebarsEnvironment=d;var o=i(4),a=n(i(5)),r=i(9),s=i(29),l=n(i(31)),c=i(32);t.VERSION="4.7.7";t.COMPILER_REVISION=8;t.LAST_COMPATIBLE_COMPILER_REVISION=7;t.REVISION_CHANGES={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0 <4.3.0",8:">= 4.3.0"};function d(e,t,i){this.helpers=e||{},this.partials=t||{},this.decorators=i||{},r.registerDefaultHelpers(this),s.registerDefaultDecorators(this)}d.prototype={constructor:d,logger:l.default,log:l.default.log,registerHelper:function(e,t){if("[object Object]"===o.toString.call(e)){if(t)throw new a.default("Arg not supported with multiple helpers");o.extend(this.helpers,e)}else this.helpers[e]=t},unregisterHelper:function(e){delete this.helpers[e]},registerPartial:function(e,t){if("[object Object]"===o.toString.call(e))o.extend(this.partials,e);else{if(void 0===t)throw new a.default('Attempting to register a partial called "'+e+'" as undefined');this.partials[e]=t}},unregisterPartial:function(e){delete this.partials[e]},registerDecorator:function(e,t){if("[object Object]"===o.toString.call(e)){if(t)throw new a.default("Arg not supported with multiple decorators");o.extend(this.decorators,e)}else this.decorators[e]=t},unregisterDecorator:function(e){delete this.decorators[e]},resetLoggedPropertyAccesses:function(){c.resetLoggedProperties()}};var u=l.default.log;t.log=u,t.createFrame=o.createFrame,t.logger=l.default},function(e,t){"use strict";t.__esModule=!0,t.extend=r,t.indexOf=function(e,t){for(var i=0,n=e.length;i<n;i++)if(e[i]===t)return i;return-1},t.escapeExpression=function(e){if("string"!=typeof e){if(e&&e.toHTML)return e.toHTML();if(null==e)return"";if(!e)return e+"";e=""+e}if(!o.test(e))return e;return e.replace(n,a)},t.isEmpty=function(e){return!e&&0!==e||!(!c(e)||0!==e.length)},t.createFrame=function(e){var t=r({},e);return t._parent=e,t},t.blockParams=function(e,t){return e.path=t,e},t.appendContextPath=function(e,t){return(e?e+".":"")+t};var i={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},n=/[&<>"'`=]/g,o=/[&<>"'`=]/;function a(e){return i[e]}function r(e){for(var t=1;t<arguments.length;t++)for(var i in arguments[t])Object.prototype.hasOwnProperty.call(arguments[t],i)&&(e[i]=arguments[t][i]);return e}var s=Object.prototype.toString;t.toString=s;var l=function(e){return"function"==typeof e};l(/x/)&&(t.isFunction=l=function(e){return"function"==typeof e&&"[object Function]"===s.call(e)}),t.isFunction=l;var c=Array.isArray||function(e){return!(!e||"object"!=typeof e)&&"[object Array]"===s.call(e)};t.isArray=c},function(e,t,i){"use strict";var n=i(6).default;t.__esModule=!0;var o=["description","fileName","lineNumber","endLineNumber","message","name","number","stack"];function a(e,t){var i=t&&t.loc,r=void 0,s=void 0,l=void 0,c=void 0;i&&(r=i.start.line,s=i.end.line,l=i.start.column,c=i.end.column,e+=" - "+r+":"+l);for(var d=Error.prototype.constructor.call(this,e),u=0;u<o.length;u++)this[o[u]]=d[o[u]];Error.captureStackTrace&&Error.captureStackTrace(this,a);try{i&&(this.lineNumber=r,this.endLineNumber=s,n?(Object.defineProperty(this,"column",{value:l,enumerable:!0}),Object.defineProperty(this,"endColumn",{value:c,enumerable:!0})):(this.column=l,this.endColumn=c))}catch(e){}}a.prototype=new Error,t.default=a,e.exports=t.default},function(e,t,i){e.exports={default:i(7),__esModule:!0}},function(e,t,i){var n=i(8);e.exports=function(e,t,i){return n.setDesc(e,t,i)}},function(e,t){var i=Object;e.exports={create:i.create,getProto:i.getPrototypeOf,isEnum:{}.propertyIsEnumerable,getDesc:i.getOwnPropertyDescriptor,setDesc:i.defineProperty,setDescs:i.defineProperties,getKeys:i.keys,getNames:i.getOwnPropertyNames,getSymbols:i.getOwnPropertySymbols,each:[].forEach}},function(e,t,i){"use strict";var n=i(2).default;t.__esModule=!0,t.registerDefaultHelpers=function(e){o.default(e),a.default(e),r.default(e),s.default(e),l.default(e),c.default(e),d.default(e)},t.moveHelperToHooks=function(e,t,i){e.helpers[t]&&(e.hooks[t]=e.helpers[t],i||delete e.helpers[t])};var o=n(i(10)),a=n(i(11)),r=n(i(24)),s=n(i(25)),l=n(i(26)),c=n(i(27)),d=n(i(28))},function(e,t,i){"use strict";t.__esModule=!0;var n=i(4);t.default=function(e){e.registerHelper("blockHelperMissing",(function(t,i){var o=i.inverse,a=i.fn;if(!0===t)return a(this);if(!1===t||null==t)return o(this);if(n.isArray(t))return t.length>0?(i.ids&&(i.ids=[i.name]),e.helpers.each(t,i)):o(this);if(i.data&&i.ids){var r=n.createFrame(i.data);r.contextPath=n.appendContextPath(i.data.contextPath,i.name),i={data:r}}return a(t,i)}))},e.exports=t.default},function(e,t,i){(function(n){"use strict";var o=i(12).default,a=i(2).default;t.__esModule=!0;var r=i(4),s=a(i(5));t.default=function(e){e.registerHelper("each",(function(e,t){if(!t)throw new s.default("Must pass iterator to #each");var i,a=t.fn,l=t.inverse,c=0,d="",u=void 0,h=void 0;function p(t,i,n){u&&(u.key=t,u.index=i,u.first=0===i,u.last=!!n,h&&(u.contextPath=h+t)),d+=a(e[t],{data:u,blockParams:r.blockParams([e[t],t],[h+t,null])})}if(t.data&&t.ids&&(h=r.appendContextPath(t.data.contextPath,t.ids[0])+"."),r.isFunction(e)&&(e=e.call(this)),t.data&&(u=r.createFrame(t.data)),e&&"object"==typeof e)if(r.isArray(e))for(var m=e.length;c<m;c++)c in e&&p(c,c,c===e.length-1);else if(n.Symbol&&e[n.Symbol.iterator]){for(var f=[],g=e[n.Symbol.iterator](),v=g.next();!v.done;v=g.next())f.push(v.value);for(m=(e=f).length;c<m;c++)p(c,c,c===e.length-1)}else i=void 0,o(e).forEach((function(e){void 0!==i&&p(i,c-1),i=e,c++})),void 0!==i&&p(i,c-1,!0);return 0===c&&(d=l(this)),d}))},e.exports=t.default}).call(t,function(){return this}())},function(e,t,i){e.exports={default:i(13),__esModule:!0}},function(e,t,i){i(14),e.exports=i(20).Object.keys},function(e,t,i){var n=i(15);i(17)("keys",(function(e){return function(t){return e(n(t))}}))},function(e,t,i){var n=i(16);e.exports=function(e){return Object(n(e))}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,i){var n=i(18),o=i(20),a=i(23);e.exports=function(e,t){var i=(o.Object||{})[e]||Object[e],r={};r[e]=t(i),n(n.S+n.F*a((function(){i(1)})),"Object",r)}},function(e,t,i){var n=i(19),o=i(20),a=i(21),r=function(e,t,i){var s,l,c,d=e&r.F,u=e&r.G,h=e&r.S,p=e&r.P,m=e&r.B,f=e&r.W,g=u?o:o[t]||(o[t]={}),v=u?n:h?n[t]:(n[t]||{}).prototype;for(s in u&&(i=t),i)(l=!d&&v&&s in v)&&s in g||(c=l?v[s]:i[s],g[s]=u&&"function"!=typeof v[s]?i[s]:m&&l?a(c,n):f&&v[s]==c?function(e){var t=function(t){return this instanceof e?new e(t):e(t)};return t.prototype=e.prototype,t}(c):p&&"function"==typeof c?a(Function.call,c):c,p&&((g.prototype||(g.prototype={}))[s]=c))};r.F=1,r.G=2,r.S=4,r.P=8,r.B=16,r.W=32,e.exports=r},function(e,t){var i=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=i)},function(e,t){var i=e.exports={version:"1.2.6"};"number"==typeof __e&&(__e=i)},function(e,t,i){var n=i(22);e.exports=function(e,t,i){if(n(e),void 0===t)return e;switch(i){case 1:return function(i){return e.call(t,i)};case 2:return function(i,n){return e.call(t,i,n)};case 3:return function(i,n,o){return e.call(t,i,n,o)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,i){"use strict";var n=i(2).default;t.__esModule=!0;var o=n(i(5));t.default=function(e){e.registerHelper("helperMissing",(function(){if(1!==arguments.length)throw new o.default('Missing helper: "'+arguments[arguments.length-1].name+'"')}))},e.exports=t.default},function(e,t,i){"use strict";var n=i(2).default;t.__esModule=!0;var o=i(4),a=n(i(5));t.default=function(e){e.registerHelper("if",(function(e,t){if(2!=arguments.length)throw new a.default("#if requires exactly one argument");return o.isFunction(e)&&(e=e.call(this)),!t.hash.includeZero&&!e||o.isEmpty(e)?t.inverse(this):t.fn(this)})),e.registerHelper("unless",(function(t,i){if(2!=arguments.length)throw new a.default("#unless requires exactly one argument");return e.helpers.if.call(this,t,{fn:i.inverse,inverse:i.fn,hash:i.hash})}))},e.exports=t.default},function(e,t){"use strict";t.__esModule=!0,t.default=function(e){e.registerHelper("log",(function(){for(var t=[void 0],i=arguments[arguments.length-1],n=0;n<arguments.length-1;n++)t.push(arguments[n]);var o=1;null!=i.hash.level?o=i.hash.level:i.data&&null!=i.data.level&&(o=i.data.level),t[0]=o,e.log.apply(e,t)}))},e.exports=t.default},function(e,t){"use strict";t.__esModule=!0,t.default=function(e){e.registerHelper("lookup",(function(e,t,i){return e?i.lookupProperty(e,t):e}))},e.exports=t.default},function(e,t,i){"use strict";var n=i(2).default;t.__esModule=!0;var o=i(4),a=n(i(5));t.default=function(e){e.registerHelper("with",(function(e,t){if(2!=arguments.length)throw new a.default("#with requires exactly one argument");o.isFunction(e)&&(e=e.call(this));var i=t.fn;if(o.isEmpty(e))return t.inverse(this);var n=t.data;return t.data&&t.ids&&((n=o.createFrame(t.data)).contextPath=o.appendContextPath(t.data.contextPath,t.ids[0])),i(e,{data:n,blockParams:o.blockParams([e],[n&&n.contextPath])})}))},e.exports=t.default},function(e,t,i){"use strict";var n=i(2).default;t.__esModule=!0,t.registerDefaultDecorators=function(e){o.default(e)};var o=n(i(30))},function(e,t,i){"use strict";t.__esModule=!0;var n=i(4);t.default=function(e){e.registerDecorator("inline",(function(e,t,i,o){var a=e;return t.partials||(t.partials={},a=function(o,a){var r=i.partials;i.partials=n.extend({},r,t.partials);var s=e(o,a);return i.partials=r,s}),t.partials[o.args[0]]=o.fn,a}))},e.exports=t.default},function(e,t,i){"use strict";t.__esModule=!0;var n=i(4),o={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(e){if("string"==typeof e){var t=n.indexOf(o.methodMap,e.toLowerCase());e=t>=0?t:parseInt(e,10)}return e},log:function(e){if(e=o.lookupLevel(e),"undefined"!=typeof console&&o.lookupLevel(o.level)<=e){var t=o.methodMap[e];console[t]||(t="log");for(var i=arguments.length,n=Array(i>1?i-1:0),a=1;a<i;a++)n[a-1]=arguments[a];console[t].apply(console,n)}}};t.default=o,e.exports=t.default},function(e,t,i){"use strict";var n=i(33).default,o=i(12).default,a=i(1).default;t.__esModule=!0,t.createProtoAccessControl=function(e){var t=n(null);t.constructor=!1,t.__defineGetter__=!1,t.__defineSetter__=!1,t.__lookupGetter__=!1;var i=n(null);return i.__proto__=!1,{properties:{whitelist:r.createNewLookupObject(i,e.allowedProtoProperties),defaultValue:e.allowProtoPropertiesByDefault},methods:{whitelist:r.createNewLookupObject(t,e.allowedProtoMethods),defaultValue:e.allowProtoMethodsByDefault}}},t.resultIsAllowed=function(e,t,i){return c("function"==typeof e?t.methods:t.properties,i)},t.resetLoggedProperties=function(){o(l).forEach((function(e){delete l[e]}))};var r=i(35),s=a(i(31)),l=n(null);function c(e,t){return void 0!==e.whitelist[t]?!0===e.whitelist[t]:void 0!==e.defaultValue?e.defaultValue:(function(e){!0!==l[e]&&(l[e]=!0,s.log("error",'Handlebars: Access has been denied to resolve the property "'+e+'" because it is not an "own property" of its parent.\nYou can add a runtime option to disable the check or this warning:\nSee https://handlebarsjs.com/api-reference/runtime-options.html#options-to-control-prototype-access for details'))}(t),!1)}},function(e,t,i){e.exports={default:i(34),__esModule:!0}},function(e,t,i){var n=i(8);e.exports=function(e,t){return n.create(e,t)}},function(e,t,i){"use strict";var n=i(33).default;t.__esModule=!0,t.createNewLookupObject=function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return o.extend.apply(void 0,[n(null)].concat(t))};var o=i(4)},function(e,t){"use strict";function i(e){this.string=e}t.__esModule=!0,i.prototype.toString=i.prototype.toHTML=function(){return""+this.string},t.default=i,e.exports=t.default},function(e,t,i){"use strict";var n=i(38).default,o=i(12).default,a=i(1).default,r=i(2).default;t.__esModule=!0,t.checkRevision=function(e){var t=e&&e[0]||1,i=c.COMPILER_REVISION;if(t>=c.LAST_COMPATIBLE_COMPILER_REVISION&&t<=c.COMPILER_REVISION)return;if(t<c.LAST_COMPATIBLE_COMPILER_REVISION){var n=c.REVISION_CHANGES[i],o=c.REVISION_CHANGES[t];throw new l.default("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+n+") or downgrade your runtime to an older version ("+o+").")}throw new l.default("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+e[1]+").")},t.template=function(e,t){if(!t)throw new l.default("No environment passed to template");if(!e||!e.main)throw new l.default("Unknown template object: "+typeof e);e.main.decorator=e.main_d,t.VM.checkRevision(e.compiler);var i=e.compiler&&7===e.compiler[0];var a={strict:function(e,t,i){if(!e||!(t in e))throw new l.default('"'+t+'" not defined in '+e,{loc:i});return a.lookupProperty(e,t)},lookupProperty:function(e,t){var i=e[t];return null==i||Object.prototype.hasOwnProperty.call(e,t)||h.resultIsAllowed(i,a.protoAccessControl,t)?i:void 0},lookup:function(e,t){for(var i=e.length,n=0;n<i;n++){if(null!=(e[n]&&a.lookupProperty(e[n],t)))return e[n][t]}},lambda:function(e,t){return"function"==typeof e?e.call(t):e},escapeExpression:s.escapeExpression,invokePartial:function(i,n,o){o.hash&&(n=s.extend({},n,o.hash),o.ids&&(o.ids[0]=!0)),i=t.VM.resolvePartial.call(this,i,n,o);var a=s.extend({},o,{hooks:this.hooks,protoAccessControl:this.protoAccessControl}),r=t.VM.invokePartial.call(this,i,n,a);if(null==r&&t.compile&&(o.partials[o.name]=t.compile(i,e.compilerOptions,t),r=o.partials[o.name](n,a)),null!=r){if(o.indent){for(var c=r.split("\n"),d=0,u=c.length;d<u&&(c[d]||d+1!==u);d++)c[d]=o.indent+c[d];r=c.join("\n")}return r}throw new l.default("The partial "+o.name+" could not be compiled when running in runtime-only mode")},fn:function(t){var i=e[t];return i.decorator=e[t+"_d"],i},programs:[],program:function(e,t,i,n,o){var a=this.programs[e],r=this.fn(e);return t||o||n||i?a=p(this,e,r,t,i,n,o):a||(a=this.programs[e]=p(this,e,r)),a},data:function(e,t){for(;e&&t--;)e=e._parent;return e},mergeIfNeeded:function(e,t){var i=e||t;return e&&t&&e!==t&&(i=s.extend({},t,e)),i},nullContext:n({}),noop:t.VM.noop,compilerInfo:e.compiler};function r(t){var i=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=i.data;r._setup(i),!i.partial&&e.useData&&(n=f(t,n));var o=void 0,s=e.useBlockParams?[]:void 0;function l(t){return""+e.main(a,t,a.helpers,a.partials,n,s,o)}return e.useDepths&&(o=i.depths?t!=i.depths[0]?[t].concat(i.depths):i.depths:[t]),(l=g(e.main,l,a,i.depths||[],n,s))(t,i)}return r.isTop=!0,r._setup=function(n){if(n.partial)a.protoAccessControl=n.protoAccessControl,a.helpers=n.helpers,a.partials=n.partials,a.decorators=n.decorators,a.hooks=n.hooks;else{var r=s.extend({},t.helpers,n.helpers);!function(e,t){o(e).forEach((function(i){var n=e[i];e[i]=function(e,t){var i=t.lookupProperty;return u.wrapHelper(e,(function(e){return s.extend({lookupProperty:i},e)}))}(n,t)}))}(r,a),a.helpers=r,e.usePartial&&(a.partials=a.mergeIfNeeded(n.partials,t.partials)),(e.usePartial||e.useDecorators)&&(a.decorators=s.extend({},t.decorators,n.decorators)),a.hooks={},a.protoAccessControl=h.createProtoAccessControl(n);var l=n.allowCallsToHelperMissing||i;d.moveHelperToHooks(a,"helperMissing",l),d.moveHelperToHooks(a,"blockHelperMissing",l)}},r._child=function(t,i,n,o){if(e.useBlockParams&&!n)throw new l.default("must pass block params");if(e.useDepths&&!o)throw new l.default("must pass parent depths");return p(a,t,e[t],i,0,n,o)},r},t.wrapProgram=p,t.resolvePartial=function(e,t,i){e?e.call||i.name||(i.name=e,e=i.partials[e]):e="@partial-block"===i.name?i.data["partial-block"]:i.partials[i.name];return e},t.invokePartial=function(e,t,i){var n=i.data&&i.data["partial-block"];i.partial=!0,i.ids&&(i.data.contextPath=i.ids[0]||i.data.contextPath);var o=void 0;i.fn&&i.fn!==m&&function(){i.data=c.createFrame(i.data);var e=i.fn;o=i.data["partial-block"]=function(t){var i=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return i.data=c.createFrame(i.data),i.data["partial-block"]=n,e(t,i)},e.partials&&(i.partials=s.extend({},i.partials,e.partials))}();void 0===e&&o&&(e=o);if(void 0===e)throw new l.default("The partial "+i.name+" could not be found");if(e instanceof Function)return e(t,i)},t.noop=m;var s=a(i(4)),l=r(i(5)),c=i(3),d=i(9),u=i(42),h=i(32);function p(e,t,i,n,o,a,r){function s(t){var o=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],s=r;return!r||t==r[0]||t===e.nullContext&&null===r[0]||(s=[t].concat(r)),i(e,t,e.helpers,e.partials,o.data||n,a&&[o.blockParams].concat(a),s)}return(s=g(i,s,e,r,n,a)).program=t,s.depth=r?r.length:0,s.blockParams=o||0,s}function m(){return""}function f(e,t){return t&&"root"in t||((t=t?c.createFrame(t):{}).root=e),t}function g(e,t,i,n,o,a){if(e.decorator){var r={};t=e.decorator(t,r,i,n&&n[0],o,a,n),s.extend(t,r)}return t}},function(e,t,i){e.exports={default:i(39),__esModule:!0}},function(e,t,i){i(40),e.exports=i(20).Object.seal},function(e,t,i){var n=i(41);i(17)("seal",(function(e){return function(t){return e&&n(t)?e(t):t}}))},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t){"use strict";t.__esModule=!0,t.wrapHelper=function(e,t){if("function"!=typeof e)return e;return function(){var i=arguments[arguments.length-1];return arguments[arguments.length-1]=t(i),e.apply(this,arguments)}}},function(e,t){(function(i){"use strict";t.__esModule=!0,t.default=function(e){var t=void 0!==i?i:window,n=t.Handlebars;e.noConflict=function(){return t.Handlebars===e&&(t.Handlebars=n),e}},e.exports=t.default}).call(t,function(){return this}())}])})),function(e,t){"use strict";var i="ruf7eed";e.Coral&&e.Coral.options&&e.Coral.options.typeKitId&&(i=e.Coral.options.typeKitId);var n={kitId:i,scriptTimeout:3e3};if(!e.Typekit){var o=document.getElementsByTagName("html")[0];o.className+=" wf-loading";var a=setTimeout((function(){o.className=o.className.replace(/(\s|^)wf-loading(\s|$)/g," "),o.className+=" wf-inactive"}),n.scriptTimeout),r=document.createElement("script"),s=!1;r.src="https://use.typekit.net/"+n.kitId+".js",r.type="text/javascript",r.async="true",r.onload=r.onreadystatechange=function(){var e=this.readyState;if(!(s||e&&"complete"!==e&&"loaded"!==e)){s=!0,clearTimeout(a);try{Typekit.load(n)}catch(e){}}};var l=document.getElementsByTagName("script")[0];l.parentNode.insertBefore(r,l)}}(this),
/*! jQuery UI - v1.12.1 - 2018-07-18
* http://jqueryui.com
* Includes: position.js, data.js, focusable.js, tabbable.js
* Copyright jQuery Foundation and other contributors; Licensed MIT */
function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}((function(e){e.ui=e.ui||{};e.ui.version="1.12.1";
/*!
 * jQuery UI Position 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/position/
 */!function(){var t,i=Math.max,n=Math.abs,o=/left|center|right/,a=/top|center|bottom/,r=/[\+\-]\d+(\.[\d]+)?%?/,s=/^\w+/,l=/%$/,c=e.fn.position;function d(e,t,i){return[parseFloat(e[0])*(l.test(e[0])?t/100:1),parseFloat(e[1])*(l.test(e[1])?i/100:1)]}function u(t,i){return parseInt(e.css(t,i),10)||0}function h(t){var i=t[0];return 9===i.nodeType?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:e.isWindow(i)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()}}e.position={scrollbarWidth:function(){if(void 0!==t)return t;var i,n,o=e("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),a=o.children()[0];return e("body").append(o),i=a.offsetWidth,o.css("overflow","scroll"),i===(n=a.offsetWidth)&&(n=o[0].clientWidth),o.remove(),t=i-n},getScrollInfo:function(t){var i=t.isWindow||t.isDocument?"":t.element.css("overflow-x"),n=t.isWindow||t.isDocument?"":t.element.css("overflow-y"),o="scroll"===i||"auto"===i&&t.width<t.element[0].scrollWidth;return{width:"scroll"===n||"auto"===n&&t.height<t.element[0].scrollHeight?e.position.scrollbarWidth():0,height:o?e.position.scrollbarWidth():0}},getWithinInfo:function(t){var i=e(t||window),n=e.isWindow(i[0]),o=!!i[0]&&9===i[0].nodeType;return{element:i,isWindow:n,isDocument:o,offset:!n&&!o?e(t).offset():{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:i.outerWidth(),height:i.outerHeight()}}},e.fn.position=function(t){if(!t||!t.of)return c.apply(this,arguments);t=e.extend({},t);var l,p,m,f,g,v,b=e(t.of),_=e.position.getWithinInfo(t.within),C=e.position.getScrollInfo(_),y=(t.collision||"flip").split(" "),w={};return v=h(b),b[0].preventDefault&&(t.at="left top"),p=v.width,m=v.height,f=v.offset,g=e.extend({},f),e.each(["my","at"],(function(){var e,i,n=(t[this]||"").split(" ");1===n.length&&(n=o.test(n[0])?n.concat(["center"]):a.test(n[0])?["center"].concat(n):["center","center"]),n[0]=o.test(n[0])?n[0]:"center",n[1]=a.test(n[1])?n[1]:"center",e=r.exec(n[0]),i=r.exec(n[1]),w[this]=[e?e[0]:0,i?i[0]:0],t[this]=[s.exec(n[0])[0],s.exec(n[1])[0]]})),1===y.length&&(y[1]=y[0]),"right"===t.at[0]?g.left+=p:"center"===t.at[0]&&(g.left+=p/2),"bottom"===t.at[1]?g.top+=m:"center"===t.at[1]&&(g.top+=m/2),l=d(w.at,p,m),g.left+=l[0],g.top+=l[1],this.each((function(){var o,a,r=e(this),s=r.outerWidth(),c=r.outerHeight(),h=u(this,"marginLeft"),v=u(this,"marginTop"),A=s+h+u(this,"marginRight")+C.width,x=c+v+u(this,"marginBottom")+C.height,S=e.extend({},g),T=d(w.my,r.outerWidth(),r.outerHeight());"right"===t.my[0]?S.left-=s:"center"===t.my[0]&&(S.left-=s/2),"bottom"===t.my[1]?S.top-=c:"center"===t.my[1]&&(S.top-=c/2),S.left+=T[0],S.top+=T[1],o={marginLeft:h,marginTop:v},e.each(["left","top"],(function(i,n){e.ui.position[y[i]]&&e.ui.position[y[i]][n](S,{targetWidth:p,targetHeight:m,elemWidth:s,elemHeight:c,collisionPosition:o,collisionWidth:A,collisionHeight:x,offset:[l[0]+T[0],l[1]+T[1]],my:t.my,at:t.at,within:_,elem:r})})),t.using&&(a=function(e){var o=f.left-S.left,a=o+p-s,l=f.top-S.top,d=l+m-c,u={target:{element:b,left:f.left,top:f.top,width:p,height:m},element:{element:r,left:S.left,top:S.top,width:s,height:c},horizontal:a<0?"left":o>0?"right":"center",vertical:d<0?"top":l>0?"bottom":"middle"};p<s&&n(o+a)<p&&(u.horizontal="center"),m<c&&n(l+d)<m&&(u.vertical="middle"),i(n(o),n(a))>i(n(l),n(d))?u.important="horizontal":u.important="vertical",t.using.call(this,e,u)}),r.offset(e.extend(S,{using:a}))}))},e.ui.position={fit:{left:function(e,t){var n,o=t.within,a=o.isWindow?o.scrollLeft:o.offset.left,r=o.width,s=e.left-t.collisionPosition.marginLeft,l=a-s,c=s+t.collisionWidth-r-a;t.collisionWidth>r?l>0&&c<=0?(n=e.left+l+t.collisionWidth-r-a,e.left+=l-n):e.left=c>0&&l<=0?a:l>c?a+r-t.collisionWidth:a:l>0?e.left+=l:c>0?e.left-=c:e.left=i(e.left-s,e.left)},top:function(e,t){var n,o=t.within,a=o.isWindow?o.scrollTop:o.offset.top,r=t.within.height,s=e.top-t.collisionPosition.marginTop,l=a-s,c=s+t.collisionHeight-r-a;t.collisionHeight>r?l>0&&c<=0?(n=e.top+l+t.collisionHeight-r-a,e.top+=l-n):e.top=c>0&&l<=0?a:l>c?a+r-t.collisionHeight:a:l>0?e.top+=l:c>0?e.top-=c:e.top=i(e.top-s,e.top)}},flip:{left:function(e,t){var i,o,a=t.within,r=a.offset.left+a.scrollLeft,s=a.width,l=a.isWindow?a.scrollLeft:a.offset.left,c=e.left-t.collisionPosition.marginLeft,d=c-l,u=c+t.collisionWidth-s-l,h="left"===t.my[0]?-t.elemWidth:"right"===t.my[0]?t.elemWidth:0,p="left"===t.at[0]?t.targetWidth:"right"===t.at[0]?-t.targetWidth:0,m=-2*t.offset[0];d<0?((i=e.left+h+p+m+t.collisionWidth-s-r)<0||i<n(d))&&(e.left+=h+p+m):u>0&&((o=e.left-t.collisionPosition.marginLeft+h+p+m-l)>0||n(o)<u)&&(e.left+=h+p+m)},top:function(e,t){var i,o,a=t.within,r=a.offset.top+a.scrollTop,s=a.height,l=a.isWindow?a.scrollTop:a.offset.top,c=e.top-t.collisionPosition.marginTop,d=c-l,u=c+t.collisionHeight-s-l,h="top"===t.my[1]?-t.elemHeight:"bottom"===t.my[1]?t.elemHeight:0,p="top"===t.at[1]?t.targetHeight:"bottom"===t.at[1]?-t.targetHeight:0,m=-2*t.offset[1];d<0?((o=e.top+h+p+m+t.collisionHeight-s-r)<0||o<n(d))&&(e.top+=h+p+m):u>0&&((i=e.top-t.collisionPosition.marginTop+h+p+m-l)>0||n(i)<u)&&(e.top+=h+p+m)}},flipfit:{left:function(){e.ui.position.flip.left.apply(this,arguments),e.ui.position.fit.left.apply(this,arguments)},top:function(){e.ui.position.flip.top.apply(this,arguments),e.ui.position.fit.top.apply(this,arguments)}}}}();e.ui.position,e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo((function(t){return function(i){return!!e.data(i,t)}})):function(t,i,n){return!!e.data(t,n[3])}});
/*!
 * jQuery UI :data 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
/*!
 * jQuery UI Focusable 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
e.ui.focusable=function(t,i){var n,o,a,r,s,l=t.nodeName.toLowerCase();return"area"===l?(o=(n=t.parentNode).name,!(!t.href||!o||"map"!==n.nodeName.toLowerCase())&&((a=e("img[usemap='#"+o+"']")).length>0&&a.is(":visible"))):(/^(input|select|textarea|button|object)$/.test(l)?(r=!t.disabled)&&(s=e(t).closest("fieldset")[0])&&(r=!s.disabled):r="a"===l&&t.href||i,r&&e(t).is(":visible")&&function(e){var t=e.css("visibility");for(;"inherit"===t;)e=e.parent(),t=e.css("visibility");return"hidden"!==t}(e(t)))},e.extend(e.expr[":"],{focusable:function(t){return e.ui.focusable(t,null!=e.attr(t,"tabindex"))}});e.ui.focusable,e.extend(e.expr[":"],{tabbable:function(t){var i=e.attr(t,"tabindex"),n=null!=i;return(!n||i>=0)&&e.ui.focusable(t,n)}});
/*!
 * jQuery UI Tabbable 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */})),function(){"use strict";"undefined"!=typeof moment&&moment.locale(document.documentElement.lang||window.navigator.language||"en")}(),function(){var e=function(e){var t=e.bind(this);return t._methodName=e._methodName,this[t._methodName]=t,t},t=function(e){return e.extend=this,new Class(e)};Class=function(i){if((i=i||{}).hasOwnProperty("extend")&&!i.extend)throw new Class.NonTruthyExtendError("function"==typeof i.toString?i.toString():i.toString);var n=i.extend||Object,o=i.construct,a=i.destruct;if(delete i.bind,delete i.extend,delete i.destruct,delete i.construct,i._construct=o,i._destruct=a,i.hasOwnProperty("toString")&&"function"!=typeof i.toString){var r=i.toString;i.toString=function(){return r.toString()}}else!i.hasOwnProperty("toString")&&n.prototype.hasOwnProperty("toString")&&(i.toString=n.prototype.toString);var s=i,l=Object.create(n&&n.prototype);if(l.superClass=n.prototype,s)for(var c in s)s.hasOwnProperty(c)&&(l[c]=s[c],"function"==typeof s[c]&&(l[c]._methodName=c,l[c]._parentProto=l));l.inherited=function(e){var t=e.callee,i=t._methodName;if(!i)throw new Class.MissingCalleeError(this.toString());for(var n=t._parentProto,o=null;n.superClass&&"function"!=typeof(o=(n=n.superClass)[i]););if("function"==typeof o){var a=this.inherited;this.inherited=n.inherited;var r=o.apply(this,e);return this.inherited=a,r}throw new Class.InheritedMethodNotFoundError(this.toString(),i)},l.bind=e,l.destruct=function(){"function"==typeof a&&a.apply(this);for(var e=[],t=this.superClass;t;){if("function"==typeof t._destruct&&e.push(t._destruct),t===t.superClass)throw new Class.InfiniteInheritanceLoopError(t.toString());t=t.superClass}for(var i=0;i<e.length;i++)e[i].apply(this)},l.construct=function(e){var t=Array.prototype.slice.call(arguments);void 0===t[0]&&(t[0]={});for(var i=[],n=this.superClass;n;){if("function"==typeof n._construct&&i.push(n._construct),n===n.superClass)throw new Class.InfiniteInheritanceLoopError(n.toString());n=n.superClass}for(var a=i.length-1;a>=0;a--)i[a].apply(this,t);"function"==typeof o&&o.apply(this,t)};var d=function(){var e=Object.create(l);return l.construct.apply(e,arguments),e};return d.toString=l.toString,d.prototype=l,d.extend=t,l.constructor=d,d},Object.create||(Object.create=function(e){if(arguments.length>1)throw new Error("Object.create implementation only accepts the first parameter.");function t(){}return t.prototype=e,new t}),Function.prototype.bind||(Function.prototype.bind=function(e){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var t=Array.prototype.slice.call(arguments,1),i=this,n=function(){},o=function(){return i.apply(this instanceof n?this:e,t.concat(Array.prototype.slice.call(arguments)))};return n.prototype=this.prototype,o.prototype=new n,o});var i=(Exception=new Class({extend:Error,construct:function(){this.name="Error",this.message="General exception"},toString:function(){return this.name+": "+this.message}})).extend({name:"Class Exception"});Class.NonTruthyExtendError=i.extend({construct:function(e){this.message=e+" attempted to extend a non-truthy object"}}),Class.InheritedMethodNotFoundError=i.extend({construct:function(e,t){this.message=e+" can't call method '"+t+"', no method defined in parent classes"}}),Class.MissingCalleeError=i.extend({construct:function(e){this.message=e+" can't call inherited method: calling method did not have _methodName"}}),Class.InfiniteInheritanceLoopError=i.extend({construct:function(e){this.message=e+" seems to inherit from itself, cannot construct an object"}})}(),
/*!
* toe.js
* version 3.0.2
* author: Damien Antipa
* https://github.com/dantipa/toe.js
*/
function(e,t,i){var n,o={},a={active:!1,on:function(){e(document).on("touchstart",s).on("touchmove",l).on("touchend touchcancel",c),a.active=!0},off:function(){e(document).off("touchstart",s).off("touchmove",l).off("touchend touchcancel",c),a.active=!1},track:function(e,t){o[e]=t},addEventParam:function(t,i){var n=e(t.target).offset(),o={pageX:t.point[0].x,pageY:t.point[0].y,offsetX:n.left-t.point[0].x,offsetY:n.top-t.point[0].y};return e.extend(o,i)},Event:function(t){var i={type:t.type,timestamp:(new Date).getTime(),target:t.target,point:[]},n=t.changedTouches||t.originalEvent.changedTouches||t.touches||t.originalEvent.touches;return e.each(n,(function(e,t){i.point.push({x:t.pageX,y:t.pageY})})),i},State:function(e){e.point[0];return{start:e,move:[],end:null}},calc:{getDuration:function(e,t){return t.timestamp-e.timestamp},getDistance:function(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},getAngle:function(e,t){return 180*Math.atan2(t.y-e.y,t.x-e.x)/Math.PI},getDirection:function(e){return e<-45&&e>-135?"top":e>=-45&&e<=45?"right":e>=45&&e<135?"down":e>=135||e<=-135?"left":"unknown"},getScale:function(e,t){var i=e.point,n=t.point;return 2===i.length&&2===n.length?(Math.sqrt(Math.pow(n[0].x-n[1].x,2)+Math.pow(n[0].y-n[1].y,2))/Math.sqrt(Math.pow(i[0].x-i[1].x,2)+Math.pow(i[0].y-i[1].y,2))).toFixed(2):0},getRotation:function(e,t){var i=e.point,n=t.point;return 2===i.length&&2===n.length?(180*Math.atan2(n[0].y-n[1].y,n[0].x-n[1].x)/Math.PI-180*Math.atan2(i[0].y-i[1].y,i[0].x-i[1].x)/Math.PI).toFixed(2):0}}};function r(t,i,n,a){e.each(o,(function(e,o){o[t].call(this,i,n,a)}))}function s(e){var t=a.Event(e);r("touchstart",e,n=a.State(t),t)}function l(e){var t=a.Event(e);n.move.push(t),r("touchmove",e,n,t)}function c(e){var t=a.Event(e);n.end=t,r("touchend",e,n,t)}a.on(),e.toe=a}(jQuery),function(e,t,i,n){var o={distance:40,duration:1200,direction:"all"};t.track("swipe",{touchstart:function(e,t,i){t.swipe={finger:i.point.length}},touchmove:function(e,t,i){t.swipe.finger=i.point.length>t.swipe.finger?i.point.length:t.swipe.finger},touchend:function(i,n,a){var r,s,l=e.extend(o,i.data);r=t.calc.getDuration(n.start,a),s=t.calc.getDistance(n.start.point[0],a.point[0]),r<l.duration&&s>l.distance&&(n.swipe.angle=t.calc.getAngle(n.start.point[0],a.point[0]),n.swipe.direction=t.calc.getDirection(n.swipe.angle),"all"!==l.direction&&n.swipe.direction!==l.direction||e(i.target).trigger(e.Event("swipe",t.addEventParam(n.start,n.swipe))))}})}(jQuery,jQuery.toe),function(e,t,i,n){var o={distance:10,duration:300,finger:1};t.track("tap",{touchstart:function(e,t,i){t.tap={finger:i.point.length}},touchmove:function(e,t,i){t.tap.finger=i.point.length>t.tap.finger?i.point.length:t.tap.finger},touchend:function(i,n,a){var r,s,l=e.extend(o,i.data);r=t.calc.getDuration(n.start,a),s=t.calc.getDistance(n.start.point[0],a.point[0]),r<l.duration&&s<l.distance&&n.tap.finger===l.finger&&e(i.target).trigger(e.Event("tap",t.addEventParam(n.start,n.tap)))}})}(jQuery,jQuery.toe),function(e,t,i,n){var o,a,r={distance:20,duration:500,finger:1};t.track("taphold",{touchstart:function(i,n,s){var l=e.extend(r,i.data);a=!1,n.taphold={finger:s.point.length},clearTimeout(o),o=setTimeout((function(){!a&&t.active&&n.taphold.finger===l.finger&&e(i.target).trigger(e.Event("taphold",t.addEventParam(s,n.taphold)))}),l.duration)},touchmove:function(i,n,o){var s=e.extend(r,i.data);n.taphold.finger=o.point.length>n.taphold.finger?o.point.length:n.taphold.finger,t.calc.getDistance(n.start.point[0],o.point[0])>s.distance&&(a=!0)},touchend:function(e,t,i){a=!0,clearTimeout(o)}})}(jQuery,jQuery.toe),function(e,t,i,n){var o,a="transform",r={scale:.1,rotation:15};t.track(a,{touchstart:function(e,t,i){o=!1,t[a]={start:i,move:[]}},touchmove:function(i,n,s){var l=e.extend(r,i.data);2===s.point.length&&(n[a].move.push(s),2!==n[a].start.point.length&&2===s.point.length&&(n[a].start=e.extend({},s)),n[a].rotation=t.calc.getRotation(n[a].start,s),n[a].scale=t.calc.getScale(n[a].start,s),(Math.abs(1-n[a].scale)>l.scale||Math.abs(n[a].rotation)>l.rotation)&&(o||(e(i.target).trigger(e.Event("transformstart",n[a])),o=!0),e(i.target).trigger(e.Event("transform",n[a]))))},touchend:function(i,n,r){o&&(o=!1,2!==r.point.length&&(n.end=e.extend({},n[a].move[n[a].move.length-1])),n[a].rotation=t.calc.getRotation(n[a].start,n.end),n[a].scale=t.calc.getScale(n[a].start,n.end),e(i.target).trigger(e.Event("transformend",n[a])))}})}(jQuery,jQuery.toe),function(e,t,i){"use strict";t.CUI=t.CUI||{},CUI.options=e.extend({debug:!1,dataAPI:!0},CUI.options),e((function(){e(document).trigger("cui-contentloaded")}))}(jQuery,this),function(e,t,i){"use strict";var n=1,o=function(){return!/Windows NT 6\.[123];.*Chrome/.test(t.navigator.userAgent)&&"ontouchstart"in t};CUI.util={_isTouch:o,isTouch:o(),getNextId:function(){return"coral-"+n++},getDataTarget:function(t){var i=t.attr("href");return e(t.attr("data-target")||i&&i.replace(/.*(?=#[^\s]+$)/,""))},decapitalize:function(e){return e.slice(0,1).toLowerCase()+e.slice(1)},capitalize:function(e){return e.slice(0,1).toUpperCase()+e.slice(1)},plugClass:function(t,i,n){i=i||CUI.util.decapitalize(t.toString()),e.fn[i]=function(o){var a=arguments;return this.each((function(){var r=e(this),s=e.extend({},r.data(),"object"==typeof o&&o,{element:this}),l=r.data(i)||new t(s);"string"==typeof o?l[o].apply(l,Array.prototype.slice.call(a,1)):e.isPlainObject(o)&&l.set(o),"function"==typeof n&&n.call(this,l)}))},e.fn[i].Constructor=t},buildFunction:function(e,t){if("string"==typeof(t=t||[])&&(t=[t]),e)try{return new Function(t,"return "+e+"("+t.join(", ")+");")}catch(e){return null}},selectText:function(t,i,n){var o=t.val();if(o.length>0){i=i||0,n=n||o.length;var a=e(t)[0];if(a.setSelectionRange)a.blur(),a.setSelectionRange(i,n),a.focus();else if(a.createTextRange){var r=a.createTextRange();r.collapse(!0),r.moveEnd("character",n-o.length),r.moveStart("character",i),r.select()}}},getNested:function(e,t){if(!t)return e;for(var i="string"==typeof t?t.split("."):t,n=e;n&&i.length>0;)n=n[i.shift()];return n},isTrue:function(e){return"true"===e}},e("html").toggleClass("touch",CUI.util.isTouch)}(jQuery,this),function(e,t,i){"use strict";e.fn.loadWithSpinner=function(t,i,n){var o=e(this);if(t&&(i||o.data("loaded-remote")!==t)){var a=setTimeout((function(){o.html('<div class="spinner large"></div>')}),50);o.load(t,(function(e,t,i){clearTimeout(a),"error"===t&&(o.html('<div class="alert error"><strong>ERROR</strong> Failed to load content: '+i.statusText+" ("+i.status+")</div>"),o.data("loaded-remote","")),"function"==typeof n&&n.call(this,e,t,i)})),o.data("loaded-remote",t)}},e.fn.finger=function(){return CUI.util.isTouch&&this.on.apply(this,arguments),this},e.fn.pointer=function(){return CUI.util.isTouch||this.on.apply(this,arguments),this},e.fn.fipo=function(){var e=Array.prototype.slice.call(arguments,1,arguments.length);return this.pointer.apply(this,e),e[0]=arguments[0],this.finger.apply(this,e),this}}(jQuery),function(e,t,i){"use strict";CUI.Widget=new Class({toString:"Widget",construct:function(i){this.$element=e(i.element);var n=CUI.util.decapitalize(this.toString());if(void 0!==this.$element.data(n)){var o=["An instance of",this,"is already attached to the specified target element.","Future versions of CoralUI will throw an exception at this point."].join(" ");t.console.log(o)}this.options=e.extend({},"object"==typeof this.defaults&&this.defaults,this.$element.data(),i),this.$element.data(n,this),this.bind(this.hide),this.bind(this.show),this.bind(this.toggleVisibility),this.on("change:visible",function(e){this[e.value?"_show":"_hide"]()}.bind(this))},set:function(t,i){if(e.isPlainObject(t))for(var n in t)this._set(n,t[n]);else this._set(t,i);return this},_set:function(t,i){var n=e.Event("beforeChange:"+t,{widget:this,option:t,currentValue:this.options[t],value:i});if(this.$element.trigger(n),n.isDefaultPrevented())return this;this.options[t]=i,n=e.Event("change:"+t,{widget:this,option:t,value:i}),this.$element.trigger(n)},get:function(e){return this.options[e]},on:function(e,t){return this.$element.on.apply(this.$element,arguments),this},off:function(e,t){return this.$element.off.apply(this.$element,arguments),this},show:function(t){if(t=t||{},this.options.visible)return this;if(!t.silent){var i=e.Event("show");if(this.$element.trigger(i),i.isDefaultPrevented())return this}return this.options.visible=!0,this._show(t),this},_show:function(e){this.$element.show()},hide:function(t){if(t=t||{},!this.options.visible)return this;if(!t.silent){var i=e.Event("hide");if(this.$element.trigger(i),i.isDefaultPrevented())return this}return this.options.visible=!1,this._hide(t),this},_hide:function(e){this.$element.hide()},toggleVisibility:function(){return this[this.options.visible?"hide":"show"]()},setName:function(e){return this.toString=function(){return e},this}}),CUI.Widget.fromElement=function(e,t){return t.data(CUI.util.decapitalize(e.toString()))},CUI.Widget.registry={register:function(e,t){CUI.util.plugClass(t),this._widgets[e]=t,t.init=function(e){this._init(t,e)}.bind(this)},resolve:function(e){return this._widgets[e]},init:function(e,t){this._init(this.resolve(e),t)},getSelectors:function(){var e=[];for(var t in this._widgets)e.push(t);return e},_widgets:{},_init:function(t,i){void 0!==t&&i.each((function(){var i=e(this);void 0===CUI.Widget.fromElement(t,i)&&new t({element:i})}))}}}(jQuery,this),window.Coral=window.Coral||{},window.Coral.templates=window.Coral.templates||{},window.Coral.templates.commons=window.Coral.templates.commons||{},window.Coral.templates.commons.resizeListener=function(e){var t=document.createElement("object");return t.setAttribute("aria-hidden","true"),t.setAttribute("tabindex","-1"),t.setAttribute("style","display:block; position:absolute; top:0; left:0; height:100%; width:100%; opacity:0; overflow:hidden; z-index:-100;"),t.textContent="​",t},"hidden"in document.createElement("div")||Object.defineProperty(HTMLElement.prototype,"hidden",{get:function(){return this.hasAttribute("hidden")},set:function(e){e?this.setAttribute("hidden",""):this.removeAttribute("hidden")},configurable:!0}),Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),i=t.length;--i>=0&&t.item(i)!==this;);return i>-1}),Element.prototype.closest||(Element.prototype.closest=function(e){for(var t=this;t;){if(t.matches(e))return t;t=t.parentElement}return null});var supportsPreventScrollOption=!1;try{var focusElem=document.createElement("div");focusElem.addEventListener("focus",(function(e){e.preventDefault(),e.stopPropagation()}),!0),focusElem.focus(Object.defineProperty({},"preventScroll",{get:function(){supportsPreventScrollOption=!0}}))}catch(e){}if(void 0===HTMLElement.prototype.nativeFocus&&!supportsPreventScrollOption){HTMLElement.prototype.nativeFocus=HTMLElement.prototype.focus;var getScrollParent=function(e){var t=e instanceof HTMLElement&&window.getComputedStyle(e).overflowY;return e?"visible"!==t&&"hidden"!==t&&e.scrollHeight>=e.clientHeight?e:getScrollParent(e.parentNode)||document.body:null},patchedFocus=function(e){var t=getScrollParent(this),i=t.scrollTop;this.nativeFocus(),e&&e.preventScroll&&setTimeout((function(){t.scrollTop=i}),0)};HTMLElement.prototype.focus=patchedFocus}
/**
 * @license
 * Copyright (c) 2014 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
 */"undefined"==typeof WeakMap&&function(){var e=Object.defineProperty,t=Date.now()%1e9,i=function(){this.name="__st"+(1e9*Math.random()>>>0)+t+++"__"};i.prototype={set:function(t,i){var n=t[this.name];return n&&n[0]===t?n[1]=i:e(t,this.name,{value:[t,i],writable:!0}),this},get:function(e){var t;return(t=e[this.name])&&t[0]===e?t[1]:void 0},delete:function(e){var t=e[this.name];return!(!t||t[0]!==e||(t[0]=t[1]=void 0,0))},has:function(e){var t=e[this.name];return!!t&&t[0]===e}},window.WeakMap=i}(),function(e){function t(e){v.push(e),g||(g=!0,d(i))}function i(){g=!1;var e=v;v=[],e.sort((function(e,t){return e.uid_-t.uid_}));var t=!1;e.forEach((function(e){var i=e.takeRecords();(function(e){e.nodes_.forEach((function(t){var i=u.get(t);i&&i.forEach((function(t){t.observer===e&&t.removeTransientObservers()}))}))})(e),i.length&&(e.callback_(i,e),t=!0)})),t&&i()}function n(e,t){for(var i=e;i;i=i.parentNode){var n=u.get(i);if(n)for(var o=0;o<n.length;o++){var a=n[o],r=a.options;if(i===e||r.subtree){var s=t(r);s&&a.enqueue(s)}}}}function o(e){this.callback_=e,this.nodes_=[],this.records_=[],this.uid_=++b}function a(e,t){this.type=e,this.target=t,this.addedNodes=[],this.removedNodes=[],this.previousSibling=null,this.nextSibling=null,this.attributeName=null,this.attributeNamespace=null,this.oldValue=null}function r(e,t){return m=new a(e,t)}function s(e){return f||((f=function(e){var t=new a(e.type,e.target);return t.addedNodes=e.addedNodes.slice(),t.removedNodes=e.removedNodes.slice(),t.previousSibling=e.previousSibling,t.nextSibling=e.nextSibling,t.attributeName=e.attributeName,t.attributeNamespace=e.attributeNamespace,t.oldValue=e.oldValue,t}(m)).oldValue=e,f)}function l(e,t){return e===t?e:f&&function(e){return e===f||e===m}(e)?f:null}function c(e,t,i){this.observer=e,this.target=t,this.options=i,this.transientObservedNodes=[]}if(!e.JsMutationObserver){var d,u=new WeakMap;if(/Trident|Edge/.test(navigator.userAgent))d=setTimeout;else if(window.setImmediate)d=window.setImmediate;else{var h=[],p=String(Math.random());window.addEventListener("message",(function(e){if(e.data===p){var t=h;h=[],t.forEach((function(e){e()}))}})),d=function(e){h.push(e),window.postMessage(p,"*")}}var m,f,g=!1,v=[],b=0;o.prototype={observe:function(e,t){if(e=function(e){return window.ShadowDOMPolyfill&&window.ShadowDOMPolyfill.wrapIfNeeded(e)||e}(e),!t.childList&&!t.attributes&&!t.characterData||t.attributeOldValue&&!t.attributes||t.attributeFilter&&t.attributeFilter.length&&!t.attributes||t.characterDataOldValue&&!t.characterData)throw new SyntaxError;var i=u.get(e);i||u.set(e,i=[]);for(var n,o=0;o<i.length;o++)if(i[o].observer===this){(n=i[o]).removeListeners(),n.options=t;break}n||(n=new c(this,e,t),i.push(n),this.nodes_.push(e)),n.addListeners()},disconnect:function(){this.nodes_.forEach((function(e){for(var t=u.get(e),i=0;i<t.length;i++){var n=t[i];if(n.observer===this){n.removeListeners(),t.splice(i,1);break}}}),this),this.records_=[]},takeRecords:function(){var e=this.records_;return this.records_=[],e}},c.prototype={enqueue:function(e){var i=this.observer.records_,n=i.length;if(i.length>0){var o=l(i[n-1],e);if(o)return void(i[n-1]=o)}else t(this.observer);i[n]=e},addListeners:function(){this.addListeners_(this.target)},addListeners_:function(e){var t=this.options;t.attributes&&e.addEventListener("DOMAttrModified",this,!0),t.characterData&&e.addEventListener("DOMCharacterDataModified",this,!0),t.childList&&e.addEventListener("DOMNodeInserted",this,!0),(t.childList||t.subtree)&&e.addEventListener("DOMNodeRemoved",this,!0)},removeListeners:function(){this.removeListeners_(this.target)},removeListeners_:function(e){var t=this.options;t.attributes&&e.removeEventListener("DOMAttrModified",this,!0),t.characterData&&e.removeEventListener("DOMCharacterDataModified",this,!0),t.childList&&e.removeEventListener("DOMNodeInserted",this,!0),(t.childList||t.subtree)&&e.removeEventListener("DOMNodeRemoved",this,!0)},addTransientObserver:function(e){if(e!==this.target){this.addListeners_(e),this.transientObservedNodes.push(e);var t=u.get(e);t||u.set(e,t=[]),t.push(this)}},removeTransientObservers:function(){var e=this.transientObservedNodes;this.transientObservedNodes=[],e.forEach((function(e){this.removeListeners_(e);for(var t=u.get(e),i=0;i<t.length;i++)if(t[i]===this){t.splice(i,1);break}}),this)},handleEvent:function(e){switch(e.stopImmediatePropagation(),e.type){case"DOMAttrModified":var t=e.attrName,i=e.relatedNode.namespaceURI,o=e.target;(l=new r("attributes",o)).attributeName=t,l.attributeNamespace=i;var a=e.attrChange===MutationEvent.ADDITION?null:e.prevValue;n(o,(function(e){if(e.attributes&&(!e.attributeFilter||!e.attributeFilter.length||-1!==e.attributeFilter.indexOf(t)||-1!==e.attributeFilter.indexOf(i)))return e.attributeOldValue?s(a):l}));break;case"DOMCharacterDataModified":var l=r("characterData",o=e.target);a=e.prevValue;n(o,(function(e){if(e.characterData)return e.characterDataOldValue?s(a):l}));break;case"DOMNodeRemoved":this.addTransientObserver(e.target);case"DOMNodeInserted":var c,d,u=e.target;"DOMNodeInserted"===e.type?(c=[u],d=[]):(c=[],d=[u]);var h=u.previousSibling,p=u.nextSibling;(l=r("childList",e.target.parentNode)).addedNodes=c,l.removedNodes=d,l.previousSibling=h,l.nextSibling=p,n(e.relatedNode,(function(e){if(e.childList)return l}))}m=f=void 0}},e.JsMutationObserver=o,e.MutationObserver||(e.MutationObserver=o,o._isPolyfilled=!0)}}(self),function(e){"use strict";if(!window.performance||!window.performance.now){var t=Date.now();window.performance={now:function(){return Date.now()-t}}}if(window.requestAnimationFrame||(window.requestAnimationFrame=function(){var e=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame;return e?function(t){return e((function(){t(performance.now())}))}:function(e){return window.setTimeout(e,1e3/60)}}()),window.cancelAnimationFrame||(window.cancelAnimationFrame=window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||function(e){clearTimeout(e)}),!function(){var e=document.createEvent("Event");return e.initEvent("foo",!0,!0),e.preventDefault(),e.defaultPrevented}()){var i=Event.prototype.preventDefault;Event.prototype.preventDefault=function(){this.cancelable&&(i.call(this),Object.defineProperty(this,"defaultPrevented",{get:function(){return!0},configurable:!0}))}}var n=/Trident/.test(navigator.userAgent);if((!window.CustomEvent||n&&"function"!=typeof window.CustomEvent)&&(window.CustomEvent=function(e,t){t=t||{};var i=document.createEvent("CustomEvent");return i.initCustomEvent(e,Boolean(t.bubbles),Boolean(t.cancelable),t.detail),i},window.CustomEvent.prototype=window.Event.prototype),!window.Event||n&&"function"!=typeof window.Event){var o=window.Event;window.Event=function(e,t){t=t||{};var i=document.createEvent("Event");return i.initEvent(e,Boolean(t.bubbles),Boolean(t.cancelable)),i},window.Event.prototype=o.prototype}}(window.WebComponents),window.CustomElements=window.CustomElements||{flags:{}},function(e){var t=e.flags,i=[];e.addModule=function(e){i.push(e)},e.initializeModules=function(){i.forEach((function(t){t(e)}))},e.hasNative=Boolean(document.registerElement),e.isIE=/Trident/.test(navigator.userAgent),e.useNative=!t.register&&e.hasNative&&!window.ShadowDOMPolyfill&&(!window.HTMLImports||window.HTMLImports.useNative)}(window.CustomElements),window.CustomElements.addModule((function(e){function t(e,t){(function e(t,i,n){var o=t.firstElementChild;if(!o)for(o=t.firstChild;o&&o.nodeType!==Node.ELEMENT_NODE;)o=o.nextSibling;for(;o;)!0!==i(o,n)&&e(o,i,n),o=o.nextElementSibling;return null})(e,(function(e){return!!t(e)||void i(e,t)})),i(e,t)}function i(e,i){for(var n=e.shadowRoot;n;)t(n,i),n=n.olderShadowRoot}var n=window.HTMLImports?window.HTMLImports.IMPORT_LINK_TYPE:"none";e.forDocumentTree=function(e,t){!function e(t,i,o){if(t=window.wrap(t),!(o.indexOf(t)>=0)){o.push(t);for(var a,r=t.querySelectorAll("link[rel="+n+"]"),s=0,l=r.length;s<l&&(a=r[s]);s++)a.import&&e(a.import,i,o);i(t)}}(e,t,[])},e.forSubtree=t})),window.CustomElements.addModule((function(e){function t(e,t){return i(e,t)||n(e,t)}function i(t,i){return!!e.upgrade(t,i)||void(i&&r(t))}function n(e,t){m(e,(function(e){if(i(e,t))return!0}))}function o(e){b.push(e),v||(v=!0,setTimeout(a))}function a(){v=!1;for(var e,t=b,i=0,n=t.length;i<n&&(e=t[i]);i++)e();b=[]}function r(e){g?o((function(){s(e)})):s(e)}function s(e){e.__upgraded__&&!e.__attached&&(e.__attached=!0,e.attachedCallback&&e.attachedCallback())}function l(e){g?o((function(){c(e)})):c(e)}function c(e){e.__upgraded__&&e.__attached&&(e.__attached=!1,e.detachedCallback&&e.detachedCallback())}function d(e,i){if(p.dom){var n=i[0];if(n&&"childList"===n.type&&n.addedNodes&&n.addedNodes){for(var o=n.addedNodes[0];o&&o!==document&&!o.host;)o=o.parentNode;var a=o&&(o.URL||o._URL||o.host&&o.host.localName)||"";a=a.split("/?").shift().split("/").pop()}console.group("mutations (%d) [%s]",i.length,a||"")}var r=function(e){for(var t=e,i=window.wrap(document);t;){if(t==i)return!0;t=t.parentNode||t.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&t.host}}(e);i.forEach((function(e){"childList"===e.type&&(_(e.addedNodes,(function(e){e.localName&&t(e,r)})),_(e.removedNodes,(function(e){e.localName&&function(e){l(e),m(e,(function(e){l(e)}))}(e)})))})),p.dom&&console.groupEnd()}function u(e){if(!e.__observer){var t=new MutationObserver(d.bind(this,e));t.observe(e,{childList:!0,subtree:!0}),e.__observer=t}}function h(e){e=window.wrap(e),p.dom&&console.group("upgradeDocument: ",e.baseURI.split("/").pop()),t(e,e===window.wrap(document)),u(e),p.dom&&console.groupEnd()}var p=e.flags,m=e.forSubtree,f=e.forDocumentTree,g=window.MutationObserver._isPolyfilled&&p["throttle-attached"];e.hasPolyfillMutations=g,e.hasThrottledAttached=g;var v=!1,b=[],_=Array.prototype.forEach.call.bind(Array.prototype.forEach),C=Element.prototype.createShadowRoot;C&&(Element.prototype.createShadowRoot=function(){var e=C.call(this);return window.CustomElements.watchShadow(this),e}),e.watchShadow=function(e){if(e.shadowRoot&&!e.shadowRoot.__watched){p.dom&&console.log("watching shadow-root for: ",e.localName);for(var t=e.shadowRoot;t;)u(t),t=t.olderShadowRoot}},e.upgradeDocumentTree=function(e){f(e,h)},e.upgradeDocument=h,e.upgradeSubtree=n,e.upgradeAll=t,e.attached=r,e.takeRecords=function(e){for((e=window.wrap(e))||(e=window.wrap(document));e.parentNode;)e=e.parentNode;var t=e.__observer;t&&(d(e,t.takeRecords()),a())}})),window.CustomElements.addModule((function(e){function t(t,o,a){return n.upgrade&&console.group("upgrade:",t.localName),o.is&&t.setAttribute("is",o.is),i(t,o),t.__upgraded__=!0,function(e){e.createdCallback&&e.createdCallback()}(t),a&&e.attached(t),e.upgradeSubtree(t,a),n.upgrade&&console.groupEnd(),t}function i(e,t){Object.__proto__||function(e,t,i){for(var n={},o=t;o!==i&&o!==HTMLElement.prototype;){for(var a,r=Object.getOwnPropertyNames(o),s=0;a=r[s];s++)n[a]||(Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(o,a)),n[a]=1);o=Object.getPrototypeOf(o)}}(e,t.prototype,t.native),e.__proto__=t.prototype}var n=e.flags;e.upgrade=function(i,n){if("template"===i.localName&&window.HTMLTemplateElement&&HTMLTemplateElement.decorate&&HTMLTemplateElement.decorate(i),!i.__upgraded__&&i.nodeType===Node.ELEMENT_NODE){var o=i.getAttribute("is"),a=e.getRegisteredDefinition(i.localName)||e.getRegisteredDefinition(o);if(a&&(o&&a.tag==i.localName||!o&&!a.extends))return t(i,a,n)}},e.upgradeWithDefinition=t,e.implementPrototype=i})),window.CustomElements.addModule((function(e){function t(e){if(!e.setAttribute._polyfilled){var t=e.setAttribute;e.setAttribute=function(e,n){i.call(this,e,n,t)};var n=e.removeAttribute;e.removeAttribute=function(e){i.call(this,e,null,n)},e.setAttribute._polyfilled=!0}}function i(e,t,i){e=e.toLowerCase();var n=this.getAttribute(e);i.apply(this,arguments);var o=this.getAttribute(e);this.attributeChangedCallback&&o!==n&&this.attributeChangedCallback(e,n,o)}function n(e){if(e)return m[e.toLowerCase()]}function o(e){return function(){return function(e){return d(g(e.tag),e)}(e)}}function a(e,t){e&&(e=e.toLowerCase()),t&&(t=t.toLowerCase());var i,o=n(t||e);if(o){if(e==o.tag&&t==o.is)return new o.ctor;if(!t&&!o.is)return new o.ctor}return t?((i=a(e)).setAttribute("is",t),i):(i=g(e),e.indexOf("-")>=0&&u(i,HTMLElement),i)}function r(e,t){var i=e[t];e[t]=function(){var e=i.apply(this,arguments);return c(e),e}}var s,l=(e.isIE,e.upgradeDocumentTree),c=e.upgradeAll,d=e.upgradeWithDefinition,u=e.implementPrototype,h=e.useNative,p=["annotation-xml","color-profile","font-face","font-face-src","font-face-uri","font-face-format","font-face-name","missing-glyph"],m={},f="http://www.w3.org/1999/xhtml",g=document.createElement.bind(document),v=document.createElementNS.bind(document);s=Object.__proto__||h?function(e,t){return e instanceof t}:function(e,t){if(e instanceof t)return!0;for(var i=e;i;){if(i===t.prototype)return!0;i=i.__proto__}return!1},r(Node.prototype,"cloneNode"),r(document,"importNode"),document.registerElement=function(i,a){var r=a||{};if(!i)throw new Error("document.registerElement: first argument `name` must not be empty");if(i.indexOf("-")<0)throw new Error("document.registerElement: first argument ('name') must contain a dash ('-'). Argument provided was '"+String(i)+"'.");if(function(e){for(var t=0;t<p.length;t++)if(e===p[t])return!0}(i))throw new Error("Failed to execute 'registerElement' on 'Document': Registration failed for type '"+String(i)+"'. The type name is invalid.");if(n(i))throw new Error("DuplicateDefinitionError: a type with name '"+String(i)+"' is already registered");return r.prototype||(r.prototype=Object.create(HTMLElement.prototype)),r.__name=i.toLowerCase(),r.extends&&(r.extends=r.extends.toLowerCase()),r.lifecycle=r.lifecycle||{},r.ancestry=function e(t){var i=n(t);return i?e(i.extends).concat([i]):[]}(r.extends),function(e){for(var t,i=e.extends,n=0;t=e.ancestry[n];n++)i=t.is&&t.tag;e.tag=i||e.__name,i&&(e.is=e.__name)}(r),function(e){if(!Object.__proto__){var t=HTMLElement.prototype;if(e.is){var i=document.createElement(e.tag);t=Object.getPrototypeOf(i)}for(var n,o=e.prototype,a=!1;o;)o==t&&(a=!0),(n=Object.getPrototypeOf(o))&&(o.__proto__=n),o=n;a||console.warn(e.tag+" prototype not found in prototype chain for "+e.is),e.native=t}}(r),t(r.prototype),function(e,t){m[e]=t}(r.__name,r),r.ctor=o(r),r.ctor.prototype=r.prototype,r.prototype.constructor=r.ctor,e.ready&&l(document),r.ctor},document.createElement=a,document.createElementNS=function(e,t,i){return e===f?a(t,i):v(e,t)},e.registry=m,e.instanceof=s,e.reservedTagList=p,e.getRegisteredDefinition=n,document.register=document.registerElement})),function(e){function t(){a(window.wrap(document)),window.CustomElements.ready=!0,(window.requestAnimationFrame||function(e){setTimeout(e,16)})((function(){setTimeout((function(){window.CustomElements.readyTime=Date.now(),window.HTMLImports&&(window.CustomElements.elapsed=window.CustomElements.readyTime-window.HTMLImports.readyTime),document.dispatchEvent(new CustomEvent("WebComponentsReady",{bubbles:!0}))}))}))}var i=e.useNative,n=e.initializeModules;if(e.isIE,i){var o=function(){};e.watchShadow=o,e.upgrade=o,e.upgradeAll=o,e.upgradeDocumentTree=o,e.upgradeSubtree=o,e.takeRecords=o,e.instanceof=function(e,t){return e instanceof t}}else n();var a=e.upgradeDocumentTree,r=e.upgradeDocument;if(window.wrap||(window.ShadowDOMPolyfill?(window.wrap=window.ShadowDOMPolyfill.wrapIfNeeded,window.unwrap=window.ShadowDOMPolyfill.unwrapIfNeeded):window.wrap=window.unwrap=function(e){return e}),window.HTMLImports&&(window.HTMLImports.__importsParsingHook=function(e){e.import&&r(wrap(e.import))}),"complete"===document.readyState||e.flags.eager)t();else if("interactive"!==document.readyState||window.attachEvent||window.HTMLImports&&!window.HTMLImports.ready){var s=window.HTMLImports&&!window.HTMLImports.ready?"HTMLImportsLoaded":"DOMContentLoaded";window.addEventListener(s,t)}else t()}(window.CustomElements),
/*! @source http://purl.eligrey.com/github/classList.js/blob/master/classList.js */
function(){"use strict";var e=document.createElement("_");if(e.classList.add("c1","c2"),!e.classList.contains("c2")){var t=function(e){var t=DOMTokenList.prototype[e];DOMTokenList.prototype[e]=function(e){var i,n=arguments.length;for(i=0;i<n;i++)e=arguments[i],t.call(this,e)}};t("add"),t("remove")}if(e.classList.toggle("c3",!1),e.classList.contains("c3")){var i=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(e,t){return 1 in arguments&&!this.contains(e)==!t?t:i.call(this,e)}}e=null}(),function(e){var t=0,i=/^\s*(>|:scope\s*>)/;function n(e,t){for(var i=0;i<t.length;i++)if(-1===e.indexOf(t[i]))return!1;return!0}function o(){this._ventPropagationStopped=!0,Event.prototype.stopPropagation.call(this)}function a(){this._ventImmediatePropagationStopped=!0,Event.prototype.stopImmediatePropagation.call(this)}var r=function(){var e=Element.prototype,t=e.matches||e.matchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector;if(!t)throw new Error("Vent: Browser does not support matchesSelector");return t}();function s(i){if(this===e)throw new Error("Vent must be invoked with the new keyword");var n;n="string"==typeof i?document.querySelector(i):i,this.root=n,this._listenersByType=Object.create(null),this._allListeners=[],this._executeCaptureListeners=this._executeCaptureListeners.bind(this),this._executeBubbleListeners=this._executeBubbleListeners.bind(this),this._id=this._id||t++}s.prototype._listenerMatchesRootTarget=function(e,t){return null===e.selector&&t===this.root},s.prototype._listenerMatchesDelegateTarget=function(e,t){return t!==document&&t!==this.root&&null!==e.selector&&(e.isScoped?r.call(t,'[__vent-id__="'+this._id+'"] '+e.selector):r.call(t,e.selector))},s.prototype._listenerMatchesEventPhase=function(e,t){return e.useCapture===t},s.prototype._executeListenersAtElement=function(e,t,i,n){var o;e:for(var a=0;a<t.length&&(o=t[a],"click"===i.type&&!0===e.disabled||!this._listenerMatchesRootTarget(o,e)&&!this._listenerMatchesDelegateTarget(o,e)||!this._listenerMatchesEventPhase(o,n)||(i.matchedTarget=e,!1===o.handler.call(e,i)&&(i.preventDefault(),i.stopPropagation()),!i._ventImmediatePropagationStopped));a++);},s.prototype._executeCaptureListeners=function(e){var t=this._listenersByType[e.type];if(!t)throw new Error("Vent: _executeListeners called in response to "+e.type+", but we are not listening to it");if(t.length){t=t.slice(),this._decorateEvent(e);var i=this._getPath(e);e:for(var n=i.length-1;n>=0&&t.length;n--){var o=i[n];if(this._executeListenersAtElement(o,t,e,!0),e._ventImmediatePropagationStopped||e._ventPropagationStopped)break e}}this._undecorateEvent(e)},s.prototype._executeBubbleListeners=function(e){var t=this._listenersByType[e.type];if(!t)throw new Error("Vent: _executeListeners called in response to "+e.type+", but we are not listening to it");if(t.length){t=t.slice(),this._decorateEvent(e);var i="focus"!==e.type&&"blur"!==e.type,n=this._getPath(e);e:for(var o=0;o<n.length&&t.length;o++){var a=n[o];if(this._executeListenersAtElement(a,t,e,!1),e._ventImmediatePropagationStopped||e._ventPropagationStopped)break e;if(!i)break e}}this._undecorateEvent(e),e["_ventPath"+this._id]=null},s.prototype._decorateEvent=function(e){e.stopPropagation=o,e.stopImmediatePropagation=a},s.prototype._undecorateEvent=function(e){e.stopPropagation=Event.prototype.stopPropagation,e.stopImmediatePropagation=Event.prototype.stopImmediatePropagation},s.prototype._getPath=function(e){if(e["_ventPath"+this._id])return e["_ventPath"+this._id];var t=e.target;t.nodeType===Node.TEXT_NODE&&(t=t.parentNode);for(var i=t,n=[];i&&i!==this.root;)n.push(i),i=i.parentNode;return n.push(this.root),e["_ventPath"+this._id]=n,n},s.prototype.on=function(e,t,n,o){if("function"==typeof t&&(o=n,n=t,t=null),"function"!=typeof n)throw new Error("Vent: Cannot add listener with non-function handler");t||(t=null),void 0===o&&(o="focus"===e||"blur"===e);var a=null,r=e.indexOf(".");-1!==r&&(a=e.slice(r+1).split("."),e=e.slice(0,r));var s=this._listenersByType[e];s||(s=this._listenersByType[e]=[],this.root.addEventListener(e,this._executeCaptureListeners,!0),this.root.addEventListener(e,this._executeBubbleListeners,!1));var l=function(e){return e&&i.test(e)}(t);l&&(t=t.replace(i,">"),this.root.setAttribute("__vent-id__",this._id));var c={eventName:e,handler:n,namespaces:a,selector:t,useCapture:o,isScoped:l};s.push(c),this._allListeners.push(c)},s.prototype.off=function(e,t,i,o){"function"==typeof t&&(o=i,i=t,t=null),void 0===e&&(e=null),void 0===t&&(t=null),void 0===i&&(i=null),void 0===o&&(o=null);var a,r,s=null;if(e){var l=e.indexOf(".");-1!==l&&(s=e.slice(l+1).split("."),e=e.slice(0,l))}""===e&&(e=null);for(var c=this._allListeners,d=0;d<c.length;d++)if(a=c[d],(null===e||a.eventName===e)&&(null===t||a.selector===t)&&(null===i||a.handler===i)&&(null===o||a.useCapture===o)&&(null===s||a.namespaces&&n(a.namespaces,s))){if(this._allListeners.splice(d,1),d--,!this._listenersByType[a.eventName])throw new Error("Vent: Missing listenersByType for "+a.eventName);if(-1===(r=this._listenersByType[a.eventName].indexOf(a)))throw new Error("Vent: Event existed in allEvents, but did not exist in listenersByType");var u=this._listenersByType[a.eventName];u.splice(r,1),0===u.length&&(this.root.removeEventListener(a.eventName,this._executeCaptureListeners,!0),this.root.removeEventListener(a.eventName,this._executeBubbleListeners,!1),this._listenersByType[a.eventName]=null)}return this},"function"==typeof CustomEvent?s.prototype.dispatch=function(e,t){void 0===(t=t||{}).bubbles&&(t.bubbles=!0),void 0===t.cancelable&&(t.cancelable=!0);var i=new CustomEvent(e,t);return this.root.dispatchEvent(i),i}:s.prototype.dispatch=function(e,t){void 0===(t=t||{}).bubbles&&(t.bubbles=!0),void 0===t.cancelable&&(t.cancelable=!0);var i=document.createEvent("CustomEvent");i.initCustomEvent(e,t.bubbles,t.cancelable,t.detail);var n=!this.root.dispatchEvent(i);if(n!==i.defaultPrevented){var o=Object.create(i);return Object.defineProperty(o,"defaultPrevented",{value:n}),o}return i},s.prototype.destroy=function(){this.destroyed||(this.off(),this._listenersByType=null,this._allListeners=null,this.root=null,this.destroyed=!0)},e.Vent=s}(window),(Coral=window.Coral=window.Coral||{}).strings=Coral.strings||{},Coral.strings.generic=Coral.strings.generic||{},Coral.events=new Vent(window),Coral.commons=Coral.commons||{},Coral.commons.extend=function(){"use strict";for(var e=arguments[0],t=1,i=arguments.length;t<i;t++){var n=arguments[t];for(var o in n)e[o]=n[o]}return e},Coral.commons.augment=function(){"use strict";var e,t=arguments[0],i=arguments.length,n=arguments[i-1];"function"==typeof n&&(e=n,i--);for(var o=1;o<i;o++){var a=arguments[o];for(var r in a)if(void 0!==t[r]){if("function"==typeof e){var s=e(t[r],a[r],r,t,a);void 0!==s&&(t[r]=s)}}else t[r]=a[r]}return t},Coral.commons.swapKeysAndValues=function(e){"use strict";var t={};for(var i in e)t[e[i]]=i;return t},Coral.commons.nextFrame=(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(e){"use strict";return window.setTimeout(e,1e3/60)}).bind(window),function(){"use strict";Coral.commons.transitionEnd=function(e,t){var i,n,o,a,r=!1,s=null,l={transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",MSTransition:"msTransitionEnd"},c=null,d=function(i){var n=void 0===i;r||(r=!0,clearTimeout(c),e.removeEventListener(s,d),t({target:e,cssTransitionSupported:!0,transitionStoppedByTimeout:n}))};for(i in l)if(void 0!==e.style[i]){s=l[i];break}if(null!==s){var u=0,h=(n=window.getComputedStyle(e).transitionDuration,o=parseFloat(n,10),(a=n.match(/m?s/))&&(a=a[0]),"s"===a?1e3*o:"ms"===a?o:0);0!==h&&(e.addEventListener(s,d),u=h+100),c=setTimeout(d,u)}}}(),function(){"use strict";var e=[],t=!1;function i(e,t){e&&window.CustomElements.upgradeAll(e),Coral.commons.nextFrame((function(){t(e)}))}window.addEventListener("WebComponentsReady",(function n(){var o;t=!0;for(var a=0,r=e.length;a<r;a++)i((o=e[a]).element,o.callback);e.splice(0,r),window.removeEventListener("WebComponentsReady",n)})),Coral.commons.ready=function(n,o){"function"==typeof n&&(o=n,n=window),t?i(n,o):e.push({element:n,callback:o})}}(),Coral.commons.setSubProperty=function(e,t,i){"use strict";var n=t.split("."),o=e;if(1!==n.length){for(;n.length>1;){var a=n.shift();if(!o[a])throw new Error("Coral.commons.setSubProperty: could not set "+t+", part "+a+" not found");o=o[a]}o[n.shift()]=i}else o[t]=i},Coral.commons.getSubProperty=function(e,t){"use strict";var i=t.split("."),n=e;if(1===i.length)return n[t];for(;i.length;){var o=i.shift();if(0!==i.length&&void 0===n[o])throw new Error("Coral.commons.getSubProperty: could not get "+t+", part "+o+" not found");n=n[o]}return n},function(){"use strict";function e(e,t,i){var n=typeof t;if("function"===n)t(e,i);else{if("object"!==n||null===t)throw new Error("Coral.commons.mixin: Cannot mix in "+n+" to "+e.toString());Coral.commons.extend(e,t)}}Coral.commons.mixin=function(t,i,n){if(Array.isArray(i))for(var o=0;o<i.length;o++)e(t,i[o],n);else e(t,i,n)}}(),function(){"use strict";var e=0;Coral.commons.getUID=function(){return"coral-id-"+e++}}(),function(){"use strict";function e(){}function t(e,t){return function(){var i=e.apply(this,arguments);return t.apply(this,arguments),i}}function i(e){return"function"==typeof e}Coral.commons.callAll=function(){var n=arguments[arguments.length-1];"number"!=typeof n&&(n=0);var o=arguments[n],a=Array.prototype.filter.call(arguments,i);return 2===a.length&&0===n?t(a[0],a[1]):1===a.length?a[0]:0===a.length?e:("function"!=typeof o&&(o=a[0]),function(){for(var e,t,i,n=0;n<a.length;n++)t=(i=a[n]).apply(this,arguments),i===o&&(e=t);return e})}}(),function(){"use strict";function e(){var e=navigator.userAgent.match(/Trident/)||navigator.userAgent.match(/Edge/);this.useNativeResizeSupport=document.attachEvent&&!e}var t;e.prototype._addTriggerElement=function(e,i){"static"===getComputedStyle(e).position&&(e.style.position="relative");var n=(t||(t=Coral.templates.commons.resizeListener.call()),t.cloneNode(!0));e._resizeTriggerElement=n,n.onload=function(t){var n=this.contentDocument,o=n.defaultView;o._originalElement=e,o._listenerFunction=i,o.addEventListener("resize",i),n.title="​",i({target:o})},n.type="text/html",e.appendChild(n),n.data="about:blank"},e.prototype._removeTriggerElement=function(e){if(e._resizeTriggerElement){var t=e._resizeTriggerElement;t.contentDocument&&t.contentDocument.defaultView&&t.contentDocument.defaultView.removeEventListener("resize",t.contentDocument.defaultView._listenerFunction),e._resizeTriggerElement=!e.removeChild(e._resizeTriggerElement)}},e.prototype._fireResizeListeners=function(e){var t=e.target||e.srcElement,i=t._originalElement||t;i._resizeListeners.forEach((function(t){t.call(i,e)}))},e.prototype.addResizeListener=function(e,t){e&&(this.useNativeResizeSupport?e.addEventListener("resize",t):(e._resizeListeners&&0!==e._resizeListeners.length||(e._resizeListeners=[],this._addTriggerElement(e,this._fireResizeListeners.bind(this))),e._resizeListeners.push(t)))},e.prototype.removeResizeListener=function(e,t){if(e)if(this.useNativeResizeSupport)e.removeEventListener("resize",t);else if(e._resizeListeners&&e._resizeTriggerElement){var i=e._resizeListeners.indexOf(t);-1!==i&&(e._resizeListeners.splice(i,1),e._resizeListeners.length||this._removeTriggerElement(e))}};var i=new e;Coral.commons.addResizeListener=i.addResizeListener.bind(i),Coral.commons.removeResizeListener=i.removeResizeListener.bind(i)}(),function(){"use strict";var e=["input:not([disabled])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[contenteditable]","[tabindex]"];Coral.commons.FOCUSABLE_ELEMENT_SELECTOR=e.join(","),e[e.length-1]+=':not([tabindex="-1"])',Coral.commons.TABBABLE_ELEMENT_SELECTOR=e.join(':not([tabindex="-1"]),')}(),Coral.transform={},Coral.transform.boolean=function(e){"use strict";return!!e},Coral.transform.booleanAttr=function(e){"use strict";return!(null==e)},Coral.transform.number=function(e){"use strict";return e=parseFloat(e),isNaN(e)?null:e},Coral.transform.float=function(e){"use strict";return/^(\-|\+)?([0-9]+(\.[0-9]+)?|Infinity)$/.test(e)?Number(e):null},Coral.transform.string=function(e){"use strict";return null==e?"":"string"==typeof e?e:String(e)},Coral.validate={},Coral.validate.valueMustChange=function(e,t){"use strict";return e!==t},Coral.validate.enumeration=function(e){"use strict";var t=Coral.commons.swapKeysAndValues(e);return function(e,i){return void 0!==t[e]}},Coral.property={},Coral.property.proxy=function(e){"use strict";var t=e.path;function i(e,i){Coral.commons.setSubProperty(this,t,e)}function n(){return Coral.commons.getSubProperty(this,t)}var o=function(o,a){var r="_"+a;return e.needsDOMSync?(e.sync=function(){Coral.commons.setSubProperty(this,t,this[r]),this[r]=void 0},e.set=function(e,t){this[r]=e},e.get=function(){return void 0===this[r]?Coral.commons.getSubProperty(this,t):this[r]}):(e.set=i,e.get=n,e.sync=null),e};return o.override=void 0===e.override||e.override,o},Coral.property.proxyAttr=function(e){"use strict";var t=e.attribute,i=e.handle,n=function(n,o){return Coral.commons.extend({attribute:t,set:function(e){this._elements[i][!1===e||null===e?"removeAttribute":"setAttribute"](t,e)},get:function(){return this._elements[i].getAttribute(t)}},e)};return n.override=void 0===e.override||e.override,n},Coral.property.contentZone=function(e){"use strict";var t=e.handle,i=e.tagName,n=e.set,o=e.get,a=e.insert;return function(r,s){return e.defaultContentZone&&Object.defineProperty(r,"defaultContentZone",{set:function(e){this[s]=e},get:function(){return this[s]}}),Coral.commons.extend({},e,{contentZone:!0,set:function(e){var o;if(e){if(!(e instanceof HTMLElement))throw new Error('DOMException: Failed to set the "'+s+'" property on "'+this.toString()+'": The provided value is not of type "HTMLElement".');if(i&&e.tagName.toLowerCase()!==i)throw new Error('DOMException: Failed to set the "'+s+'" property on "'+this.toString()+'": The new '+s+' element is of type "'+e.tagName+'". It must be a "'+i.toUpperCase()+'" element.');o=this._elements[t],a?(o&&o.parentNode&&o.parentNode.removeChild(o),a.call(this,e)):o&&o.parentNode?(console.warn(this._componentName+" does not define an insert method for content zone "+t+", falling back to replace."),this._elements[t].parentNode.replaceChild(e,this._elements[t])):(console.error(this._componentName+" does not define an insert method for content zone "+t+", falling back to append."),this.appendChild(e))}else(o=this._elements[t])&&o.parentNode&&o.parentNode.removeChild(o);this._elements[t]=e,"function"==typeof n&&n.call(this,e)},get:o||function(){return this._elements[t]}})}};var Coral=window.Coral=window.Coral||{};"undefined"!=typeof exports&&("undefined"!=typeof module&&module.exports&&(exports=module.exports=Coral),exports=Coral),function(){"use strict";var e={extend:!0,properties:!0,events:!0,_elements:!0,name:!0,namespace:!0,tagName:!0,baseTagName:!0,className:!0};function t(){}function i(e){return e}function n(e){if(!e)return t;if("function"==typeof e)return e;var i=e;return function(e,t){return this.trigger(i,{oldValue:t,value:e})}}function o(e,o,a){var r;if("function"==typeof a.triggerBefore||"string"==typeof a.triggerBefore)r=a.triggerBefore;else if(!0===a.triggerBefore){if("string"!=typeof a.trigger||-1===a.trigger.indexOf(":"))throw new Error('Coral.register: Cannot automatically set "before" event name unless descriptor.trigger is a string that conatins a colon');r=a.trigger.replace(":",":before")}a.set=a.set||function(e){var t="_"+e;return function(e){this[t]=e}}(o),a.get=a.get||function(e){var t="_"+e;return function(){return this[t]}}(o);var s=a._methods;if(a._methods={},s)for(var l in s)a._methods[l]=s[l];a._methods.triggerBefore=n(r),a._methods.trigger=n(a.trigger),a._methods.transform=a.transform||i,a._methods.attributeTransform=a.attributeTransform||i,a._methods.reflectAttribute=function(e,i){if(!i.reflectAttribute)return t;var n=i.attribute||e;return function(e,t){!1===e||null===e?this.removeAttribute(n):(!0===e&&(e=""),this.getAttribute(n)!==e&&this.setAttribute(n,e))}}(o,a),a._methods.queueSync=function(e,i){var n=i.alsoSync;return i.sync||n?n?(Array.isArray(n)?n.unshift(e):n=[e,n],function(e){this._queueSync.apply(this,n)}):function(t){this._queueSync(e)}:t}(o,a),a._methods.validate=function(e){return e.validate?Array.isArray(e.validate)?e.validate:[e.validate]:[Coral.validate.valueMustChange]}(a),a.attribute?e._attributes[a.attribute]=o:e._attributes[a.attribute]=null,e._properties[o]=a}function a(e,t){for(var i in t)t[i]&&r(e,i,t[i])}function r(e,t,i){if("function"==typeof i&&!(i=i(e,t)))throw new Error("Coral.register.defineProperty: Property function did not return a descriptor for "+t);o(e,t,i);var n=i._methods.set=function(e){return function(t,i){var n=this._properties[e],o=n._methods,a=o.transform.call(this,t,this._properties[e].default),r=this[e],s=this;if(!o.validate.some((function(e){return!e.call(s,a,r)}))){if(!i){var l=o.triggerBefore.call(this,a,r);if(l&&l.defaultPrevented)return}n.set.call(this,a,i),o.reflectAttribute.call(this,a),o.queueSync.call(this),i||o.trigger.call(this,a,r),this._setProps[e]=!0}}}(t),a=i._methods.get=function(e){return function(){return this._properties[e].get.call(this)}}(t);Object.defineProperty(e,t,{enumerable:!0,configurable:!1,set:n,get:a})}var s={};function l(e,t,i){switch(i){case"sync":case"set":return n=t,o=e,function(){n.apply(this,arguments),o.apply(this,arguments)};default:return e}var n,o}Coral.register=function(t){t.extend&&!t.extend.prototype._methods&&(t.extend=Coral.Component);var i,n=(t.extend||Coral.Component).prototype,r=n,c={tracking:{default:Coral.Component.tracking.ON,validate:[Coral.validate.valueMustChange,Coral.validate.enumeration(Coral.Component.tracking)]},trackingFeature:{default:"",attribute:"trackingfeature",transform:Coral.transform.string},trackingElement:{default:"",attribute:"trackingelement",transform:Coral.transform.string}},d=t.properties?Coral.commons.extend(c,t.properties):c;t.baseTagName&&(i=t.baseTagName,s[i]=s[i]||Object.getPrototypeOf(document.createElement(i)),r=s[i]);var u=Object.create(r);if(u._proto=n,t.baseTagName){for(var h=[],p=n;p&&p._methods;)h.unshift(p),p=p._proto;for(;p=h.shift();)for(var m in p._methods)u[m]=p[m]}u._attributes=Coral.commons.extend({},n._attributes),u._properties={},u._events=Coral.commons.extend({},n._events,t.events),u._elements=Coral.commons.extend({},n._elements,t._elements),u._componentName=t.name,u._className=t.className;var f=u._methods={};for(var g in t)e[g]||(u[g]=f[g]=t[g]);for(var v in t.mixins&&Coral.commons.mixin(u,t.mixins,{properties:d}),Coral.commons.augment(u._properties,n._properties,d,(function(e,t,i){if(!t)return null;if(!0===t.override)return t;var n=Coral.commons.augment({},t,e,l);return o(u,i,n),d[i]=void 0,n})),u._properties)u._properties[v]||delete u._properties[v];t.baseTagName?a(u,u._properties):a(u,d);var b={prototype:u};t.baseTagName&&(b.extends=t.baseTagName);var _=document.registerElement(t.tagName,b);return Coral.commons.setSubProperty(t.namespace||Coral,t.name,_),_},Coral.register.defineProperties=a,Coral.register.defineProperty=r,Coral.register.augmentProperties=function(e,t,i){Coral.commons.augment(e,t,(function(e,t,n){return!0===e.override?e:Coral.commons.augment({},e,t,i||l)}))}}(),Coral.mixin=Coral.mixin||{},function(){"use strict";var e={"⇧":16,shift:16,"⌥":18,alt:18,option:18,"⌃":17,ctrl:17,control:17,"⌘":91,cmd:91,command:91,meta:91},t={16:!0,17:!0,18:!0,91:!0,224:!0},i=["shiftKey","ctrlKey","altKey","metaKey"],n={96:48,97:49,98:50,99:51,100:52,101:53,102:54,103:55,104:56,105:57},o={backspace:8,tab:9,return:13,pause:19,capslock:20,esc:27,escape:27,space:32,pageup:33,pagedown:34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,del:46,delete:46,period:190,plus:107,minus:189,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123,f13:124,f14:125,f15:126,f16:127,f17:128,f18:129,f19:130,numlock:144,scroll:145},a=/(.*?)(\..+)$/,r=/^[\x20\t\r\n\f]*[>+~]/,s={INPUT:!0,SELECT:!0,TEXTAREA:!0,"CORAL-SELECTLIST-ITEM":!0};function l(e){if(e.keyCode===o.escape)return!0;var t=e.target,i=t.tagName;return!t.isContentEditable&&!s[i]}function c(e){switch(e){case"enter":return"return";case" ":return"space";case"arrowup":return"up";case"arrowdown":return"down";case"arrowleft":return"left";case"arrowright":return"right";default:return e}}function d(t){t=c(t.toLowerCase());var i=o[t]||e[t];if(!i&&t.length>1)throw new Error("Coral.Keys: Key "+t+" not recognized");return i||t.toUpperCase().charCodeAt(0)}function u(e){return n[e]||e}function h(e){return"+"===e?d(e):e.toString().split("+").map(d).sort().join("+")}Coral.Keys=function n(o,s){if(s=s||{},void 0===o)throw new Error("Coral.Keys: Cannot create a combo handler for "+o);var d,p,m,f,g,v="string"==typeof o?document.querySelector(o):o,b=s.context,_=s.filter||l,C=s.preventDefault||!1,y=s.stopPropagation||!1;function w(e){clearTimeout(g),g=setTimeout(E,Coral.Keys.sequenceTime);var i=u(e.keyCode);t[i]||(-1===m.indexOf(i)&&(m.push(i),A(e)),S.call(this,e),e.metaKey&&k(),e.target.parentNode||k())}function A(t){for(var n=[],o=0;o<i.length;o++){var a=i[o];t[a]&&n.push(e[a.slice(0,-3)])}f=m.concat(n).sort().join("+")}function x(e){var i=u(e.keyCode);if(t[i])k();else{var n=m.indexOf(i);-1!==n&&(m.splice(n,1),A(e),S.call(this,e,!0))}}function S(e,t){if(f&&_(e)){var i,n,o=e.target||e.srcElement,a="[object Window]"===Object.prototype.toString.call(this)?this.document:this,r=[],s=d[f];if(s=T(f,s,e),t||s||e.key&&(s=d[e.key.charCodeAt(0)],s=T(f,s,e)),t||(n=[],p.forEach((function(e){e.parts[e.currentPart]===f?e.currentPart++:e.currentPart=0,e.currentPart===e.parts.length&&(n.push(e),e.currentPart=0)})),i=n),s&&s.length&&(r=r.concat(s)),i&&i.length&&(r=r.concat(i)),r&&r.length){for(var l=0;l<r.length;l++){var c=r[l];if(c.selector){var u="";if(c.needsContext&&(a.id=a.id||Coral.commons.getUID(),u="#"+a.id+" "),!(Array.prototype.indexOf.call(a.querySelectorAll(u+c.selector),o)>=0))continue}void 0!==typeof c.data&&(e.data=c.data),e.matchedTarget=o,e.keys=c.originalString,c.listener.call(b||a,e)}C&&e.preventDefault(),y&&e.stopPropagation()}}}function T(e,t,i){var n=[];if(!t||!i.key||e.indexOf("+")>0)return t;for(var o=c(i.key.toLowerCase()),a=0;a<t.length;a++)0!==t[a].originalString.indexOf(o)&&0!==o.indexOf(t[a].originalString)||n.push(t[a]);return n}function I(e,t,i,n){var o,a=d[e];if(a&&a.length)if(void 0===i&&void 0===n&&void 0===t)a.length=0;else if(void 0===n)for(o=0;o<a.length;o++)a[o].selector===i&&a[o].namespace===t&&(a.splice(o,1),o--);else for(o=0;o<a.length;o++)a[o].listener===n&&a[o].selector===i&&a[o].namespace===t&&(a.splice(o,1),o--)}function E(){clearTimeout(g),p.forEach((function(e){e.currentPart=0}))}function k(){return m=[],f="",this}function L(e){return e||(m=[],f="",d={},p=[],v.addEventListener("keydown",w)),N(!0),window.addEventListener("keyup",x,!0),window.addEventListener("focus",k),this}function N(e){return e||(d=null,m=null,f=null,v.removeEventListener("keydown",w)),window.removeEventListener("keyup",x,!0),window.removeEventListener("focus",k),this}return this instanceof n&&L(),{on:function(e,t,i,n){if("object"==typeof e){for(var o in"string"!=typeof t&&(i=i||t,t=void 0),e)this.on(o,t,i,e[o]);return this}if(void 0===i&&void 0===n?(n=t,i=t=void 0):void 0===n&&("string"==typeof t?(n=i,i=void 0):(n=i,i=t,t=void 0)),"function"!=typeof n)throw new Error("Coral.Keys: Cannot add listener of type "+typeof n);var s,l=a.exec(e);l&&(e=l[1],s=l[2]);var c=!!t&&r.test(t);if(-1!==e.toString().indexOf("-")&&e.toString().length>1){var u=function(e){return e.toString().split("-").map(h)}(e);p.push({originalString:e,currentPart:0,parts:u,needsContext:c,selector:t,listener:n,data:i,namespace:s})}else{var m=e.toString();e=h(e),(d[e]=d[e]||[]).push({originalString:m,needsContext:!!t&&r.test(t),selector:t,listener:n,data:i,namespace:s})}return this},off:function(e,t,i){var n,o;void 0===i&&(i=t,t=void 0);var r=a.exec(e);if(r&&(e=r[1],o=r[2]),""===e&&void 0!==o){for(e in d)I(e,o,t,i);for(n=0;n<p.length;n++)p[n].namespace===o&&(p.splice(n,1),n--);return this}if(-1!==e.indexOf("-"))for(n=0;n<p.length;n++)void 0!==e&&p[n].originalString!==e||void 0!==i&&p[n].listener!==i||void 0!==t&&p[n].selector!==t||void 0!==o&&p[n].namespace!==o||(p.splice(n,1),n--);else I(e=h(e),o,t,i);return this},reset:k,init:L,destroy:N}},Coral.Keys.filterInputs=l,Coral.Keys.keyToCode=d,Coral.Keys.sequenceTime=1500,Coral.keys=new Coral.Keys(document.documentElement,{stopPropagation:!0,preventDefault:!0})}(),function(){"use strict";var e=function(e){(e=e||{}).locale&&(this._locale=e.locale)};e.prototype._locale="en-US",Object.defineProperty(e.prototype,"locale",{set:function(e){this._locale=e},get:function(){return this._locale}}),e.prototype._evaluate=/(\{.+?\})/g,e.prototype.set=function(){var e,t,i;if(Coral.strings.generic[this._locale]=Coral.strings.generic[this._locale]||{},0===arguments.length)return"";if(1===arguments.length){if(!arguments[0])throw new Error("Coral.i18n.set: Single argument must be an array of arrays of key/value/(translation hint).");if("object"!=typeof arguments[0]||"object"!=typeof arguments[0][0])throw new Error("Coral.i18n.set: Single argument must be an array of key-value pairs.");for(var n=0;n<arguments[0].length;n++)e=arguments[0][n][0],t=arguments[0][n][1],(i=arguments[0][n][2])&&(e=e+"/[translation hint:"+i.replace(/&period;/g,".")+"]"),Coral.strings.generic[this._locale][e]=t}else if(2===arguments.length){if("string"!=typeof arguments[0]||!arguments[0]||"string"!=typeof arguments[1]||!arguments[1])throw new Error("Coral.i18n.set: Both arguments must be non-empty string values.");e=arguments[0],t=arguments[1],Coral.strings.generic[this._locale][e]=t}else{if(3!==arguments.length)throw new Error("Coral.i18n.set: Too many arguments provided.");if("string"!=typeof arguments[0]||"string"!=typeof arguments[1]||"string"!=typeof arguments[2])throw new Error("Coral.i18n.set: All arguments must be of string type.");e=arguments[0],t=arguments[1],"null"!==(i=arguments[2])&&(e=e+"/[translation hint:"+i.replace(/&period;/g,".")+"]"),Coral.strings.generic[this._locale][e]=t}return this},e.prototype.get=function(){if(0===arguments.length)return"";var e,t=arguments[0].replace(".","&period;"),i=t.match(this._evaluate),n=i?i.length:0,o="",a={},r=0;if(null!==arguments[1]&&"object"==typeof arguments[1]){a=arguments[1];var s="";for(e=0;e<i.length;e++)if(s=i[e].slice(1).slice(0,-1),null===a[s]||void 0===a[s])throw new Error('Coral.i18n.get: Named key "'+s+'" not present in provided object.');"string"==typeof arguments[2]&&(o=arguments[2])}else{if((r=arguments.length-1)===n+1)o=arguments[arguments.length-1];else if(r!==n)throw new Error("Coral.i18n.get: Number of variable placeholders ("+n+") does not match number of variables ("+r+").");for(e=0;e<r;e++)a[e]=arguments[e+1]}o&&(t=t+"/[translation hint:"+o+"]");var l=t;for(var c in Coral.strings)void 0!==Coral.strings[c]&&void 0!==Coral.strings[c][this._locale]&&(l=Coral.strings[c][this._locale][t]||l);return 0===n?l:l.replace(this._evaluate,(function(e){return e=e.slice(1).slice(0,-1),a[e]}))};var t={en:"en-US","en-us":"en-US",cs:"cs-CZ","cs-cz":"cs-CZ",da:"da-DK","da-dk":"da-DK",de:"de-DE","de-de":"de-DE",es:"es-ES","es-es":"es-ES",fi:"fi-FI","fi-fi":"fi-FI",fr:"fr-FR","fr-fr":"fr-FR",it:"it-IT","it-it":"it-IT",ja:"ja-JP","ja-jp":"ja-JP",ko:"ko-KR","ko-kr":"ko-KR",nb:"nb-NO","nb-no":"nb-NO",nl:"nl-NL","nl-nl":"nl-NL",pl:"pl-PL","pl-pl":"pl-PL",pt:"pt-BR","pt-br":"pt-BR",ru:"ru-RU","ru-ru":"ru-RU",sv:"sv-SE","sv-se":"sv-SE",tr:"tr-TR","tr-tr":"tr-TR","zh-cn":"zh-CN","zh-hans-cn":"zh-CN","zh-hans":"zh-CN","zh-tw":"zh-TW","zh-hant-tw":"zh-TW","zh-hant":"zh-TW"}[document.documentElement.lang.toLowerCase()]||"en-US";Coral.i18n=new e({locale:t})}(),function(){"use strict";var e=/^(\S+)\s*(.*)$/,t=Node.ELEMENT_NODE;function i(e,t,i){if("function"==typeof i)return i;if("string"==typeof i){if(!e[i])throw new Error("Coral.Component: Unable to add "+t+" listener for "+e.toString()+", method "+i+" not found");var n=e[i];if("function"!=typeof n)throw new Error("Coral.Component: Unable to add "+t+" listener for "+e.toString()+", listener is a "+typeof n+" but should be a function");return n}if(i)throw new Error("Coral.Component: Unable to add "+t+" listener for "+e.toString()+", "+i+" is neither a method name or a function");return null}for(var n in Coral.Component=function(){throw new Error("Coral.Component is not meant to be invoked directly. Inherit from its prototype instead.")},Coral.Component.prototype=Object.create(HTMLElement.prototype),Coral.Component.prototype._properties={},Coral.Component.prototype.toString=function(){return"Coral."+this._componentName},Coral.Component.prototype._events={},Coral.Component.prototype.createdCallback=function(){var e,t,i,n,o;this.toString!==Coral.Component.prototype.toString&&(this.toString=Coral.Component.prototype.toString),this._setProps={},this._syncQueue=[],this._syncDOM=this._syncDOM.bind(this),this._vent=new Vent(this),this._className&&this.classList.add.apply(this.classList,this._className.split(" ")),this._elements={},"function"==typeof this._render&&this._render(),this._contentZones={};var a={};for(e in this._properties)(n=this._properties[e]).contentZone&&(this._contentZones[n.tagName]&&console.warn('Coral.Component: content zone for "%s" is already defined',n.tagName),this._contentZones[n.tagName]=e),t=n.attribute||e,a[e]=this.getAttribute(t);for(e in this._properties){if(o=(n=this._properties[e])._methods,null!==(i=a[e])&&(o.attributeTransform&&(i=o.attributeTransform.call(this,i,n.default)),n.transform&&(i=o.transform.call(this,i,n.default)),o.validate))for(var r=0;r<o.validate.length;r++)if(!o.validate[r].call(this,i)){i=null;break}if(null===i){if(this._setProps[e])continue;if(void 0===(i="function"==typeof n.default?n.default.call(this):n.default))continue}this.set(e,i,!0)}this._delegateEvents(),"function"==typeof this._initialize&&this._initialize(),Object.keys(this._contentZones).length&&(this._observer=new MutationObserver(this._handleContentZones.bind(this)),this._observer.observe(this,{childList:!0,subtree:!1})),this._componentReady=!0},Coral.Component.prototype._handleContentZones=function(e){for(var i,n,o,a,r,s,l=0,c=e.length;l<c;l++){n=(i=e[l]).addedNodes;for(var d=0,u=(o=i.removedNodes).length;d<u;d++)(a=o[d]).nodeType===t&&(r=a.tagName.toLowerCase(),(s=this._contentZones[r])&&this[s]===a&&null===a.parentNode&&(this[s]=void 0));for(var h=0,p=n.length;h<p;h++)(a=n[h]).nodeType===t&&(r=a.tagName.toLowerCase(),(s=this._contentZones[r])&&this[s]!==a&&(this[s]=a))}},Coral.Component.prototype._filterKeys=function(){return!0},Coral.Component.prototype.attachedCallback=function(){this.trigger("coral-component:attached"),this._delegateGlobalEvents()},Coral.Component.prototype.detachedCallback=function(){this.trigger("coral-component:detached"),this._undelegateGlobalEvents()},Coral.Component.prototype.attributeChangedCallback=function(e,t,i){var n=this._attributes[e]||e,o=this._properties[n];if(void 0!==o){if(null===o.attribute)return;["attributeTransform","transform"].forEach((function(e){var t=o._methods[e];t&&(i=t.call(this,i,o.default))}),this),i!==this[n]&&(this[n]=i)}this._properties["_"+n]&&this._properties["_"+n].set.call(this,i)},Coral.Component.prototype._queueSync=function(){for(var e=0,t=arguments.length;e<t;e++){var i=arguments[e],n=this._syncQueue.indexOf(i);-1!==n&&this._syncQueue.splice(n,1),this._syncQueue.push(i)}this._syncPending||(Coral.commons.nextFrame(this._syncDOM),this._syncPending=!0)},Coral.Component.prototype._syncProp=function(e,t){var i=this._properties[e].sync;if(i?i.call(this):console.warn("Coral.Component: sync method for %s is not defined",e),!t){var n=this._syncQueue.indexOf(e);-1!==n&&this._syncQueue.splice(n,1)}},Coral.Component.prototype._syncDOM=function(){for(var e;e=this._syncQueue.shift();)this._syncProp(e,!0);this._syncPending=!1},Coral.Component.prototype._delegateEvents=function(){var t,n,o,a,r,s,l,c,d,u;for(o in this._events)if(a=this._events[o],n=(t=o.match(e))[1]+".CoralComponent",""===(r=t[2])&&(r=void 0),a=i(this,n,a)){if(a=a.bind(this),(l=0===n.indexOf("global:"))&&(n=n.substr(7)),(u=0===n.indexOf("capture:"))&&(n=n.substr(8)),c=0===n.indexOf("key:")){if(u)throw new Error("Coral.Keys does not currently support listening to key events with capture");n=n.substr(4)}if((d=0===n.indexOf("resize"))&&u)throw new Error("Coral.commons.addResizeListener does not currently support listening to resize event with capture");if(l)c?(this._globalKeys=this._globalKeys||[],this._globalKeys.push({keyCombo:n,selector:r,listener:a})):(this._globalEvents=this._globalEvents||[],this._globalEvents.push({eventName:n,selector:r,listener:a,isCapture:u}));else if(c)this._keys=this._keys||new Coral.Keys(this,{filter:this._filterKeys,context:this}),this._keys.on(n,r,a);else if(d)if(r){s=document.querySelectorAll(r);for(var h=0;h<s.length;++h)Coral.commons.addResizeListener(s[h],a)}else Coral.commons.addResizeListener(this,a);else this._vent.on(n,r,a,u)}},Coral.Component.prototype._undelegateGlobalEvents=function(){var e;if(this._globalEvents)for(e=0;e<this._globalEvents.length;e++){var t=this._globalEvents[e];Coral.events.off(t.eventName,t.selector,t.listener,t.isCapture)}if(this._globalKeys)for(e=0;e<this._globalKeys.length;e++){var i=this._globalKeys[e];Coral.keys.off(i.keyCombo,i.selector,i.listener)}return this._keys&&this._keys.destroy(!0),this},Coral.Component.prototype._delegateGlobalEvents=function(){var e;if(this._globalEvents)for(e=0;e<this._globalEvents.length;e++){var t=this._globalEvents[e];Coral.events.on(t.eventName,t.selector,t.listener,t.isCapture)}if(this._globalKeys)for(e=0;e<this._globalKeys.length;e++){var i=this._globalKeys[e];Coral.keys.on(i.keyCombo,i.selector,i.listener)}return this._keys&&this._keys.init(!0),this},Coral.Component.prototype.on=function(e,t,i,n){return this._vent.on(e,t,i,n),this},Coral.Component.prototype.off=function(e,t,i,n){return this._vent.off(e,t,i,n),this},Coral.Component.prototype.trigger=function(e,t,i,n){i=i||void 0===i,n=n||void 0===n;var o=new CustomEvent(e,{bubbles:i,cancelable:n,detail:t}),a=!1;try{a=!this.dispatchEvent(o)}catch(e){}if(a!==o.defaultPrevented){var r=Object.create(o);return Object.defineProperty(r,"defaultPrevented",{value:a}),r}return o},Coral.Component.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)},Coral.Component.prototype._doSet=function(e,t,i){var n=this._properties&&this._properties[e];n?!n.contentZone||t instanceof HTMLElement||!this[e].set?n.contentZone&&!(t instanceof HTMLElement)&&"object"==typeof t&&this[e]instanceof HTMLElement?Object.keys(t).forEach((function(e){this[e]=t[e]}),this[e]):n._methods&&n._methods.set?n._methods.set.call(this,t,!!i):this[e]=t:this[e].set(t):this[e]=t},Coral.Component.prototype.set=function(e,t,i){var n,o,a;if("string"==typeof e)n=e,a=t,this._doSet(n,a,i);else for(n in i=t,o=e)a=o[n],this._doSet(n,a,i);return this},Coral.Component.prototype.get=function(e){return this[e]},Coral.Component.prototype.show=function(){return this.hidden?(this.hidden=!1,this):this},Coral.Component.prototype.hide=function(){return this.hidden||(this.hidden=!0),this},Coral.Component.prototype._trackEvent=function(e,t,i,n){return this.tracking===Coral.Component.tracking.ON&&Coral.tracking.track(e,t,i,this,n),this},Coral.Component.prototype._methods={},Coral.Component.prototype)Coral.Component.prototype.hasOwnProperty(n)&&(Coral.Component.prototype._methods[n]=Coral.Component.prototype[n]);Coral.Component.tracking={ON:"on",OFF:"off"}}(),function(){"use strict";var e=[];function t(e){return e&&e.tracking===Coral.Component.tracking.OFF}function i(e,i,n,o,a){var r="string"==typeof o._componentName?o._componentName.toString().toLowerCase():"",s=function(e){return t(e)?{trackingElement:"",trackingFeature:""}:{trackingFeature:e.trackingFeature||"",trackingElement:e.trackingElement||""}}(o);return{targetType:i||r||"",targetElement:void 0!==a&&a.trackingElement?a.trackingElement:o.trackingElement,eventType:e||n.type,rootElement:s.trackingElement,rootFeature:s.trackingFeature,rootType:r}}Coral.tracking={addListener:function(t){if("function"!=typeof t)throw new Error("Tracker must be a function callback.");if(-1!==e.indexOf(t))throw new Error("Tracker callback cannot be added twice.");e.push(t)},removeListener:function(t){e=e.filter((function(e){return e!==t}))},track:function(n,o,a,r,s){if(0===e.length||t(r)||t(s))return!1;var l=Array.prototype.slice.call(arguments,[2]),c=i(n,o,a,r,s);return e.forEach((function(e){e.apply(null,[c].concat(l))})),!0}}}(),function(){"use strict";var e=0;function t(e){for(var t=[],i=0,n=t.length=e.length;i<n;i++)t[i]=e[i];return t}function i(e,t){return"function"!=typeof t||t(e)}Coral.Collection=function(t){var i,n;t=t||{},this._id=e++,this._host=t.host,this._itemTagName=t.itemTagName,this._itemBaseTagName=t.itemBaseTagName,this._itemSelector=t.itemSelector||(i=this._itemTagName,(n=this._itemBaseTagName)?n+'[is="'+i+'"]':i),this._container=t.container||this._host,this._filter=t.filter,this._handleItems=!1,this._itemSelector&&0===this._itemSelector.indexOf(":scope > ")?(this._container.id=this._container.id||"coral-collection-id-"+this._id,this._allItemsSelector=this._itemSelector.replace(":scope > ","#"+this._container.id+" > "),this._itemSelector=this._itemSelector.replace(":scope > ",""),this._itemSelector===this._itemTagName&&(this._useItemTagName=this._itemSelector.toUpperCase())):(this._allItemsSelector=this._itemSelector,this._container&&this._allItemsSelector===this._itemTagName&&(this._liveCollection=!0,this._useItemTagName=this._allItemsSelector.toUpperCase())),this._onItemAdded=t.onItemAdded,this._onItemRemoved=t.onItemRemoved,this._onCollectionChange=t.onCollectionChange};var n={length:{get:function(){return this.getAll().length}}};Coral.Collection.prototype=Object.create(Object.prototype,n),Coral.Collection.prototype._properties=n,Coral.Collection.prototype.add=function(e,t){if(this._container&&this._itemTagName)return e instanceof HTMLElement||(e=this._itemBaseTagName?document.createElement(this._itemBaseTagName,this._itemTagName).set(e,!0):document.createElement(this._itemTagName).set(e,!0)),this._container.insertBefore(e,t||null),!this._handleItems&&"function"==typeof this._onItemAdded&&this._host&&i(e,this._filter)&&this._onItemAdded.call(this._host,e),e;throw new Error("Please provide host and itemTagName or override add() to provide your own implementation.")},Coral.Collection.prototype.clear=function(){for(var e=this.getAll(),t=[],i=e.length-1;i>-1;i--)t.push(this.remove(e[i]));return t},Coral.Collection.prototype.getAll=function(){if(this._container&&this._allItemsSelector){var e=this._liveCollection?t(this._container.getElementsByTagName(this._allItemsSelector)):t(this._container.querySelectorAll(this._allItemsSelector));return this._filter&&(e=e.filter(this._filter)),e}throw new Error("Please provide host and itemTagName or override getAll() to provide your own implementation.")},Coral.Collection.prototype.remove=function(e){return e.parentNode&&(e.parentNode.removeChild(e),!this._handleItems&&"function"==typeof this._onItemRemoved&&this._host&&i(e,this._filter)&&this._onItemRemoved.call(this._host,e)),e},Coral.Collection.prototype.first=function(){return this.getAll()[0]||null},Coral.Collection.prototype.last=function(){var e=this.getAll();return e[e.length-1]||null},Coral.Collection.prototype._isPartOfCollection=function(e){return!(e instanceof Text)&&i(e,this._filter)&&(this._useItemTagName?this._useItemTagName===e.tagName:e.matches(this._itemSelector))},Coral.Collection.prototype._onItemAttached=function(e){"function"==typeof this._onItemAdded&&this._onItemAdded.call(this._host,e),this._host.trigger("coral-collection:add",{item:e})},Coral.Collection.prototype._onItemDetached=function(e){"function"==typeof this._onItemRemoved&&this._onItemRemoved.call(this._host,e),this._host.trigger("coral-collection:remove",{item:e})},Coral.Collection.prototype._startHandlingItems=function(e){if(!this._host||!this._container)throw new Error("Please provide options.host and/or options.container to enable handling the items.");this._observer=this._observer||new MutationObserver(this._handleMutation.bind(this)),this._handleItems=!0,Coral.commons.ready(this._container,function(){if(this._observer.observe(this._container,{childList:!0,subtree:!0}),!0!==e){var t,i=0;if("function"!=typeof this._onItemAdded&&"function"!=typeof this._onCollectionChange||(i=(t=this.getAll()).length),"function"==typeof this._onItemAdded)for(var n=0;n<i;n++)this._onItemAdded.call(this._host,t[n]);i>0&&"function"==typeof this._onCollectionChange&&this._onCollectionChange.call(this._host,t,[])}}.bind(this))},Coral.Collection.prototype._stopHandlingItems=function(){this._observer&&this._observer.disconnect()},Coral.Collection.prototype._handleMutation=function(e){for(var t,i,n,o,a,r,s=e.length,l=[],c=[],d=0,u=0;u<s;u++){o=(n=(t=e[u]).addedNodes).length;for(var h=0;h<o;h++)i=n[h],this._isPartOfCollection(i)&&(d++,l.push(i),this._onItemAttached(i));r=(a=t.removedNodes).length;for(var p=0;p<r;p++)i=a[p],this._isPartOfCollection(i)&&(d++,c.push(i),this._onItemDetached(i))}0!==d&&"function"==typeof this._onCollectionChange&&this._host&&this._onCollectionChange.call(this._host,l,c)}}(),function(){"use strict";Coral.SelectableCollection=function(e){Coral.Collection.apply(this,arguments),this._filter&&console.warn("Coral.SelectableCollection does not support the options.filter"),this._selectableItemSelector=this._itemSelector+":not([disabled])",this._selectedItemSelector=this._itemSelector+"[selected]",this._deselectAllExceptSelector=this._selectedItemSelector},Coral.SelectableCollection.prototype=Object.create(Coral.Collection.prototype),Coral.SelectableCollection.prototype._getFirstSelectable=function(){return this._host.querySelector(this._selectableItemSelector)||null},Coral.SelectableCollection.prototype._getLastSelectable=function(){var e=this._host.querySelectorAll(this._selectableItemSelector);return e[e.length-1]||null},Coral.SelectableCollection.prototype._getFirstSelected=function(e){var t=this._selectedItemSelector;return"string"==typeof e&&(t=t.replace("[selected]","["+e+"]")),this._host.querySelector(t)||null},Coral.SelectableCollection.prototype._getLastSelected=function(e){var t=this._selectedItemSelector;"string"==typeof e&&(t=t.replace("[selected]","["+e+"]"));var i=this._host.querySelectorAll(t);return i[i.length-1]||null},Coral.SelectableCollection.prototype._getAllSelected=function(e){var t=this._selectedItemSelector;return"string"==typeof e&&(t=t.replace("[selected]","["+e+"]")),function(e){for(var t=[],i=0,n=t.length=e.length;i<n;i++)t[i]=e[i];return t}(this._host.querySelectorAll(t))},Coral.SelectableCollection.prototype._deselectAllExceptFirst=function(e){var t=this._deselectAllExceptSelector,i=e||"selected";"string"==typeof e&&(t=t.replace("[selected]","["+e+"]"));for(var n=this._host.querySelectorAll(t),o=n.length,a=1;a<o;a++)n[a].removeAttribute(i)},Coral.SelectableCollection.prototype._deselectAllExceptLast=function(e){var t=this._deselectAllExceptSelector,i=e||"selected";"string"==typeof e&&(t=t.replace("[selected]","["+e+"]"));for(var n=this._host.querySelectorAll(t),o=n.length-1,a=0;a<o;a++)n[a].removeAttribute(i)},Coral.SelectableCollection.prototype._deselectAllExcept=function(e,t){var i,n,o=this._deselectAllExceptSelector;"string"==typeof e?(i=null,n=e||"selected",o=o.replace("[selected]","["+n+"]")):(i=e,n=t||"selected","string"==typeof t&&(o=o.replace("[selected]","["+n+"]")));for(var a=this._host.querySelectorAll(o),r=a.length,s=0;s<r;s++)i!==a[s]&&a[s].removeAttribute(n)}}(),function(){"use strict";var e,t,i,n,o={ON:"on",OFF:"off"},a={ON:"on",OFF:"off"},r={ON:"on",OFF:"off"},s={ON:"on",OFF:"off"},l=[],c={pop:function(e){var t=this.indexOf(e);if(-1===t)return null;var i=l[t];return l.splice(t,1),i},push:function(e){var t=this.pop(e)||{instance:e},i=this.getHighestZIndex()+10;return t.zIndex=i,e.style.zIndex=i,l.push(t),t.backdrop&&h(),t},indexOf:function(e){for(var t=0;t<l.length;t++)if(l[t].instance===e)return t;return-1},get:function(e){var t=this.indexOf(e);return-1===t?null:l[t]},top:function(){var e=l.length;return 0===e?null:l[e-1]},getHighestZIndex:function(){var e=this.top();return e?e.zIndex:1e4},some:function(){return l.some.apply(l,arguments)},forEach:function(){return l.forEach.apply(l,arguments)}};function d(e){return{preventScroll:e.scrollOnFocus===s.OFF}}function u(){if(i&&i._isOpen){c.some((function(e){return!!e.backdrop}))?h():(document.body.classList.remove("u-coral-noscroll"),Coral.commons.nextFrame((function(){i.classList.remove("is-open"),p(),n=setTimeout((function(){i.style.display="none"}),Coral.mixin.overlay.FADETIME)})),i._isOpen=!1,function(){for(var e=document.body.children,t=0;t<e.length;t++){var i=e[t];i.setAttribute("aria-hidden",i._previousAriaHidden||"false")}}());var a=c.top();a&&a.instance.trapFocus===o.ON&&a.instance._requestedBackdrop?a&&a.instance.trapFocus===o.ON&&a.instance._requestedBackdrop&&g():e&&(e.style.display="none",t.style.display="none")}}function h(){var e=c.top();if(e){for(var t=l.length-1;t>-1;t--)if(l[t].backdrop){i.style.zIndex=l[t].zIndex-1;break}f(e.instance)}}function p(){clearTimeout(n)}function m(e){c.forEach((function(t){"function"==typeof t.instance.backdropClickedCallback&&t.instance.backdropClickedCallback(e)}))}function f(e){for(var t=document.body.children,i=0;i<t.length;i++){var n=t[i];if(n!==e&&!n.contains(e)){var o=n.getAttribute("aria-hidden");if(o){if(n._previousAriaHidden=n._previousAriaHidden||o,"true"===o)continue}else n._previousAriaHidden="false";n.setAttribute("aria-hidden","true")}}e.setAttribute("aria-hidden","false")}function g(){e?(document.body.firstElementChild!==e&&document.body.insertBefore(e,document.body.firstChild),document.body.lastElementChild!==t&&document.body.appendChild(t)):((e=document.createElement("div")).setAttribute("coral-tabcapture",""),e.tabIndex=0,document.body.insertBefore(e,document.body.firstChild),e.addEventListener("focus",(function(e){var t=c.top();t&&t.instance.trapFocus===o.ON&&Array.prototype.some.call(t.instance.querySelectorAll(Coral.commons.TABBABLE_ELEMENT_SELECTOR),(function(e){if(null!==e.offsetParent&&!e.hasAttribute("coral-tabcapture"))return e.focus(d(t)),!0}))})),(t=document.createElement("div")).setAttribute("coral-tabcapture",""),t.tabIndex=0,document.body.appendChild(t),t.addEventListener("focus",(function(e){var t=c.top();if(t&&t.instance.trapFocus===o.ON){var i=Array.prototype.filter.call(t.instance.querySelectorAll(Coral.commons.TABBABLE_ELEMENT_SELECTOR),(function(e){return null!==e.offsetParent&&!e.hasAttribute("coral-tabcapture")})).pop();i&&i.focus(d(t))}}))),e.style.display="inline",t.style.display="inline"}var v={trapFocus:{attribute:"trapfocus",default:o.OFF,validate:Coral.validate.enumeration(o),set:function(e){e===o.ON?(this.tabIndex<0&&(this.tabIndex=0),this._elements.topTabCapture=document.createElement("div"),this._elements.topTabCapture.setAttribute("coral-tabcapture","top"),this._elements.topTabCapture.tabIndex=0,this.insertBefore(this._elements.topTabCapture,this.firstElementChild),this._elements.intermediateTabCapture=document.createElement("div"),this._elements.intermediateTabCapture.setAttribute("coral-tabcapture","intermediate"),this._elements.intermediateTabCapture.tabIndex=0,this.appendChild(this._elements.intermediateTabCapture),this._elements.bottomTabCapture=document.createElement("div"),this._elements.bottomTabCapture.setAttribute("coral-tabcapture","bottom"),this._elements.bottomTabCapture.tabIndex=0,this.appendChild(this._elements.bottomTabCapture),this._handleTabCaptureFocus=this._handleTabCaptureFocus.bind(this),this._handleRootKeypress=this._handleRootKeypress.bind(this),this._vent.on("keydown",this._handleRootKeypress),this._vent.on("focus","[coral-tabcapture]",this._handleTabCaptureFocus)):this.trapFocus===o.ON&&(this.removeChild(this._elements.topTabCapture),this.removeChild(this._elements.intermediateTabCapture),this.removeChild(this._elements.bottomTabCapture),this._elements.topTabCapture=null,this._elements.intermediateTabCapture=null,this._elements.bottomTabCaptureEl=null,this._vent.off("keydown",this._handleRootKeypress),this._vent.off("focus","[coral-tabcapture]",this._handleTabCaptureFocus)),this._trapFocus=e}},returnFocusToElement:{set:function(){},get:function(){return this._returnFocusToElement}},elementToFocusWhenHidden:{set:function(){},get:function(){return this._elementToFocusWhenHidden}},returnFocus:{attribute:"returnfocus",default:a.OFF,validate:Coral.validate.enumeration(a)},focusOnShow:{attribute:"focusonshow",default:r.ON,validate:[Coral.validate.valueMustChange,function(e){return"string"==typeof e||e instanceof HTMLElement}]},scrollOnFocus:{attribute:"scrollonfocus",default:s.ON,validate:[Coral.validate.valueMustChange,Coral.validate.enumeration(s)]},open:{default:!1,reflectAttribute:!0,transform:Coral.transform.boolean,attributeTransform:Coral.transform.booleanAttr,triggerBefore:function(e,t){return this.trigger(e?"coral-overlay:beforeopen":"coral-overlay:beforeclose")},set:function(e,t){this._open=e,this._openSilently=!!t,this.open?this.setAttribute("aria-hidden","false"):this.setAttribute("aria-hidden","true"),this.parentNode&&(this.open?(this._pushOverlay(),this.returnFocus===a.ON&&(this._elementToFocusWhenHidden=this._elementToFocusWhenHidden||this._returnFocusToElement||(document.activeElement===document.body?null:document.activeElement))):this._popOverlay())},sync:function(){var e=this;this.open?(this.trapFocus===o.ON&&(this._elements.topTabCapture===this.firstElementChild&&this._elements.bottomTabCapture===this.lastElementChild&&this._elements.bottomTabCapture.previousElementSibling===this._elements.intermediateTabCapture||(this.insertBefore(this._elements.intermediateTabCapture,this.firstElementChild),this.appendChild(this._elements.intermediateTabCapture),this.appendChild(this._elements.bottomTabCapture))),this.style.display="block",Coral.commons.nextFrame((function(){e.classList.add("is-open");var t=function(){e.open&&(e._handleFocus(),e._openSilently||e.trigger("coral-overlay:open"))};e._overlayAnimationTime?Coral.commons.transitionEnd(e,t):t()}))):Coral.commons.nextFrame((function(){e.classList.remove("is-open");var t=function(){e.open||(e._handleReturnFocus(),e.style.display="none",e._openSilently||e.trigger("coral-overlay:close"))};e._overlayAnimationTime?Coral.commons.transitionEnd(e,t):t()}))}}},b={detachedCallback:function(){this.open&&(this._popOverlay(),this._requestedBackdrop&&(this._showBackdropOnAttached=!0))},attachedCallback:function(){this.open&&(this._pushOverlay(),this._showBackdropOnAttached&&this._showBackdrop())},show:function(){return this.open=!0,this},hide:function(){return this.open=!1,this},returnFocusTo:function(e){if(this.returnFocus===a.OFF&&(this.returnFocus=a.ON),!e.matches(Coral.commons.FOCUSABLE_ELEMENT_SELECTOR)){e.setAttribute("tabindex",-1);var t=new Vent(e);t.on("blur.afterFocus",(function(e){Coral.commons.nextFrame((function(){var i=c.top();i&&i.instance.contains(document.activeElement)||(t.off("blur.afterFocus"),e.matchedTarget.removeAttribute("tabindex"))}))}),!0)}return this._returnFocusToElement=e,this},_isTopOverlay:function(){var e=c.top();return e&&e.instance===this},_pushOverlay:function(){c.push(this)},_popOverlay:function(){c.pop(this),u()},_showBackdrop:function(){var e,t,n=c.get(this);n&&(n.backdrop=!0,e=n.zIndex,t=this,document.body.classList.add("u-coral-noscroll"),i||((i=document.createElement("div")).className="coral3-Backdrop",document.body.appendChild(i),i.addEventListener("click",m)),i.style.zIndex=e-1,i._isOpen=!0,i.style.display="",Coral.commons.nextFrame((function(){i.classList.add("is-open"),p()})),f(t)),this._requestedBackdrop=!0,this.parentNode||(this._showBackdropOnAttached=!0),this.trapFocus===o.ON&&g()},_hideBackdrop:function(){var e=c.get(this);e&&(e.backdrop=!1,u()),this._requestedBackdrop=!1},_handleRootKeypress:function(e){e.target===this&&9===e.keyCode&&(this._focusOn("first"),e.preventDefault())},_handleTabCaptureFocus:function(e){if(this._ignoreTabCapture)this._ignoreTabCapture=!1;else{var t=e.target===this._elements.intermediateTabCapture?"first":"last";this._focusOn(t)}},_handleFocus:function(){if(this.focusOnShow===r.ON)this._focusOn("first");else if(this.focusOnShow instanceof HTMLElement)this.focusOnShow.focus(d(this));else if("string"==typeof this.focusOnShow&&this.focusOnShow!==r.OFF){var e=this.querySelector(this.focusOnShow+":not([coral-tabcapture])");e?e.focus(d(this)):this._focusOn("first")}},_handleReturnFocus:function(){if(this.returnFocus===a.ON&&this._elementToFocusWhenHidden){if(document.activeElement&&!this.contains(document.activeElement))return;this._elementToFocusWhenHidden._ignoreTabCapture=!0,this._elementToFocusWhenHidden.focus(d(this)),this._elementToFocusWhenHidden._ignoreTabCapture=!1,this._elementToFocusWhenHidden=null}},_focusOn:function(e){var t;"first"!==e&&"last"!==e||(t=Array.prototype.filter.call(this.querySelectorAll(Coral.commons.TABBABLE_ELEMENT_SELECTOR),(function(e){return null!==e.offsetParent&&!e.hasAttribute("coral-tabcapture")}))["first"===e?"shift":"pop"]()),t?t.focus(d(this)):this.focus(d(this))}};Coral.mixin.overlay=function(e,t){Coral.register.augmentProperties(t.properties,v),Coral.commons.augment(e,b,(function(e,t,i){return"hide"===i||"show"===i?t:Coral.commons.callAll(t,e)}))},Coral.mixin.overlay.prototype=b,Coral.mixin.overlay.FADETIME=350,Coral.mixin.overlay.trapFocus=o,Coral.mixin.overlay.returnFocus=a,Coral.mixin.overlay.focusOnShow=r,Coral.mixin.overlay.scrollOnFocus=s}(),function(){"use strict";function e(e,t){return t?t+'[is="'+e+'"]':e}Coral.mixin.selectionList=function(t){return function(i,n){Coral.commons.augment(i,function(t){var i=t.itemTagName,n=t.itemBaseTagName,o=(t.itemSelectors||[e(i,n)]).join(","),a=t.role||"listbox",r=t.tabIndex,s=t.allowSingleModeDeselect,l=t.forceSelection;return{_onItemAttached:function(e){var t=e.target;t.matches(o)&&t.closest(this.tagName.toLowerCase())===this&&(this._boundOnItemDetached||(this._boundOnItemDetached=this._onItemDetached.bind(this)),t.on("coral-component:detached",this._boundOnItemDetached),this._validateSelection(),this.trigger("coral-collection:add",{item:t}))},_onItemDetached:function(e){var t=e.target;t===e.currentTarget&&(t.off("coral-component:detached",this._boundOnItemDetached),t.selected&&(this._oldSelection=this._getSelection(),this._validateSelection(t)),this.trigger("coral-collection:remove",{item:t}))},_selectItem:function(e){e.disabled||this._mutateSelection((function(){s||this.multiple?e.selected=!e.selected:e.selected=!0}))},_onItemSelected:function(e){this._mutateSelection((function(){this.multiple||this.items.deselectAllExcept(e)}))},_onItemDeselected:function(e){this._mutateSelection((function(){this._validateSelection(e)}))},_initialize:function(){this.setAttribute("role",a),void 0!==r&&this.setAttribute("tabindex",r),this._validateSelection(),this._oldSelection=this._getSelection()},attachedCallback:function(){this.multiple||this.items.deselectAllExceptLast()},_constructCollection:function(e){return e.host=this,new Coral.mixin.selectionList.Collection(e)},_mutateSelection:function(e){if(this._increaseMutationCounter(),e.call(this),this._decreaseMutationCounter(),0===this._mutatingSelection){var t=this._getSelection();this._selectionDiffersFromOldSelection(t)&&(this._onSelectionChange(t,this._oldSelection),this._oldSelection=t)}},_onSelectionChange:function(e,t){this.trigger(this.tagName.toLowerCase()+":change",{oldSelection:t,selection:e})},_selectionDiffersFromOldSelection:function(e){if(this._isEmptySelection(e)&&this._isEmptySelection(this._oldSelection))return!1;var t=Array.isArray(this._oldSelection),i=Array.isArray(e);if(t||i){if(t&&i){var n=this._oldSelection.filter((function(t){return-1===e.indexOf(t)}));return this._oldSelection.length!==e.length||0!==n.length}return!0}return e!==this._oldSelection},_isEmptySelection:function(e){return null==e||0===e.length},_getSelection:function(){return this.multiple?this.selectedItems:this.selectedItem},_validateSelection:function(e){if(l&&0===this.items.getSelected().length){var t=this.items.getNextSelectable(e);t&&t.setAttribute("selected",!0)}},_increaseMutationCounter:function(){void 0===this._mutatingSelection?this._mutatingSelection=1:this._mutatingSelection++},_decreaseMutationCounter:function(){this._mutatingSelection--}}}(t),(function(e,t,i){return Coral.commons.callAll(t,e)})),i._events=Coral.commons.augment({},i._events,function(t){var i=t.itemTagName,n=t.itemBaseTagName,o={};return o["coral-component:attached "+(t.itemSelectors||[e(i,n)]).join(",")]="_onItemAttached",o}(t)),Coral.register.augmentProperties(n.properties,function(t){var i=t.itemTagName,n=t.itemBaseTagName,o=(t.itemSelectors||[e(i,n)]).join(","),a=void 0===t.supportMultiple||t.supportMultiple,r=t.containerSelector,s={selectedItem:{get:function(){return this.multiple?this.items.getFirstSelected():this.items.getLastSelected()},set:function(){}},selectedItems:{get:function(){return this.items.getSelected()},set:function(){}},items:{get:function(){if(!this._items){var e=this.querySelector(r),t={itemTagName:i,itemBaseTag:n,itemSelector:o,container:e};this._items=this._constructCollection(t)}return this._items},set:function(){}},multiple:{default:!1,transform:Coral.transform.boolean,attributeTransform:Coral.transform.booleanAttr,sync:function(){this.setAttribute("aria-multiselectable",this.multiple),this._mutateSelection((function(){this.multiple||this.items.deselectAllExceptLast()}))}}};return a||(delete s.selectedItems,s.multiple.get=function(){return!1},s.multiple.set=function(){}),s}(t))}}}(),function(){"use strict";var e=function(e){var t,i;this._host=e.host,this._itemTagName=e.itemTagName,this._itemBaseTag=e.itemBaseTag,this._itemSelector=e.itemSelector||(t=this._itemTagName,(i=this._itemBaseTag)?i+'[is="'+t+'"]':t),this._host.id=this._host.id||Coral.commons.getUID(),this._nonNestedItemSelector="#"+this._host.id+" "+this._host.tagName.toLowerCase()+" "+this._itemSelector,this._container=e.container||this._host};(e.prototype=Object.create(Coral.Collection.prototype)).createElement=function(e,t){return t?document.createElement(t,e):document.createElement(e)},e.prototype.add=function(e,t){var i;e instanceof HTMLElement||(i=e,e=this.createElement(this._itemTagName,this._itemBaseTag,e));var n=i&&i.selected;return i&&(delete i.selected,e.set(i,!0)),this._container.insertBefore(e,t||null),n&&(e.selected=n),e},e.prototype.getAll=function(){return this._getNonNestedItems()},e.prototype.getNextSelectable=function(e,t){var i=this._getSelectableItems(),n=i.indexOf(e);return-1===n?i[0]||null:t?n===i.length-1?i[0]:i[n+1]:n===i.length-1?e:i[n+1]},e.prototype.getPreviousSelectable=function(e,t){var i=this._getSelectableItems(),n=i.indexOf(e);return-1===n?i[0]||null:t?0===n?i[i.length-1]||null:i[n-1]:0===n?e:i[n-1]},e.prototype.getFirstSelectable=function(){return this._getSelectableItems()[0]||null},e.prototype.getLastSelectable=function(){return this._getSelectableItems().pop()||null},e.prototype.getSelected=function(){return this._getSelectedItems()},e.prototype.getFirstSelected=function(){return this._getSelectedItems()[0]||null},e.prototype.getLastSelected=function(){return this._getSelectedItems().pop()||null},e.prototype.deselectAll=function(){this._getNonNestedItems().filter((function(e){return e.hasAttribute("selected")})).forEach((function(e){e.removeAttribute("selected")}))},e.prototype.deselectAllExcept=function(e){this._getNonNestedItems().filter((function(e){return e.hasAttribute("selected")})).forEach((function(t){t!==e&&t.removeAttribute("selected")}))},e.prototype.deselectAllExceptLast=function(){this._getNonNestedItems().filter((function(e){return e.hasAttribute("selected")})).slice(0,-1).forEach((function(e){e.removeAttribute("selected")}))},e.prototype._getNonNestedItems=function(){var e=Array.prototype.slice.call(this._host.querySelectorAll(this._nonNestedItemSelector));return Array.prototype.slice.call(this._host.querySelectorAll(this._itemSelector)).filter((function(t){return-1===e.indexOf(t)}))},e.prototype._getSelectableItems=function(){return this._getNonNestedItems().filter((function(e){return!(e.hasAttribute("disabled")||e.hasAttribute("hidden"))}))},e.prototype._getSelectedItems=function(){return this._getNonNestedItems().filter((function(e){return e.hasAttribute("selected")&&!e.hasAttribute("disabled")}))},Coral.mixin.selectionList.Collection=e}(),function(){"use strict";var e=new RegExp("^("+["columnheader","gridcell","option","row","rowheader","tab","treeitem"].join("|")+")$");Coral.mixin.selectionList.Item=function(t){return function(i,n){Coral.commons.augment(i,function(e){var t=e.role||"option",i=e.tabIndex,n=e.listSelector;return{_initialize:function(){this.setAttribute("role",t),void 0!==i&&this.setAttribute("tabindex",i)},_getSelectionList:function(){return this.closest(n)}}}(t),(function(e,t,i){return Coral.commons.callAll(t,e)})),Coral.register.augmentProperties(n.properties,function(t){var i=t.alwaysEnabled,n={selected:{default:!1,reflectAttribute:!0,transform:Coral.transform.boolean,attributeTransform:Coral.transform.booleanAttr,validate:[Coral.validate.valueMustChange,function(e){return!e||!this.disabled}],trigger:function(e,t){var i=this._getSelectionList();if(i){var n=e?i._onItemSelected:i._onItemDeselected;n&&"[object Function]"===Object.prototype.toString.call(n)&&n.call(i,this)}return!1},set:function(e,t){this._selected=e},sync:function(){this.classList.toggle("is-selected",this.selected),this.hasAttribute("role")&&e.test(this.getAttribute("role"))&&this.setAttribute("aria-selected",this.selected)}},disabled:{default:!1,reflectAttribute:!0,transform:Coral.transform.boolean,attributeTransform:Coral.transform.booleanAttr,set:function(e,t){this._disabled=e,this.selected&&e&&(this.selected=!1)},sync:function(){this.classList.toggle("is-disabled",this.disabled),this.setAttribute("aria-disabled",this.disabled)}}};return i&&delete n.disabled,n}(t))}}}(),function(){"use strict";var e="button,input:not([type=hidden]),keygen,meter,output,progress,select,textarea",t=["checkbox","combobox","grid","gridcell","listbox","radiogroup","slider","spinbutton","textbox","columnheader","menuitemcheckbox","menuitemradio","rowheader","searchbox","switch","treegrid"],i=["combobox","gridcell","listbox","radiogroup","spinbutton","textbox","tree","columnheader","rowheader","searchbox","treegrid"];(-1!==navigator.userAgent.indexOf("MSIE")||navigator.appVersion.indexOf("Trident/")>0)&&(e="button,keygen,meter,output,progress,select,textarea,",["text","password","submit","reset","radio","checkbox","button","color","date","datetime-local","email","month","number","range","search","tel","time","url","week"].forEach((function(t){e+='input[type="'+t+'"],'})),e=e.slice(0,-1));var n={disabled:{default:!1,reflectAttribute:!0,transform:Coral.transform.boolean,attributeTransform:Coral.transform.booleanAttr,sync:function(){this.setAttribute("aria-disabled",this.disabled)}},invalid:{default:!1,reflectAttribute:!0,transform:Coral.transform.boolean,attributeTransform:Coral.transform.booleanAttr,sync:function(){this.setAttribute("aria-invalid",this.invalid)}},labelled:{reflectAttribute:!0,transform:Coral.transform.string,attributeTransform:Coral.transform.string,set:function(e){e?this._getLabellableElement().setAttribute("aria-label",e):this._getLabellableElement().removeAttribute("aria-label")}},name:{default:"",reflectAttribute:!0,transform:Coral.transform.string},readOnly:{default:!1,reflectAttribute:!0,attribute:"readonly",transform:Coral.transform.boolean,attributeTransform:Coral.transform.booleanAttr,sync:function(){-1!==t.indexOf(this.getAttribute("role"))&&this.setAttribute("aria-readonly",this.readOnly)}},required:{default:!1,reflectAttribute:!0,transform:Coral.transform.boolean,attributeTransform:Coral.transform.booleanAttr,sync:function(){-1!==i.indexOf(this.getAttribute("role"))&&this.setAttribute("aria-required",this.required)}},value:{default:"",transform:Coral.transform.string},labelledBy:{attribute:"labelledby",transform:Coral.transform.string,get:function(){return this._getLabellableElement().getAttribute("aria-labelledby")},set:function(t){var i=this._getLabellableElement(),n=i.id=i.id||Coral.commons.getUID(),o=i.getAttribute("aria-labelledby");o&&o!==t&&this._updateForAttributes(o,n,!0),t?(i.setAttribute("aria-labelledby",t),i.matches(e)&&this._updateForAttributes(t,n)):i.removeAttribute("aria-labelledby")}}},o={_getLabellableElement:function(){return this.querySelector(e)||this},_getTargetChangeInput:function(){return this._targetChangeInput||(this._targetChangeInput=this._getLabellableElement().matches("input:not([type=hidden])")?this._getLabellableElement():null)},_onInputChange:function(e){e.stopPropagation(),this[this._componentTargetProperty]=e.target[this._eventTargetProperty],this._triggerChangeEvent&&this.trigger("change")},_onFormReset:function(e){e.target.contains(this)&&this.reset()},_onTargetInputChange:function(e){var t=this._getTargetChangeInput();t!==e.target&&null!==t||this._onInputChange(e)},_updateForAttributes:function(e,t,i){e.split(/\s+/).forEach((function(e){var n=document.getElementById(e);if(n&&"LABEL"===n.tagName){var o=n.getAttribute("for");i?o===t&&n.removeAttribute("for"):n.setAttribute("for",t)}}))},clear:function(){this.value=""},reset:function(){this.value=Coral.transform.string(this.getAttribute("value"))}},a={"capture:change input":"_onTargetInputChange","global:reset":"_onFormReset"},r=["name","value"],s=["disabled","name","required","readOnly","value"],l={_componentTargetProperty:"value",_eventTargetProperty:"value",_triggerChangeEvent:!0};Coral.mixin.formField=function(e,t){Coral.commons.augment(e,o,(function(e,t,i){return"reset"===i||"clear"===i||"_onTargetInputChange"===i||"_onInputChange"===i||"_getTargetChangeInput"===i||"_getLabellableElement"===i?e:Coral.commons.callAll(t,e)})),e._events=Coral.commons.augment({},e._events,a),Coral.commons.augment(e,l);for(var i,c={},d=!1,u=e;u;){if(u===HTMLInputElement.prototype||u===HTMLTextAreaElement.prototype){d=!0;break}u=Object.getPrototypeOf(u)}for(i in n)d&&-1!==s.indexOf(i)||(c[i]=n[i]);d||r.forEach((function(e){if(c[e]&&(!t.properties[e]||"function"!=typeof t.properties[e].set||"function"!=typeof t.properties[e].get))throw new Error("Coral.mixin.formField: You must implement properties."+e+".set() and properties."+e+".get()")})),Coral.register.augmentProperties(t.properties,c)}}(),function(){"use strict";var e=/[\s?]coral3-Icon--(?!size(XXS|XS|S|M|L))\w+/g,t=/\/|:|\./g,i=/([a-z0-9])([A-Z])/g,n={ON:"on",OFF:"off"},o={EXTRA_EXTRA_SMALL:"XXS",EXTRA_SMALL:"XS",SMALL:"S",MEDIUM:"M",LARGE:"L",EXTRA_LARGE:"XL",EXTRA_EXTRA_LARGE:"XXL"},a=[];for(var r in o)a.push("coral3-Icon--size"+o[r]);Coral.register({name:"Icon",tagName:"coral-icon",className:"coral3-Icon",properties:{icon:{default:"",reflectAttribute:!0,transform:function(e){return Coral.transform.string(e).trim()},sync:function(){if(this.className=this.className.replace(e,"").trim(),this.icon)if(this.icon.match(t)){this.classList.add("is-image");var i=this._elements.image=this._elements.image||document.createElement("img");i.className=this._className+"-image",i.src=this.icon,this.appendChild(i)}else this._elements.image&&this._elements.image.parentNode===this&&(this.removeChild(this._elements.image),this.classList.remove("is-image")),this.classList.add(this._className+"--"+this._icon)},alsoSync:"alt"},size:{default:o.SMALL,reflectAttribute:!0,transform:function(e){return"string"==typeof e?e.toUpperCase():e},validate:[Coral.validate.valueMustChange,Coral.validate.enumeration(o)],sync:function(){this.classList.remove.apply(this.classList,a),this.classList.add(this._className+"--size"+this.size)}},alt:{reflectAttribute:!0,transform:Coral.transform.string,get:function(){return this._alt||""},sync:function(){this._updateAltText()}},autoAriaLabel:{default:n.ON,transform:function(e){return"string"==typeof e?e.toLowerCase():e},validate:[Coral.validate.enumeration(n)],get:function(){return this.getAttribute("autoAriaLabel")||this._autoAriaLabel},set:function(e){this.setAttribute("autoAriaLabel",e),this._autoAriaLabel=e}}},_updateAltText:function(){var e=this.classList.contains("is-image"),t=this.autoAriaLabel===n.ON;this._alt||(this.removeAttribute("aria-label"),e&&this._elements.image.setAttribute("alt",""));var o=this._alt||this.hasAttribute("alt")?this.alt:this.getAttribute("title")||(e?"":this.icon.replace(i,"$1 $2").toLowerCase()),a=this.getAttribute("role"),r=a&&"presentation"!==a&&"img"!==a;r||this.setAttribute("role",e?"presentation":"img"),e?this._elements.image.setAttribute("alt",o):r&&""===o&&this.removeAttribute("role"),e?(t&&this.removeAttribute("aria-label"),this._elements.image.setAttribute("alt",o)):""===o?(t&&this.removeAttribute("aria-label"),r||this.removeAttribute("role")):t&&this.setAttribute("aria-label",o)},_initialize:function(){this._queueSync()},attributeChangedCallback:function(e,t,i){"title"!==(e=e.toLowerCase())?(Coral.Component.prototype.attributeChangedCallback.apply(this,arguments),"alt"===e&&(null===i||null===t&&""===i)&&this._updateAltText()):this._updateAltText()}}),Coral.Icon.size=o,Coral.Icon.autoAriaLabel=n}(),function(){"use strict";var e={CTA:"cta",PRIMARY:"primary",SECONDARY:"secondary",DEFAULT:"secondary",QUIET:"quiet",WARNING:"warning",MINIMAL:"minimal"},t=[];for(var i in e)t.push("coral3-Button--"+e[i]);var n={MEDIUM:"M",LARGE:"L"},o={RIGHT:"right",LEFT:"left"};Coral.register({name:"Button",tagName:"coral-button",baseTagName:"button",extend:HTMLButtonElement,className:"coral3-Button",events:{mousedown:"_onMouseDown",click:"_onClick"},properties:{label:Coral.property.contentZone({handle:"label",tagName:"coral-button-label",defaultContentZone:!0,insert:function(e){this.appendChild(e)}}),iconPosition:{attribute:"iconposition",reflectAttribute:!0,validate:[Coral.validate.valueMustChange,Coral.validate.enumeration(o)],transform:function(e){return null!==e?e:o.LEFT},get:function(){return void 0===this._iconPosition?o.LEFT:this._iconPosition},set:function(e){this._iconPosition=e,this.icon&&this._updateIcon(this.icon)}},icon:{get:function(){var e=this._elements.icon;return e?e.icon:""},set:function(e){this._updateIcon(e)}},iconSize:{attribute:"iconsize",get:function(){var e=this._elements.icon;return e?e.size:Coral.Icon.size.SMALL},set:function(e){this._getIconElement().size=e}},size:{default:n.MEDIUM,reflectAttribute:!0,transform:function(e){return"string"==typeof e?e.toUpperCase():e},validate:[Coral.validate.valueMustChange,Coral.validate.enumeration(n)],set:function(e){this._size=e,this.classList.toggle("coral3-Button--large",this.size===n.LARGE)}},selected:{default:!1,reflectAttribute:!0,transform:Coral.transform.boolean,attributeTransform:Coral.transform.booleanAttr,set:function(e){this._selected=e,this.classList.toggle("is-selected",this.selected)}},block:{default:!1,reflectAttribute:!0,transform:Coral.transform.boolean,attributeTransform:Coral.transform.booleanAttr,set:function(e){this._block=e,this.classList.toggle(this._className+"--block",this.block)}},variant:{default:e.SECONDARY,reflectAttribute:!0,validate:[Coral.validate.valueMustChange,Coral.validate.enumeration(e)],set:function(e){this._variant=e,this.classList.remove.apply(this.classList,t),this.classList.add(this._className+"--"+this.variant)}},trackingElement:{set:function(e){this._trackingElement=e},get:function(){return void 0===this._trackingElement?this.label&&this.label.textContent&&this.label.textContent.replace(/\s{2,}/g," ").trim()||this.icon:this._trackingElement},attribute:"trackingelement",transform:Coral.transform.string}},_updateIcon:function(e){var t=this._getIconElement();t.icon=e,""===this.icon?t.remove():t.parentNode&&!this._iconPosition||this.insertBefore(t,this.iconPosition===o.LEFT?this.firstChild:null),this._makeAccessible()},_onClick:function(e){this._trackEvent("click","button",e)},_onMouseDown:function(e){var t=e.matchedTarget;Coral.commons.nextFrame((function(){t!==document.activeElement&&t.focus()}))},_makeAccessible:function(){var e=this.label&&this.label.textContent.length>0;""!==this.icon&&this._elements.icon[e?"setAttribute":"removeAttribute"]("alt","")},_initialize:function(){this._observer=new MutationObserver(this._makeAccessible.bind(this)),this._observer.observe(this.label,{childList:!0,characterData:!0,subtree:!0})},_getIconElement:function(){return this._elements.icon||(this._elements.icon=document.createElement("coral-icon")),this._elements.icon},_render:function(){var e=document.createDocumentFragment(),t=this.querySelector("coral-button-label")||document.createElement("coral-button-label");for(t.parentNode&&this.removeChild(t);this.firstChild;){var i=this.firstChild;"CORAL-ICON"===i.tagName?(this._elements.icon=i,e.appendChild(i)):t.appendChild(i)}this.appendChild(e),this.label=t}}),Coral.Button.Label=function(){return document.createElement("coral-button-label")},Coral.Button.variant=e,Coral.Button.size=n,Coral.Button.iconPosition=o}(),function(){"use strict";Coral.register({name:"AnchorButton",tagName:"coral-anchorbutton",baseTagName:"a",extend:HTMLAnchorElement,className:Coral.Button.prototype._className,events:{keydown:"_onKeyDown",keyup:"_onKeyUp"},properties:Coral.commons.extend({},Coral.Button.prototype._properties,{label:Coral.property.contentZone({handle:"label",tagName:"coral-anchorbutton-label",defaultContentZone:!0,insert:function(e){this.appendChild(e)}}),disabled:{default:!1,reflectAttribute:!0,transform:Coral.transform.boolean,attributeTransform:Coral.transform.booleanAttr,sync:function(){this.classList.toggle("is-disabled",this.disabled),this.setAttribute("tabindex",this.disabled?"-1":"0"),this.setAttribute("aria-disabled",this.disabled)}}}),_makeAccessible:Coral.Button.prototype._makeAccessible,_getIconElement:Coral.Button.prototype._getIconElement,_updateIcon:Coral.Button.prototype._updateIcon,_onKeyDown:function(e){32===e.keyCode&&(e.preventDefault(),this.click(),this.classList.add("is-selected"))},_onKeyUp:function(e){32===e.keyCode&&(e.preventDefault(),this.classList.remove("is-selected"))},_onClick:function(e){this.disabled&&e.preventDefault(),this._trackEvent("click","anchorbutton",e)},_initialize:function(){Coral.Button.prototype._initialize.call(this),this.setAttribute("role","button"),this.setAttribute("tabindex","0"),this.addEventListener("click",this._onClick.bind(this))},_render:function(){for(var e=document.createDocumentFragment(),t=this.querySelector("coral-anchorbutton-label")||document.createElement("coral-anchorbutton-label");this.firstChild;){var i=this.firstChild;i.nodeType===Node.TEXT_NODE?t.appendChild(i):"CORAL-ICON"===i.tagName?(this._elements.icon=i,e.appendChild(i)):this.removeChild(i)}this.appendChild(e),this.label=t}}),Coral.AnchorButton.Label=function(){return document.createElement("coral-anchorbutton-label")}}(),window.Coral=window.Coral||{},window.Coral.templates=window.Coral.templates||{},window.Coral.templates.Progress=window.Coral.templates.Progress||{},window.Coral.templates.Progress.base=function(e){var t=document.createElement("div");t.className+=" coral3-Progress-bar";var i=document.createTextNode("\n  ");t.appendChild(i);var n=this.status=document.createElement("div");n.className+=" coral3-Progress-status",n.setAttribute("handle","status"),t.appendChild(n);var o=document.createTextNode("\n");return t.appendChild(o),t},function(){"use strict";var e={SMALL:"S",MEDIUM:"M",LARGE:"L"},t={LEFT:"left",RIGHT:"right",BOTTOM:"bottom"},i={S:"small",M:"medium",L:"large"},n=[];for(var o in e)n.push("coral3-Progress--"+i[e[o]]);var a=[];for(var r in t)a.push("coral3-Progress--"+t[r]+"Label");Coral.register({name:"Progress",tagName:"coral-progress",className:"coral3-Progress",properties:{value:{default:0,reflectAttribute:!0,trigger:"coral-progress:change",transform:function(e){return null===(e=Coral.transform.number(e))&&(e=0),e>100?e=100:e<0&&(e=0),e},sync:function(){this._elements.status.style.width=this.value+"%",this.indeterminate||(this.setAttribute("aria-valuenow",this.value),!0===this.showPercent&&this._setLabelContent(this.value+"%"))},get:function(){return this.indeterminate?0:this._value}},indeterminate:{default:!1,reflectAttribute:!0,transform:Coral.transform.boolean,attributeTransform:Coral.transform.booleanAttr,alsoSync:"value",sync:function(){this.indeterminate?(this.classList.add(this._className+"--indeterminate"),this.removeAttribute("aria-valuenow"),this.removeAttribute("aria-valuemin"),this.removeAttribute("aria-valuemax")):(this.classList.remove(this._className+"--indeterminate"),this.setAttribute("aria-valuemin","0"),this.setAttribute("aria-valuemax","100"))}},size:{default:e.MEDIUM,transform:function(e){return"string"==typeof e?e.toUpperCase():e},validate:[Coral.validate.valueMustChange,Coral.validate.enumeration(e)],sync:function(){this.classList.remove.apply(this.classList,n),this.classList.add(this._className+"--"+i[this.size])}},showPercent:{attribute:"showpercent",reflectAttribute:!0,transform:Coral.transform.boolean,attributeTransform:Coral.transform.booleanAttr,sync:function(){if(!0===this.showPercent){var e=this.indeterminate?"":this.value+"%";this._setLabelContent(e),this._showLabel()}else this.label.innerHTML=""}},label:Coral.property.contentZone({handle:"label",tagName:"coral-progress-label",defaultContentZone:!0,insert:function(e){this.appendChild(e)}}),labelPosition:{default:t.RIGHT,attribute:"labelposition",validate:[Coral.validate.valueMustChange,Coral.validate.enumeration(t)],sync:function(){this.classList.remove.apply(this.classList,a),this._elements.label.textContent.length>0&&this.classList.add(this._className+"--"+this.labelPosition+"Label")}}},_initialize:function(){this.setAttribute("role","progressbar"),this.setAttribute("aria-valuenow","0"),this.setAttribute("aria-valuemin","0"),this.setAttribute("aria-valuemax","100"),this._observer=new MutationObserver(this._toggleLabelBasedOnContent.bind(this)),this._observer.observe(this._elements.label,{characterData:!0,childList:!0,subtree:!0})},_render:function(){var e=this.querySelector("coral-progress-label"),t=e||document.createElement("coral-progress-label");if(!e)for(;this.firstChild;)t.appendChild(this.firstChild);this.appendChild(Coral.templates.Progress.base.call(this._elements)),this.label=t,this._toggleLabelBasedOnContent()},_toggleLabelBasedOnContent:function(){this._elements.label.textContent.length>0?this._showLabel():this._hideLabel()},_hideLabel:function(){this._elements.label.hidden=!0,this.classList.remove.apply(this.classList,a),this.classList.add(this._className+"--noLabel"),this.removeAttribute("aria-valuetext")},_showLabel:function(){this._elements.label.hidden=!1,this.classList.remove(this._className+"--noLabel"),this.classList.add(this._className+"--"+this.labelPosition+"Label"),!1===this.showPercent&&this.setAttribute("aria-valuetext",this.label.textContent)},_setLabelContent:function(e){this._elements.label.textContent=e,!0===this.showPercent?this.removeAttribute("aria-valuetext"):this.setAttribute("aria-valuetext",this.label.textContent)}}),Coral.register({name:"Progress.Label",tagName:"coral-progress-label",className:"coral3-Progress-label"}),Coral.Progress.size=e,Coral.Progress.labelPosition=t}(),function(){"use strict";var e={DEFAULT:"default",DOTS:"dots"},t={SMALL:"S",MEDIUM:"M",LARGE:"L"},i=[];for(var n in e)i.push("coral3-Wait--"+e[n]);Coral.register({name:"Wait",tagName:"coral-wait",className:"coral3-Wait",properties:{size:{default:t.SMALL,transform:function(e){return"string"==typeof e?e.toUpperCase():e},validate:[Coral.validate.valueMustChange,Coral.validate.enumeration(t)],set:function(e){this._size=e,this.classList.toggle(this._className+"--large",this.size===t.LARGE),this.classList.toggle(this._className+"--medium",this.size===t.MEDIUM)}},centered:{default:!1,reflectAttribute:!0,transform:Coral.transform.boolean,attributeTransform:Coral.transform.booleanAttr,sync:function(){this.classList.toggle(this._className+"--centered",this.centered)}},variant:{default:e.DEFAULT,validate:[Coral.validate.valueMustChange,Coral.validate.enumeration(e)],set:function(t){this._variant=t,this.classList.remove.apply(this.classList,i),this.variant!==e.DEFAULT&&this.classList.add(this._className+"--"+this.variant)}}}}),Coral.Wait.size=t,Coral.Wait.variant=e}(),window.Coral=window.Coral||{},window.Coral.templates=window.Coral.templates||{},window.Coral.templates.ButtonGroup=window.Coral.templates.ButtonGroup||{},window.Coral.templates.ButtonGroup.base=function(e){var t=this.nativeSelect=document.createElement("select");return t.className+=" coral3-ButtonGroup-select",t.setAttribute("tabindex","-1"),t.setAttribute("handle","nativeSelect"),t},function(){"use strict";var e={NONE:"none",SINGLE:"single",MULTIPLE:"multiple"},t=function(e){var t=e.getAttribute("value");return null!==t?t:e.textContent.replace(/\s{2,}/g," ").trim()};Coral.register({name:"ButtonGroup",tagName:"coral-buttongroup",className:"coral3-ButtonGroup",mixins:[Coral.mixin.formField],events:{'click button[is="coral-button"]':"_onButtonClick",'capture:focus button[is="coral-button"]':"_onButtonFocus",'capture:blur button[is="coral-button"]':"_onButtonBlur",'key:up button[is="coral-button"]':"_onButtonKeyUpLeft",'key:left button[is="coral-button"]':"_onButtonKeyUpLeft",'key:down button[is="coral-button"]':"_onButtonKeyDownRight",'key:right button[is="coral-button"]':"_onButtonKeyDownRight",'key:home button[is="coral-button"]':"_onButtonKeyHome",'key:end button[is="coral-button"]':"_onButtonKeyEnd"},properties:{items:{get:function(){return this._items||(this._items=new Coral.SelectableCollection({host:this,itemBaseTagName:"button",itemTagName:"coral-button",itemSelector:'button[is="coral-button"]',onItemAdded:this._onItemAdded,onItemRemoved:this._onItemRemoved,onCollectionChange:this._onCollectionChange})),this._items},set:function(){}},selectionMode:{default:e.NONE,attribute:"selectionmode",validate:[Coral.validate.valueMustChange,Coral.validate.enumeration(e)],set:function(t){this._selectionMode=t,this._elements.nativeSelect.multiple=this._selectionMode===e.MULTIPLE},sync:function(){this.selectionMode===e.SINGLE?(this.setAttribute("role","radiogroup"),this._syncItemOptions(),this._validateSelection()):this.selectionMode===e.MULTIPLE?(this.setAttribute("role","group"),this._syncItemOptions()):(this.setAttribute("role","group"),this._removeItemOptions())}},name:{get:function(e){return this._elements.nativeSelect.name},set:function(e){this._elements.nativeSelect.name=e}},value:{get:function(){return this._elements.nativeSelect.value},set:function(t){this.selectionMode!==e.NONE&&this._selectItemByValue([t])}},selectedItems:{get:function(){if(this.selectionMode===e.MULTIPLE)return this.items._getAllSelected();var t=this.selectedItem;return t?[t]:[]},set:function(){}},selectedItem:{get:function(){return this.selectionMode===e.MULTIPLE?this.items._getFirstSelected():this.items._getLastSelected()},set:function(){}},values:{attribute:null,validate:[Coral.validate.valueMustChange,function(e){return Array.isArray(e)}],set:function(t){this.selectionMode!==e.NONE&&(this.selectionMode!==e.MULTIPLE&&t.length>1&&(t=[t[0]]),this._selectItemByValue(t))},get:function(){for(var e=[],t=this._elements.nativeSelect.querySelectorAll(":checked"),i=0,n=t.length;i<n;i++)e.push(t[i].value);return e}},disabled:{sync:function(){var e=this.disabled||this.readOnly;this._elements.nativeSelect.disabled=e,this.items.getAll().forEach((function(t){t.disabled=e})),this.setAttribute("aria-disabled",e)}},readOnly:{sync:function(){var e=this;this._elements.nativeSelect.disabled=this.readOnly||this.disabled,this.items.getAll().forEach((function(t){t.disabled=e.disabled||e.readOnly&&!t.hasAttribute("selected"),e.readOnly?t.setAttribute("aria-disabled",!0):t.removeAttribute("aria-disabled")})),this.removeAttribute("aria-readonly")}},required:{sync:function(){this._elements.nativeSelect.required=this.required,this.selectionMode!==e.SINGLE&&this.removeAttribute("aria-required")}},invalid:{sync:function(){this.classList.toggle("is-invalid",this.invalid)}},labelledBy:{sync:function(){this._elements.nativeSelect.setAttribute("aria-labelledby",this.labelledBy)}}},reset:function(){this.values=this._initalSelectedValues},_onButtonClick:function(t){var i=t.matchedTarget;if(this._onButtonFocus(t),this.readOnly)return t.preventDefault(),void t.stopImmediatePropagation();if(this.selectionMode===e.SINGLE){t.preventDefault();var n=this.items._getAllSelected();0!==n.length&&n[0]!==i&&this._toggleItemSelection(n[0],!1),this._toggleItemSelection(i,!0),n[0]!==i&&this.trigger("change")}else this.selectionMode===e.MULTIPLE&&(t.preventDefault(),this._toggleItemSelection(i),this.trigger("change"))},_onButtonFocus:function(e){for(var t,i=e.matchedTarget,n=this.items.getAll(),o=n.length,a=0;a<o;a++)(t=n[a]).setAttribute("tabindex",t===i?0:-1)},_onButtonBlur:function(t){for(var i,n,o=t.matchedTarget,a=this.items.getAll(),r=a.length,s=this.selectedItems.length,l=this.items._getFirstSelectable(),c=!1,d=0;d<r;d++)c=(i=a[d]).hasAttribute("selected"),n=this.selectionMode===e.SINGLE?c?0:-1:this.selectionMode===e.MULTIPLE?!s&&0===d||c&&i===o||!o.hasAttribute("selected")&&i===(this.selectedItems[s-1]||l)?0:-1:i===l?0:-1,i.setAttribute("tabindex",n)},_onButtonKeyUpLeft:function(t){t.preventDefault();for(var i=t.matchedTarget,n=i.previousElementSibling;!n||n.disabled||"BUTTON"!==n.nodeName;)n=n?n.previousElementSibling:this.items._getLastSelectable();n!==i&&(this.selectionMode===e.SINGLE&&n.click(),this._setFocusToButton(n))},_onButtonKeyDownRight:function(t){t.preventDefault();for(var i=t.matchedTarget,n=i.nextElementSibling;!n||n.disabled||"BUTTON"!==n.nodeName;)n=n?n.nextElementSibling:this.items._getFirstSelectable();n!==i&&(this.selectionMode===e.SINGLE&&n.click(),this._setFocusToButton(n))},_onButtonKeyHome:function(t){t.preventDefault();var i=t.matchedTarget,n=this.items._getFirstSelectable();n!==i&&(this.selectionMode===e.SINGLE&&n.click(),this._setFocusToButton(n))},_onButtonKeyEnd:function(t){t.preventDefault();var i=t.matchedTarget,n=this.items._getLastSelectable();n!==i&&(this.selectionMode===e.SINGLE&&n.click(),this._setFocusToButton(n))},_setFocusToButton:function(e){e&&e.focus()},_onItemAdded:function(t){t.classList.add("coral3-ButtonGroup-item"),this.selectionMode!==e.NONE?(this.selectionMode===e.SINGLE?(t.setAttribute("role","radio"),t.setAttribute("tabindex",t.hasAttribute("selected")?0:-1)):t.setAttribute("role","checkbox"),t.setAttribute("aria-checked",t.hasAttribute("selected"))):t.removeAttribute("role"),t.disabled=this.disabled||this.readOnly&&!t.hasAttribute("selected"),this.readOnly?t.setAttribute("aria-disabled",!0):t.removeAttribute("aria-disabled"),this._addItemOption(t),this._validateSelection(t.hasAttribute("selected")?t:null)},_onItemRemoved:function(e){e.classList.remove("coral3-ButtonGroup-item"),e.removeAttribute("role");var t=this;Coral.commons.nextFrame((function(){if(!e.parentNode){var i=t._initalSelectedValues.indexOf(e.value);-1!==i&&t._initalSelectedValues.splice(i,1)}})),e.option&&(e.option.parentNode.removeChild(e.option),e.option=void 0)},_onCollectionChange:function(e,t){this._validateSelection()},_handleMutations:function(i){for(var n=0,o=i.length;n<o;n++){var a=i[n].target,r=i[n].attributeName;if("value"===r)a.matches('button[is="coral-button"]')&&(a.option.value=t(a));else if("selected"===r&&a.matches('button[is="coral-button"]')){var s=a.hasAttribute("selected");this.selectionMode===e.SINGLE?this._validateSelection(s?a:null):this._toggleItemSelection(a,s)}}},_toggleItemSelection:function(t,i){var n=t.getAttribute("aria-checked"),o=t.getAttribute("tabindex");(i=void 0!==i?i:!t.hasAttribute("selected"))?(t.hasAttribute("selected")||t.setAttribute("selected",""),"true"!==n&&t.setAttribute("aria-checked",!0),this.selectionMode===e.SINGLE&&"0"!==o&&t.setAttribute("tabindex",0)):i||(t.hasAttribute("selected")&&t.removeAttribute("selected"),this.selectionMode!==e.NONE?("false"!==n&&t.setAttribute("aria-checked",!1),this.selectionMode===e.SINGLE&&"-1"!==o&&t.setAttribute("tabindex",-1)):(t.removeAttribute("aria-checked"),t.removeAttribute("tabindex"))),t.option&&(t.option.selected=i)},_selectItemByValue:function(e){for(var i,n=this.items.getAll(),o=0,a=n.length;o<a;o++)i=n[o],this._toggleItemSelection(i,-1!==e.indexOf(t(i)))},_addItemOption:function(i){if(this.selectionMode!==e.NONE&&!i.option){var n=document.createElement("option");n.value=t(i),-1!==this._initalSelectedValues.indexOf(n.value)&&n.setAttribute("selected",""),i.option=n,this._elements.nativeSelect.add(n),this._toggleItemSelection(i,i.hasAttribute("selected"))}},_removeItemOptions:function(){for(var e,t=this.items.getAll(),i=0,n=t.length;i<n;i++)(e=t[i]).removeAttribute("role"),e.removeAttribute("aria-checked"),e.hasAttribute("selected")&&this._toggleItemSelection(e,!1),e.option&&(e.option.parentNode.removeChild(e.option),delete e.option)},_syncItemOptions:function(){for(var t,i=this.items.getAll(),n=i.length,o=0,a=this.selectionMode===e.SINGLE?"radio":this.selectionMode===e.MULTIPLE?"checkbox":null,r=!1;o<n;o++)this._addItemOption(i[o]);for(o=n-1;o>=0;o--)r=(t=i[o]).hasAttribute("selected"),t.option.selected=r,t.setAttribute("aria-checked",r),a?t.setAttribute("role",a):t.removeAttribute("role")},_validateSelection:function(t){if(this.selectionMode===e.SINGLE){var i=this.items._getAllSelected(),n=i.length;if(0===n){var o=this.items._getFirstSelectable();o&&this._toggleItemSelection(o,!0)}else if(n>1){t=t||i[0],this._toggleItemSelection(t,!0);for(var a=0;a<n;a++)i[a]!==t&&this._toggleItemSelection(i[a],!1)}}},_getLabellableElement:function(){return this},_templateHandleNames:["nativeSelect"],_render:function(){var e=document.createDocumentFragment();for(e.appendChild(Coral.templates.ButtonGroup.base.call(this._elements));this.firstChild;){var t=this.firstChild;t.nodeType===Node.TEXT_NODE||-1===this._templateHandleNames.indexOf(t.getAttribute("handle"))?e.appendChild(t):this.removeChild(t)}this.appendChild(e)},_initialize:function(){this._observer=new MutationObserver(this._handleMutations.bind(this)),this._observer.observe(this,{attributes:!0,subtree:!0,attributeFilter:["selected","value"]}),this._initalSelectedValues=[];for(var e=0,t=this.selectedItems.length;e<t;e++)this._initalSelectedValues.push(this.selectedItems[e].value);this.items._startHandlingItems()}}),Coral.ButtonGroup.selectionMode=e}(),window.Coral=window.Coral||{},window.Coral.templates=window.Coral.templates||{},window.Coral.templates.Checkbox=window.Coral.templates.Checkbox||{},window.Coral.templates.Checkbox.base=function(e){var t=document.createDocumentFragment(),i=this.input=document.createElement("input");i.setAttribute("type","checkbox"),i.setAttribute("handle","input"),i.className+=" coral3-Checkbox-input",i.id=Coral.commons.getUID(),t.appendChild(i);var n=document.createTextNode("\n");t.appendChild(n);var o=this.checkbox=document.createElement("span");o.className+=" coral3-Checkbox-checkmark",o.setAttribute("handle","checkbox"),t.appendChild(o);var a=document.createTextNode("\n");t.appendChild(a);var r=this.labelWrapper=document.createElement("label");return r.className+=" coral3-Checkbox-description",r.setAttribute("handle","labelWrapper"),r.setAttribute("for",this.input.id),t.appendChild(r),t},function(){"use strict";var e=-1!==navigator.userAgent.indexOf("MSIE")||navigator.appVersion.indexOf("Trident/")>0||-1!==window.navigator.userAgent.indexOf("Edge");Coral.register({name:"Checkbox",tagName:"coral-checkbox",className:"coral3-Checkbox",mixins:[Coral.mixin.formField],events:{click:"_onClick",mousedown:"_onMouseDown"},properties:{checked:{default:!1,reflectAttribute:!0,transform:Coral.transform.boolean,attributeTransform:Coral.transform.booleanAttr,set:function(e){this._checked=e,this._elements.input.checked=e}},indeterminate:{default:!1,reflectAttribute:!0,transform:Coral.transform.boolean,attributeTransform:Coral.transform.booleanAttr,sync:function(){this._elements.input.indeterminate=this.indeterminate,this._elements.input[this.indeterminate?"setAttribute":"removeAttribute"]("aria-checked","mixed")}},label:Coral.property.contentZone({handle:"label",tagName:"coral-checkbox-label",defaultContentZone:!0,insert:function(e){this._elements.labelWrapper.appendChild(e)}}),value:{default:"on",set:function(e){this._elements.input.value=e},get:function(){return this._elements.input.value}},disabled:{sync:function(){this.classList.toggle("is-disabled",this.disabled),this._elements.input.disabled=this.disabled}},name:{get:function(){return this._elements.input.name},set:function(e){this._elements.input.name=e}},required:{sync:function(){this._elements.input.required=this.required}},trackingElement:{set:function(e){this._trackingElement=e},get:function(){return void 0===this._trackingElement?(this.name?this.name+"="+this.value:"")||this.label.textContent.replace(/\s{2,}/g," ").trim():this._trackingElement},attribute:"trackingelement",transform:Coral.transform.string}},_componentTargetProperty:"checked",_eventTargetProperty:"checked",clear:function(){this.checked=!1},reset:function(){this.checked=this._initialCheckedState},_onInputChange:function(t){t.stopPropagation(),this[this._componentTargetProperty]=t.target[this._eventTargetProperty],this.indeterminate=!1,this._triggerChangeEvent&&(e?Coral.commons.nextFrame(function(){this.trigger("change")}.bind(this)):this.trigger("change"))},_onClick:function(t){e&&this.indeterminate?(this.checked=!this.checked,this._onInputChange(t)):t.target===this&&(this.indeterminate=!1,this.checked=!this.checked,this.trigger("change")),this._trackEvent(this.checked?"checked":"unchecked","checkbox",t)},_onMouseDown:function(){var e=this._elements.input;Coral.commons.nextFrame((function(){e!==document.activeElement&&e.focus()}))},_templateHandleNames:["input","checkbox","labelWrapper"],_render:function(){var e=document.createDocumentFragment();e.appendChild(Coral.templates.Checkbox.base.call(this._elements));var t=this.querySelector("coral-checkbox-label")||document.createElement("coral-checkbox-label");for(t&&t.parentNode&&t.parentNode.removeChild(t),this._elements.labelWrapper.hidden=!0;this.firstChild;){var i=this.firstChild;i.nodeType===Node.TEXT_NODE||-1===this._templateHandleNames.indexOf(i.getAttribute("handle"))?t.appendChild(i):this.removeChild(i)}this.appendChild(e),this.label=t},_initialize:function(){this._observer=new MutationObserver(this._hideLabelIfEmpty.bind(this)),this._observer.observe(this._elements.labelWrapper,{childList:!0,characterData:!0,subtree:!0}),this._initialCheckedState=this.checked},_hideLabelIfEmpty:function(){var e=this._elements.label,t=0===e.children.length&&""===e.textContent.replace(/\s*/g,"");t!==this._elements.labelWrapper.hidden&&(this._elements.labelWrapper.hidden=t)},attachedCallback:function(){Coral.Component.prototype.attachedCallback.call(this),this._hideLabelIfEmpty()}}),Coral.Checkbox.Label=function(){return document.createElement("coral-checkbox-label")}}(),window.Coral=window.Coral||{},window.Coral.templates=window.Coral.templates||{},window.Coral.templates.Radio=window.Coral.templates.Radio||{},window.Coral.templates.Radio.base=function(e){var t=document.createDocumentFragment(),i=this.input=document.createElement("input");i.setAttribute("type","radio"),i.setAttribute("handle","input"),i.className+=" coral3-Radio-input",i.id=Coral.commons.getUID(),t.appendChild(i);var n=document.createTextNode("\n");t.appendChild(n);var o=this.checkmark=document.createElement("span");o.className+=" coral3-Radio-checkmark",o.setAttribute("handle","checkmark"),t.appendChild(o);var a=document.createTextNode("\n");t.appendChild(a);var r=this.labelWrapper=document.createElement("label");return r.className+=" coral3-Radio-description",r.setAttribute("handle","labelWrapper"),r.setAttribute("for",this.input.id),t.appendChild(r),t},function(){"use strict";Coral.register({name:"Radio",tagName:"coral-radio",className:"coral3-Radio",mixins:[Coral.mixin.formField],events:{click:"_onClick",mousedown:"_onMouseDown"},properties:{checked:{default:!1,reflectAttribute:!0,transform:Coral.transform.boolean,attributeTransform:Coral.transform.booleanAttr,set:function(e){this._checked=e,this._elements.input.checked=e,this._syncRelatedRadios()}},label:Coral.property.contentZone({handle:"label",tagName:"coral-radio-label",defaultContentZone:!0,insert:function(e){this._elements.labelWrapper.appendChild(e)}}),value:{default:"on",set:function(e,t){this._elements.input.value=e},get:function(){return this._elements.input.value}},disabled:{sync:function(){this.classList.toggle("is-disabled",this.disabled),this._elements.input.disabled=this.disabled}},name:{get:function(){return this._elements.input.name},set:function(e){this._elements.input.name=e}},required:{sync:function(){this._elements.input.required=this.required}},trackingElement:{set:function(e){this._trackingElement=e},get:function(){return void 0===this._trackingElement?(this.name?this.name+"="+this.value:"")||this.label.textContent.replace(/\s{2,}/g," ").trim():this._trackingElement},attribute:"trackingelement",transform:Coral.transform.string}},_componentTargetProperty:"checked",_eventTargetProperty:"checked",clear:function(){this.checked=!1},reset:function(){this.checked=this._initialCheckedState},_syncRelatedRadios:function(){if(null!==this.parentNode&&this.name&&this.checked)for(var e=document.querySelectorAll(this.tagName+"[name="+JSON.stringify(this.name)+"]"),t=e.length,i=0;i<t;i++)e[i]!==this&&e[i].removeAttribute("checked")},_hideLabelIfEmpty:function(){var e=this.label,t=0===e.children.length&&""===e.textContent.replace(/\s*/g,"");t!==this._elements.labelWrapper.hidden&&(this._elements.labelWrapper.hidden=t)},_onClick:function(e){this.checked||(e.target===this&&(this.checked=!0,this.trigger("change")),this._trackEvent("checked","radio",e))},_onMouseDown:function(){var e=this._elements.input;Coral.commons.nextFrame((function(){e!==document.activeElement&&e.focus()}))},attachedCallback:function(){Coral.Component.prototype.attachedCallback.call(this),this._syncRelatedRadios(),this._hideLabelIfEmpty()},_initialize:function(){this._observer=new MutationObserver(this._hideLabelIfEmpty.bind(this)),this._observer.observe(this._elements.labelWrapper,{childList:!0,characterData:!0,subtree:!0}),this._initialCheckedState=this.checked},_templateHandleNames:["input","checkmark","labelWrapper"],_render:function(){var e=document.createDocumentFragment();e.appendChild(Coral.templates.Radio.base.call(this._elements));var t=this.querySelector("coral-radio-label")||document.createElement("coral-radio-label");for(t&&t.parentNode&&t.parentNode.removeChild(t),this._elements.labelWrapper.hidden=!0;this.firstChild;){var i=this.firstChild;i.nodeType===Node.TEXT_NODE||-1===this._templateHandleNames.indexOf(i.getAttribute("handle"))?t.appendChild(i):this.removeChild(i)}this.appendChild(e),this.label=t}}),Coral.Radio.Label=function(){return document.createElement("coral-radio-label")}}(),function(){"use strict";var e={DEFAULT:"default",QUIET:"quiet"},t=[];for(var i in e)t.push("coral3-Textfield--"+e[i]);Coral.register({name:"Textfield",tagName:"coral-textfield",baseTagName:"input",extend:HTMLInputElement,className:"coral3-Textfield",mixins:[Coral.mixin.formField],properties:{invalid:{sync:function(){this.classList.toggle("is-invalid",this.invalid)}},variant:{default:e.DEFAULT,validate:[Coral.validate.valueMustChange,Coral.validate.enumeration(e)],sync:function(){this.classList.remove.apply(this.classList,t),this.variant!==Coral.Textfield.variant.DEFAULT&&this.classList.add(this._className+"--"+this.variant)}}}}),Coral.Textfield.variant=e}(),function(){"use strict";var e={DEFAULT:"default",QUIET:"quiet"},t=[];for(var i in e)t.push("coral3-Textfield--"+e[i]);Coral.register({name:"Textarea",tagName:"coral-textarea",baseTagName:"textarea",extend:HTMLTextAreaElement,className:"coral3-Textfield coral3-Textfield--multiline",mixins:[Coral.mixin.formField],events:{input:"_onInput"},properties:{invalid:{sync:function(){this.classList.toggle("is-invalid",this.invalid)}},variant:{default:e.DEFAULT,validate:[Coral.validate.valueMustChange,Coral.validate.enumeration(e)],sync:function(){this.classList.remove.apply(this.classList,t),this.variant!==e.DEFAULT&&this.classList.add("coral3-Textfield--"+this.variant),this.variant===e.QUIET?this._defaultHeight=this.style.height:this.style.height=this._defaultHeight,this._onInput()}}},reset:function(){this.value=this.textContent},_onInput:function(){this.variant===e.QUIET&&(this.style.height="auto",this.style.height=this.scrollHeight+"px")}}),Coral.Textarea.variant=e}(),window.Coral=window.Coral||{},window.Coral.templates=window.Coral.templates||{},window.Coral.templates.Accordion=window.Coral.templates.Accordion||{},window.Coral.templates.Accordion.item=function(e){var t=document.createDocumentFragment(),i=this.acHeading=document.createElement("div");i.className+=" coral3-Accordion-itemHeading",i.setAttribute("handle","acHeading"),i.setAttribute("role","heading");var n=document.createTextNode("\n  ");i.appendChild(n);var o=this.acHeader=document.createElement("div");o.className+=" coral3-Accordion-header",o.id=Coral.commons.getUID(),o.setAttribute("handle","acHeader"),o.setAttribute("role","button"),o.setAttribute("tabindex","0");var a=document.createTextNode("\n    ");o.appendChild(a);var r=this.icon=document.createElement("coral-icon");r.className+=" coral3-Accordion-icon",r.setAttribute("size","xs"),r.setAttribute("handle","icon"),r.setAttribute("icon","chevronRight"),r.setAttribute("alt",""),o.appendChild(r);var s=document.createTextNode("\n    ");o.appendChild(s);var l=this.labelContainer=document.createElement("div");l.className+=" coral3-Accordion-label",l.setAttribute("handle","labelContainer"),o.appendChild(l);var c=document.createTextNode("\n  ");o.appendChild(c),i.appendChild(o);var d=document.createTextNode("\n");i.appendChild(d),t.appendChild(i);var u=document.createTextNode("\n");t.appendChild(u);var h=this.acContent=document.createElement("div");return h.className+=" coral3-Accordion-content",h.setAttribute("handle","acContent"),h.id=Coral.commons.getUID(),h.setAttribute("role","region"),t.appendChild(h),t},function(){"use strict";var e={DEFAULT:"default",QUIET:"quiet",LARGE:"large"},t=[];for(var i in e)t.push("coral3-Accordion--"+e[i]);Coral.register({name:"Accordion",tagName:"coral-accordion",className:"coral3-Accordion",mixins:[Coral.mixin.selectionList({role:"region",itemTagName:"coral-accordion-item",allowSingleModeDeselect:!0})],events:{'click [handle="acHeader"]':"_onItemClick",'key:space [handle="acHeader"]':"_onToggleItemKey",'key:return [handle="acHeader"]':"_onToggleItemKey",'key:pageup [handle="acHeader"]':"_focusPreviousItem",'key:left [handle="acHeader"]':"_focusPreviousItem",'key:up [handle="acHeader"]':"_focusPreviousItem",'key:pagedown [handle="acHeader"]':"_focusNextItem",'key:right [handle="acHeader"]':"_focusNextItem",'key:down [handle="acHeader"]':"_focusNextItem",'key:home [handle="acHeader"]':"_onHomeKey",'key:end [handle="acHeader"]':"_onEndKey",'keydown [handle="acContent"]':"_onItemContentKeyDown"},properties:{variant:{default:e.DEFAULT,validate:[Coral.validate.valueMustChange,Coral.validate.enumeration(e)],sync:function(){this.classList.remove.apply(this.classList,t),this.variant!==Coral.Accordion.variant.DEFAULT&&this.classList.add(this._className+"--"+this.variant)}},level:{default:3,reflectAttribute:!0,transform:Coral.transform.number,validate:[Coral.validate.valueMustChange,function(e,t){return e!==t&&e>0&&e<7}],sync:function(){var e=this.level;this.items.getAll().forEach((function(t){t.level=e}))}},_tabTarget:{default:null,sync:function(){var e=this._tabTarget;this.items.getAll().forEach((function(t){t._isTabTarget=t===e}))}},multiple:{sync:function(){this.removeAttribute("aria-multiselectable"),this._mutateSelection((function(){this.multiple||this.items.deselectAllExceptLast()}))}}},_onHomeKey:function(e){e.preventDefault(),e.stopPropagation(),this._focusItem(this.items.getFirstSelectable())},_onEndKey:function(e){e.preventDefault(),e.stopPropagation(),this._focusItem(this.items.getLastSelectable())},_onItemContentKeyDown:function(e){var t=parseFloat(e.keyCode),i=e.matchedTarget.closest("coral-accordion-item");switch(t){case 38:case 37:(e.metaKey||e.ctrlKey)&&Coral.Keys.filterInputs(e)&&(e.preventDefault(),e.stopPropagation(),this._focusItem(i));break;case 33:if(e.metaKey||e.ctrlKey){e.preventDefault(),e.stopPropagation();var n=this.items.getPreviousSelectable(i);this._selectItem(n),this._focusItem(n)}break;case 34:if(e.metaKey||e.ctrlKey){e.preventDefault(),e.stopPropagation();var o=this.items.getNextSelectable(i);this._selectItem(o),this._focusItem(o)}}},_focusPreviousItem:function(e){e.preventDefault(),e.stopPropagation(),this._focusItem(this.items.getPreviousSelectable(e.target.closest("coral-accordion-item")))},_focusNextItem:function(e){e.preventDefault(),e.stopPropagation(),this._focusItem(this.items.getNextSelectable(e.target.closest("coral-accordion-item")))},_onItemClick:function(e){if(!e.target.hasAttribute("coral-interactive")&&!e.target.closest("[coral-interactive]")){var t=e.target.closest("coral-accordion-item");t&&(e.preventDefault(),e.stopPropagation(),this._selectItem(t),this._focusItem(t))}},_onToggleItemKey:function(e){e.preventDefault(),e.stopPropagation();var t=e.target.closest("coral-accordion-item");this._selectItem(t),this._focusItem(t)},_onItemSelected:function(){this._resetTabTarget()},_onItemDeselected:function(){this._resetTabTarget()},_onItemAttached:function(){this._resetTabTarget()},_onItemDetached:function(){this._resetTabTarget()},_resetTabTarget:function(){this._resetTabTargetScheduled||(this._resetTabTargetScheduled=!0,Coral.commons.nextFrame(function(){this._resetTabTargetScheduled=!1;var e=this.items._getNonNestedItems().filter((function(e){return e.hasAttribute("selected")&&!e.hasAttribute("disabled")&&!e.hasAttribute("hidden")}));this._tabTarget=e.length?e[0]:this.items.getFirstSelectable()}.bind(this)))},_focusItem:function(e){e&&e.focus(),this._tabTarget=e}}),Coral.Accordion.variant=e}(),function(){"use strict";var e={true:"chevronDown",false:"chevronRight"};Coral.register({name:"Accordion.Item",tagName:"coral-accordion-item",className:"coral3-Accordion-item",mixins:[Coral.mixin.selectionList.Item({listSelector:"coral-accordion",role:"presentation"})],properties:{label:Coral.property.contentZone({handle:"label",tagName:"coral-accordion-item-label",insert:function(e){this._elements.labelContainer.appendChild(e)}}),content:Coral.property.contentZone({handle:"content",tagName:"coral-accordion-item-content",defaultContentZone:!0,insert:function(e){this._elements.acContent.appendChild(e)}}),selected:{sync:function(){this.classList.toggle("is-selected",this.selected),this.removeAttribute("aria-selected"),this._elements.acHeader.tabIndex=0,this._elements.acHeader.setAttribute("aria-expanded",this.selected),this.selected?this._elements.acContent.removeAttribute("aria-hidden"):this._elements.acContent.setAttribute("aria-hidden",!this.selected),this._elements.icon.icon=e[this.selected];var t=this._elements.acContent;this._animate?(this.selected?(t.classList.remove("is-closed"),t.classList.add("is-collapsing"),t.style.height=t.scrollHeight+"px"):(t.style.height=t.scrollHeight+"px",t.offsetHeight,t.classList.add("is-collapsing"),t.classList.remove("is-open"),t.style.height=0),Coral.commons.transitionEnd(t,function(){this._onCollapsed()}.bind(this))):(this._animate=!0,this.selected?t.classList.add("is-open"):(t.classList.add("is-closed"),t.style.height="0"))}},disabled:{alsoSync:["_isTabTarget"],sync:function(){this.classList.toggle("is-disabled",this.disabled),this.removeAttribute("aria-disabled"),this.disabled?this._elements.acHeader.setAttribute("aria-disabled",this.disabled):this._elements.acHeader.removeAttribute("aria-disabled")}},level:{default:3,reflectAttribute:!0,transform:Coral.transform.number,validate:[Coral.validate.valueMustChange,function(e,t){return e!==t&&e>0&&e<7}],sync:function(){this._elements.acHeading.setAttribute("aria-level",this.level)}},_isTabTarget:{default:!1,sync:function(){this.disabled?this._elements.acHeader.removeAttribute("tabindex"):this._elements.acHeader.tabIndex=0}}},focus:function(){this._elements.acHeader.focus()},_onCollapsed:function(){var e=this._elements.acContent;e.classList.remove("is-collapsing"),e.classList.add("is-closed"),this._selected?(e.classList.add("is-open"),e.classList.remove("is-closed"),e.style.height=""):(e.classList.add("is-closed"),e.classList.remove("is-open"))},_initialize:function(){var e=this._elements.acHeader;e.tabIndex=0,e.setAttribute("aria-controls",this._elements.acContent.id),this._elements.acContent.setAttribute("aria-labelledby",e.id)},_templateHandleNames:["acHeading","acHeader","icon","labelContainer","acContent"],_render:function(){var e=Coral.templates.Accordion.item.call(this._elements),t=this.querySelector("coral-accordion-item-label")||document.createElement("coral-accordion-item-label"),i=this.querySelector("coral-accordion-item-content")||document.createElement("coral-accordion-item-content");for(this.label=t,this.content=i;this.firstChild;){var n=this.firstChild;n.nodeType===Node.TEXT_NODE||-1===this._templateHandleNames.indexOf(n.getAttribute("handle"))?i.appendChild(n):this.removeChild(n)}this.appendChild(e)}}),Coral.Accordion.Item.Content=function(){return document.createElement("coral-accordion-item-content")},Coral.Accordion.Item.Label=function(){return document.createElement("coral-accordion-item-label")}}(),function(){"use strict";var e={LEFT_TOP:"left top",LEFT_CENTER:"left center",LEFT_BOTTOM:"left bottom",CENTER_TOP:"center top",CENTER_CENTER:"center center",CENTER_BOTTOM:"center bottom",RIGHT_TOP:"right top",RIGHT_CENTER:"right center",RIGHT_BOTTOM:"right bottom"},t={FLIP:"flip",FIT:"fit",FLIP_FIT:"flipfit",NONE:"none"},i={PREVIOUS:"_prev",NEXT:"_next"},n={LEFT:"left",RIGHT:"right",BOTTOM:"bottom",TOP:"top"},o={ON:"on",OFF:"off"};function a(){this.open&&this._position()}function r(e){return"string"==typeof e?e.toLowerCase():e}Coral.register({name:"Overlay",tagName:"coral-overlay",className:"coral3-Overlay",mixins:[Coral.mixin.overlay],events:{"global:resize":"_position","global:key:escape":"_handleEscape","click [coral-close]":"_handleCloseClick"},properties:{target:{default:null,validate:function(e){return null===e||"string"==typeof e||e instanceof Node},set:function(e){this._target=e,this.target&&this.open&&(this._position(),this._returnFocus===Coral.mixin.overlay.returnFocus.ON&&this.returnFocusTo(this._getTarget()))}},alignMy:{attribute:"alignmy",default:e.CENTER_CENTER,transform:r,validate:[Coral.validate.valueMustChange,Coral.validate.enumeration(e)],sync:a},alignAt:{attribute:"alignat",default:e.CENTER_CENTER,transform:r,validate:[Coral.validate.valueMustChange,Coral.validate.enumeration(e)],sync:a},offset:{default:0,transform:Coral.transform.number,validate:function(e){return"number"==typeof e},set:function(e){this._offset=e,this.open&&this._position()}},placement:{transform:r,validate:[Coral.validate.valueMustChange,Coral.validate.enumeration(n)],set:function(e){var t=this._placementAlignValues[e];this.alignMy=t.alignMy,this.alignAt=t.alignAt,this._placement=e}},within:{default:window,sync:a},collision:{default:t.FLIP_FIT,sync:a},open:{sync:function(){this.open&&this._position()}},interaction:{default:o.ON,validate:[Coral.validate.valueMustChange,Coral.validate.enumeration(o)]}},_overlayAnimationTime:0,_initialize:function(){this.style.display="none"},_getTarget:function(e){if((e=e||this.target)instanceof Node)return e;var t=null;return"string"==typeof e&&(t=e===i.PREVIOUS?this.previousElementSibling:e===i.NEXT?this.nextElementSibling:document.querySelector(e)),t},_placementAlignValues:{right:{alignMy:"left center",alignAt:"right center"},left:{alignMy:"right center",alignAt:"left center"},top:{alignMy:"center bottom",alignAt:"center top"},bottom:{alignMy:"center top",alignAt:"center bottom"}},reposition:a,_position:function(){if(this.open){var e=this._getTarget();if(e){this._beforePosition();var t=this.offset,i=[],n=this.alignMy,o=this.alignAt,a=n.split(" "),r=o.split(" ");i[0]=t>0?"+"+t:t,i[1]=t>0?"-"+t:"+"+-t,t&&("top"!==a[1]||"bottom"!==r[1]&&"top"!==r[1]?"bottom"!==a[1]||"top"!==r[1]&&"bottom"!==r[1]?"left"!==a[0]||"right"!==r[0]&&"left"!==r[0]?"right"!==a[0]||"left"!==r[0]&&"right"!==r[0]||(n=a.join(i[1]+" ")):n=a.join(i[0]+" "):n+=i[1]:n+=i[0]),$(this).position({my:n,at:o,using:this._positionCallback,of:e,collision:this.collision,within:this.within})}}},_beforePosition:function(){var e=window.innerWidth;if(0===this.alignMy.indexOf("left")||0===this.alignMy.indexOf("right")){this.style.display="block";var t=this._getTarget().getBoundingClientRect(),i=e-(t.left+t.width),n=t.left,o=Math.max(n,i);this.style.maxWidth=o+"px",this.style.display=""}else this.style.maxWidth=e+"px";this.style.left="-9999px",this.style.top="-9999px"},_positionCallback:function(e,t){this._applyPosition(e,t),this.trigger("coral-overlay:positioned",t)},_applyPosition:function(e,t){this.style.top=e.top+"px",this.style.left=e.left+"px"},_handleCloseClick:function(e){var t=e.matchedTarget.getAttribute("coral-close");t&&!this.matches(t)||(this.hide(),e.stopPropagation())},_handleEscape:function(e){this.interaction===o.ON&&this.open&&this._isTopOverlay()&&this.hide()}}),Coral.Overlay.align=e,Coral.Overlay.collision=t,Coral.Overlay.target=i,Coral.Overlay.placement=n,Coral.Overlay.interaction=o}(),function(){"use strict";var e={FREE:"free",VERTICAL:"vertical",HORIZONTAL:"horizontal"};function t(e){return"string"==typeof e?Array.prototype.slice.call(document.querySelectorAll(e)):e instanceof HTMLElement?[e]:"[object NodeList]"===Object.prototype.toString.call(e)?Array.prototype.slice.call(e):void 0}function i(e){var t={};return e.changedTouches&&e.changedTouches.length>0?t=e.changedTouches[0]:e.touches&&e.touches.length>0&&(t=e.touches[0]),{x:t.pageX||e.pageX,y:t.pageY||e.pageY}}function n(e){var t=null;return e._dropZones&&e._dropZones.length&&e._dropZones.some((function(i){if(n=e._scrollingElement,o=e._dragElement,a=i,r=o.getBoundingClientRect(),s=a.getBoundingClientRect(),l=n.scrollTop,c=n.scrollLeft,d=r.left+c,u=d+r.width,h=s.left+c,p=h+s.width,m=r.top+l,f=m+r.height,g=s.top+l,v=g+s.height,!(h>u||p<d||g>f||v<m))return t=i,!0;var n,o,a,r,s,l,c,d,u,h,p,m,f,g,v})),t}Coral.DragAction=function(e){if(!e)throw new Error("Coral.DragAction: dragElement is missing");var t=null;if(e instanceof HTMLElement)t=e;else if("string"==typeof e&&!(t=document.querySelector(e)))throw new Error("Coral.DragAction: dragElement is null");this._id=Coral.commons.getUID(),this._dragElementValue=e,this._dragElement=t,this._dragElement.dragAction&&this._dragElement.dragAction.destroy();var i=window.getComputedStyle(this._dragElement);this._initialPosition={position:i.position,left:i.left,top:i.top},this._dragEvents=new window.Vent(this._dragElement),this.handle=this._dragElement.getAttribute("coral-dragaction-handle"),this.dropZone=this._dragElement.getAttribute("coral-dragaction-dropzone"),this.axis=this._dragElement.getAttribute("coral-dragaction-axis"),this.scroll=this._dragElement.matches("[coral-dragaction-scroll]"),this.containment=this._dragElement.matches("[coral-dragaction-containment]"),this._drag=this._drag.bind(this),this._dragEnd=this._dragEnd.bind(this),Coral.events.on("touchmove.CoralDragAction"+this._id,this._drag),Coral.events.on("mousemove.CoralDragAction"+this._id,this._drag),Coral.events.on("touchend.CoralDragAction"+this._id,this._dragEnd),Coral.events.on("mouseup.CoralDragAction"+this._id,this._dragEnd),this._dragElement.dragAction=this},Coral.DragAction.prototype={},Object.defineProperty(Coral.DragAction.prototype,"_scrollingElement",{get:function(){return document.scrollingElement||document.documentElement}}),Object.defineProperty(Coral.DragAction.prototype,"dragElement",{get:function(){return this._dragElementValue},set:function(e){}}),Object.defineProperty(Coral.DragAction.prototype,"handle",{get:function(){return this._handle},set:function(e){if(Coral.validate.valueMustChange(e,this._handle))if(this._handle=e,this._dragEvents.off(".CoralDragAction"),document.body.classList.remove("u-coral-closedHand"),this._dragElement.classList.remove("is-dragging"),this._handles&&this._handles.length?this._handles.forEach((function(e){e._dragEvents.off(".CoralDragAction"),e.classList.remove("u-coral-openHand")})):this._dragElement.classList.remove("u-coral-openHand"),"string"==typeof e||e instanceof HTMLElement||"[object NodeList]"===Object.prototype.toString.call(e))if(this._handles=t(e),this._handles&&this._handles.length){var i=this;this._handles.forEach((function(e){e._dragEvents=e._dragEvents||new window.Vent(e),e._dragEvents.on("mousedown.CoralDragAction",i._dragStart.bind(i)),e._dragEvents.on("touchstart.CoralDragAction",i._dragStart.bind(i)),e.classList.add("u-coral-openHand")}))}else this._dragEvents.on("touchstart.CoralDragAction",this._dragStart.bind(this)),this._dragEvents.on("mousedown.CoralDragAction",this._dragStart.bind(this)),this._dragElement.classList.add("u-coral-openHand");else this._handles=[],this._dragEvents.on("touchstart.CoralDragAction",this._dragStart.bind(this)),this._dragEvents.on("mousedown.CoralDragAction",this._dragStart.bind(this)),this._dragElement.classList.add("u-coral-openHand")}}),Object.defineProperty(Coral.DragAction.prototype,"dropZone",{get:function(){return this._dropZone},set:function(e){Coral.validate.valueMustChange(e,this._dropZone)&&(this._dropZone=e,this._dropZoneEntered=!1,"string"==typeof e||e instanceof HTMLElement||"[object NodeList]"===Object.prototype.toString.call(e)?this._dropZones=t(e):this._dropZones=[])}}),Object.defineProperty(Coral.DragAction.prototype,"axis",{get:function(){return this._axis},set:function(t){var i=Coral.transform.string(t);Coral.validate.valueMustChange(i,this._axis)&&(Coral.validate.enumeration(e)(i)?this._axis=i:this._axis=e.FREE)}}),Object.defineProperty(Coral.DragAction.prototype,"scroll",{get:function(){return this._scroll},set:function(e){var t=Coral.transform.boolean(e);Coral.validate.valueMustChange(t,this._scroll)&&(this._scroll=t)}}),Object.defineProperty(Coral.DragAction.prototype,"containment",{get:function(){return this._containment},set:function(e){var t=Coral.transform.boolean(e);Coral.validate.valueMustChange(t,this._containment)&&(this._containment=t)}}),Coral.DragAction.prototype._dragStart=function(e){this._container=function(e){for(;;){var t=e.parentNode;if(!t)return t;if(t.matches("body"))return t;var i=window.getComputedStyle(t),n=i.overflow,o=i.overflowX,a=i.overflowY;if(("hidden"===n||"auto"===n||"scroll"===n)&&n===o&&n===a)return t;e=t}}(this._dragElement),"IMG"===e.target.tagName&&e.preventDefault(),Coral.events.on("touchmove.CoralDragAction",(function(e){e.preventDefault()})),document.body._overflow=getComputedStyle(document.body).overflow,document.body.style.overflow="hidden",this._container.matches("body")||(this._container._overflow=getComputedStyle(this._container).overflow,this._container.style.overflow=this.scroll?"scroll":"hidden");var t=i(e),n=this._dragElement.getBoundingClientRect();this._dragPosition=i(e),this._dragPosition.y-=n.top+this._scrollingElement.scrollTop,this._dragPosition.x-=n.left+this._scrollingElement.scrollLeft,document.body.classList.add("u-coral-closedHand"),this._handles&&this._handles.length?this._handles.forEach((function(e){e.classList.remove("u-coral-openHand")})):this._dragElement.classList.remove("u-coral-openHand"),this._dragElement.classList.add("is-dragging"),"static"===window.getComputedStyle(this._dragElement).position&&(this._dragElement.style.position="relative"),this._dragEvents.dispatch("coral-dragaction:dragstart",{detail:{dragElement:this._dragElement,pageX:t.x,pageY:t.y}})},Coral.DragAction.prototype._drag=function(e){if(this._dragElement.classList.contains("is-dragging")){var t=i(e),o=this._scrollingElement.scrollTop,a=this._scrollingElement.scrollLeft,r=this._dragElement.getBoundingClientRect(),s=r.height,l=r.width,c={top:r.top+o,left:r.left+a},d=window.getComputedStyle(this._dragElement),u={top:parseFloat(d.top)||0,left:parseFloat(d.left)||0},h=this._container.getBoundingClientRect(),p=h.width,m=h.height,f={top:h.top+o,left:h.left+a};this._dragEvents.dispatch("coral-dragaction:drag",{detail:{dragElement:this._dragElement,pageX:t.x,pageY:t.y}}),document.selection?document.selection.empty():window.getSelection&&window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges(),this.scroll&&(this._container===document.body?(r.top<20?this._scrollingElement.scrollTop=o-10:r.top+r.height>window.innerHeight-20&&c.top+r.height+20<this._scrollingElement.scrollHeight&&(this._scrollingElement.scrollTop=o+10),r.left<20?this._scrollingElement.scrollLeft=a-10:r.left+r.width>window.innerWidth-20&&c.left+r.width+20<this._scrollingElement.scrollWidth&&(this._scrollingElement.scrollLeft=a+10)):(r.top-h.top<20?this._container.scrollTop=this._container.scrollTop-10:r.top-h.top+r.height>h.height-20&&r.top-h.top+r.height<h.height&&(this._container.scrollTop=this._container.scrollTop+10),r.left-h.left<20?this._container.scrollLeft=this._container.scrollLeft-10:r.left-h.left+r.width>h.width-20&&r.left-h.left+r.width<h.width&&(this._container.scrollLeft=this._container.scrollLeft+10)));var g={};if("horizontal"!==this.axis){var v=t.y-this._dragPosition.y;this.containment?v>=f.top&&v+s<=f.top+m?g.top=v:t.y<=f.top?g.top=f.top:t.y>=f.top+m&&(g.top=f.top+m-s):g.top=v}if("vertical"!==this.axis){var b=t.x-this._dragPosition.x;this.containment?b>=f.left&&b+l<=f.left+p?g.left=b:t.x<=f.left?g.left=f.left:t.x>=f.left+p&&(g.left=f.left+p-l):g.left=b}this._dragElement.style.top=g.top-c.top+u.top+"px",this._dragElement.style.left=g.left-c.left+u.left+"px";var _=n(this);_?(this._dropElement=_,this._dropZoneEntered||(this._dropZoneEntered=!0,this._dragEvents.dispatch("coral-dragaction:dragenter",{detail:{dragElement:this._dragElement,pageX:t.x,pageY:t.y,dropElement:this._dropElement}})),this._dragEvents.dispatch("coral-dragaction:dragover",{detail:{dragElement:this._dragElement,pageX:t.x,pageY:t.y,dropElement:this._dropElement}})):this._dropZoneEntered&&(this._dragEvents.dispatch("coral-dragaction:dragleave",{detail:{dragElement:this._dragElement,pageX:t.x,pageY:t.y,dropElement:this._dropElement}}),this._dropZoneEntered=!1)}},Coral.DragAction.prototype._dragEnd=function(e){if(this._dragElement.classList.contains("is-dragging")){var t=i(e);if(document.body.style.overflow=document.body._overflow,document.body._overflow=void 0,this._container.matches("body")||(this._container.style.overflow=this._container._overflow,this._container._overflow=void 0),document.body.classList.remove("u-coral-closedHand"),this._dragElement.classList.remove("is-dragging"),this._handles&&this._handles.length?this._handles.forEach((function(e){e.classList.add("u-coral-openHand")})):this._dragElement.classList.add("u-coral-openHand"),this._dropZoneEntered){var o=n(this);o&&(this._dropElement=o,this._dragEvents.dispatch("coral-dragaction:drop",{detail:{dragElement:this._dragElement,pageX:t.x,pageY:t.y,dropElement:this._dropElement}}))}this._dragEvents.dispatch("coral-dragaction:dragend",{detail:{dragElement:this._dragElement,pageX:t.x,pageY:t.y}})}},Coral.DragAction.prototype.destroy=function(e){document.body.classList.remove("u-coral-closedHand"),this._dragElement.classList.remove("is-dragging"),this._handles&&this._handles.length?this._handles.forEach((function(e){e._dragEvents.off(".CoralDragAction"),e.classList.remove("u-coral-openHand")})):(this._dragEvents.off(".CoralDragAction"),this._dragElement.classList.remove("u-coral-openHand")),Coral.events.off(".CoralDragAction"+this._id),document.body._overflow&&(document.body.style.overflow=document.body._overflow,document.body._overflow=void 0),this._container&&!this._container.matches("body")&&this._container._overflow&&(this._container.style.overflow=this._container._overflow,this._container._overflow=void 0),e&&(this._dragElement.style.position=this._initialPosition.position,this._dragElement.style.top=this._initialPosition.top,this._dragElement.style.left=this._initialPosition.left),this._dragElement.dragAction=void 0},Coral.DragAction.axis=e,document.addEventListener("DOMContentLoaded",(function(){Array.prototype.forEach.call(document.body.querySelectorAll("[coral-dragaction]"),(function(e){new Coral.DragAction(e)}))}))}(),window.Coral=window.Coral||{},window.Coral.strings=window.Coral.strings||{},window.Coral.strings["coralui-component-dialog"]={"en-US":{Close:"Close"},"de-DE":{Close:"Schließen"},"fr-FR":{Close:"Fermer"},"it-IT":{Close:"Chiudi"},"ja-JP":{Close:"閉じる"},"es-ES":{Close:"Cerrar"},"ko-KR":{Close:"닫기"},"zh-CN":{Close:"关闭"},"zh-TW":{Close:"關閉"},"pt-BR":{Close:"Fechar"},"nl-NL":{Close:"Sluiten"},"da-DK":{Close:"Luk"},"fi-FI":{Close:"Sulje"},"nb-NO":{Close:"Lukk"},"sv-SE":{Close:"Stäng"},"cs-CZ":{Close:"Zavřít"},"pl-PL":{Close:"Zamknij"},"ru-RU":{Close:"Закрыть"},"tr-TR":{Close:"Kapat"}},window.Coral=window.Coral||{},window.Coral.templates=window.Coral.templates||{},window.Coral.templates.Dialog=window.Coral.templates.Dialog||{},window.Coral.templates.Dialog.header=function(e){var t=document.createDocumentFragment(),i=this.icon=document.createElement("coral-icon");i.setAttribute("handle","icon"),i.className+=" coral3-Dialog-typeIcon",i.setAttribute("size","S"),i.setAttribute("alt",""),i.setAttribute("hidden",""),t.appendChild(i);var n=document.createTextNode("\n");t.appendChild(n);var o=this.headerContent=document.createElement("div");o.setAttribute("handle","headerContent"),o.className+=" coral3-Dialog-title coral-Heading coral-Heading--2",o.setAttribute("role","heading"),o.setAttribute("aria-level","2"),t.appendChild(o);var a=document.createTextNode("\n");t.appendChild(a);var r=this.closeButton=document.createElement("button","coral-button");return r.setAttribute("tracking","off"),r.setAttribute("handle","closeButton"),r.className+=" coral3-Dialog-closeButton",r.setAttribute("type","button"),r.setAttribute("is","coral-button"),r.setAttribute("variant","minimal"),r.setAttribute("icon","close"),r.setAttribute("iconsize","XS"),r.setAttribute("aria-label",Coral.i18n.get("Close")),r.setAttribute("title",Coral.i18n.get("Close")),r.setAttribute("tabindex","-1"),r.setAttribute("coral-close",""),t.appendChild(r),t},function(){"use strict";var e={ON:"on",OFF:"off"},t={ON:"on",OFF:"off"},i={DEFAULT:"default",ERROR:"error",WARNING:"warning",SUCCESS:"success",HELP:"help",INFO:"info"},n={NONE:"none",MODAL:"modal",STATIC:"static"},o={error:"alert",warning:"alert",success:"checkCircle",help:"helpCircle",info:"infoCircle"},a="coral3-Dialog",r=[];for(var s in i)r.push(a+"--"+i[s]);Coral.register({name:"Dialog",tagName:"coral-dialog",className:a,mixins:[Coral.mixin.overlay],events:{"coral-overlay:open":"_handleOpen","click [coral-close]":"_handleCloseClick",click:"_handleClick","global:resize":"center","global:key:escape":"_handleEscape"},properties:{interaction:{default:t.ON,validate:[Coral.validate.valueMustChange,Coral.validate.enumeration(t)]},trapFocus:{default:Coral.mixin.overlay.trapFocus.ON},returnFocus:{default:Coral.mixin.overlay.returnFocus.ON},header:Coral.property.contentZone({handle:"header",tagName:"coral-dialog-header",insert:function(e){this._elements.headerContent.appendChild(e)},set:function(e){this._observeHeader(),this._hideHeaderIfEmpty()}}),content:Coral.property.contentZone({handle:"content",tagName:"coral-dialog-content",defaultContentZone:!0,insert:function(e){this._elements.contentZoneTarget.insertBefore(e,this.footer)}}),footer:Coral.property.contentZone({handle:"footer",tagName:"coral-dialog-footer",insert:function(e){this._elements.contentZoneTarget.appendChild(e)}}),backdrop:{default:n.MODAL,validate:[Coral.validate.valueMustChange,Coral.validate.enumeration(n)],sync:function(){var e=this.backdrop!==n.NONE;this.open&&e&&this._showBackdrop(),this.classList.toggle("coral3-Dialog--backdropNone",!e)}},variant:{default:i.DEFAULT,validate:[Coral.validate.valueMustChange,Coral.validate.enumeration(i)],sync:function(){this.classList.remove.apply(this.classList,r),this.variant===Coral.Dialog.variant.DEFAULT?(this._elements.icon.icon="",this._elements.icon.hidden=!0,this.setAttribute("role","dialog")):(this._elements.icon.icon=o[this.variant],this._elements.icon.hidden=!1,this.classList.add(a+"--"+this.variant),this.setAttribute("role","alertdialog"));var e=this.header&&""!==this.header.textContent;!e||this.hasAttribute("aria-labelledby")||this.hasAttribute("aria-label")||(this.header.id=this.header.id||Coral.commons.getUID(),this.setAttribute("aria-labelledby",this.header.id)),this.content&&""!==this.content.textContent&&(this.content.id=this.content.id||Coral.commons.getUID(),this._variant!==i.DEFAULT?e?this.hasAttribute("aria-describedby")||this.setAttribute("aria-describedby",this.content.id):this.setAttribute("aria-labelledby",this.content.id):this.getAttribute("aria-labelledby")===this.content.id&&this.removeAttribute("aria-labelledby"))}},fullscreen:{default:!1,reflectAttribute:!0,transform:Coral.transform.boolean,attributeTransform:Coral.transform.booleanAttr,set:function(e){e&&(this.movable=!1),this._fullscreen=e},sync:function(){this.fullscreen?(this.classList.add("coral3-Dialog--fullscreen"),this._elements.wrapper.style.top="",this._elements.wrapper.style.left="",this._elements.wrapper.style.marginLeft="",this._elements.wrapper.style.marginTop="",this._elements.closeButton.iconSize="S"):(this.classList.remove("coral3-Dialog--fullscreen"),this._elements.closeButton.iconSize="XS",this._center())}},open:{sync:function(){var e=this,t=this._elements.closeButton;this.open?(this._open=!1,this.parentNode!==document.body&&document.body.insertBefore(this,document.body.lastElementChild),this._open=!0,this._center(),this.backdrop!==n.NONE&&this._showBackdrop(),Coral.commons.nextFrame((function(){var i=function(){t.tabIndex=0};e._overlayAnimationTime?Coral.commons.transitionEnd(e,i):i()}))):t.tabIndex=-1}},icon:Coral.property.proxy({path:"_elements.icon.icon"}),closable:{default:e.OFF,reflectAttribute:!0,validate:[Coral.validate.valueMustChange,Coral.validate.enumeration(e)],sync:function(){this.classList.toggle(this._className+"--closable",this.closable===e.ON),this._elements.closeButton.style.display=this.closable===e.ON?"":"none"}},movable:{default:!1,reflectAttribute:!0,transform:Coral.transform.boolean,attributeTransform:Coral.transform.booleanAttr,set:function(e){e&&(this.fullscreen=!1),this._movable=e},sync:function(){var e=this._elements.wrapper;this.movable?(e.style.width=e.getBoundingClientRect().width+"px",new Coral.DragAction(e).handle=this._elements.headerWrapper):(e.style.width="",e.dragAction&&e.dragAction.destroy(),this._center())}},trackingElement:{set:function(e){this._trackingElement=e},get:function(){return void 0===this._trackingElement?this.header&&this.header.textContent&&this.header.textContent.replace(/\s{2,}/g," ").trim()||"":this._trackingElement},attribute:"trackingelement",transform:Coral.transform.string}},_overlayAnimationTime:Coral.mixin.overlay.FADETIME,_initialize:function(){this._center=this._center.bind(this),this.style.display="none",this._headerObserver=new MutationObserver(this._hideHeaderIfEmpty.bind(this)),this._observeHeader()},_observeHeader:function(){this._headerObserver&&(this._headerObserver.disconnect(),this._elements.headerContent&&this._headerObserver.observe(this._elements.headerContent,{childList:!0,characterData:!0,subtree:!0}))},_hideHeaderIfEmpty:function(){var e=this._elements.header;if(e){var t=this._elements.headerContent,i=0===e.children.length&&""===e.textContent.replace(/\s*/g,"")&&!e.querySelector("[aria-label],[aria-labelledby],[title]");i!==t.hidden&&(t.hidden=i),this.variant=this.variant}},_handleOpen:function(e){this._trackEvent("display","dialog",e)},_handleEscape:function(e){this.interaction===Coral.Dialog.interaction.ON&&this.open&&this._isTopOverlay()&&this.hide()},_handleCloseClick:function(e){var t=e.matchedTarget.getAttribute("coral-close");t&&!this.matches(t)||(this.hide(),e.stopPropagation(),this._trackEvent("close","dialog",e))},_handleClick:function(e){e.target===this&&this.backdrop===n.MODAL&&this._isTopOverlay()&&(this.hide(),this._trackEvent("close","dialog",e))},attachedCallback:function(){Coral.Component.prototype.attachedCallback.apply(this,arguments),this.open&&this._center()},_render:function(){var e=this.querySelector("coral-dialog-header"),t=this.querySelector("coral-dialog-content"),i=this.querySelector("coral-dialog-footer"),n=t||i||e,o=this.querySelector(".coral3-Dialog-wrapper");if(o)Array.prototype.filter.call(this.children,(function(e){return e.hasAttribute("coral-tabcapture")})).forEach(function(e){this.removeChild(e)}.bind(this)),this._elements.headerWrapper=this.querySelector(".coral3-Dialog-header"),this._elements.headerContent=this.querySelector(".coral3-Dialog-title"),this._elements.closeButton=this.querySelector(".coral3-Dialog-closeButton"),this._elements.icon=this.querySelector(".coral3-Dialog-typeIcon"),this._elements.wrapper=o,this._elements.contentZoneTarget=n.parentNode;else{e=e||document.createElement("coral-dialog-header"),t=t||document.createElement("coral-dialog-content"),i=i||document.createElement("coral-dialog-footer"),(o=document.createElement("div")).className="coral3-Dialog-wrapper";var a=Coral.templates.Dialog.header.call(this._elements),r=this._elements.headerWrapper=document.createElement("div");if(r.className="coral3-Dialog-header",r.appendChild(a),this._elements.wrapper=o,n){for(n.parentNode===this?this._elements.contentZoneTarget=o:this._elements.contentZoneTarget=n.parentNode;this.firstChild;)o.appendChild(this.firstChild);this._elements.contentZoneTarget.appendChild(r)}else{for(this._elements.contentZoneTarget=o;this.firstChild;)t.appendChild(this.firstChild);o.appendChild(r),o.appendChild(t),o.appendChild(i)}this.appendChild(o)}this.header=e,this.content=t,this.footer=i},center:function(){if(!this.fullscreen)return this._centered&&Coral.commons.nextFrame(this._center),this._centered=!1,this},_center:function(){var e=this._elements.wrapper,t=this.style.display;this.style.display="block",e.style.position="absolute",e.style.left=0,e.style.top=0;var i=e.offsetWidth,n=e.offsetHeight;n<window.innerHeight-20?(e.style.top="50%",e.style.marginTop=-n/2+"px"):(e.style.top="",e.style.marginTop=""),this.fullscreen?(e.style.marginLeft="",e.style.left=""):(e.style.marginLeft=-i/2+"px",e.style.left="50%"),this.style.display=t,this._centered=!0}}),Coral.register({name:"Dialog.Header",tagName:"coral-dialog-header"}),Coral.register({name:"Dialog.Footer",tagName:"coral-dialog-footer",className:"coral3-Dialog-footer"}),Coral.register({name:"Dialog.Content",tagName:"coral-dialog-content",className:"coral3-Dialog-content"}),Coral.Dialog.interaction=t,Coral.Dialog.variant=i,Coral.Dialog.backdrop=n,Coral.Dialog.closable=e}(),function(){"use strict";var e={ON:"on",OFF:"off"},t={ON:"on",OFF:"off"};Coral.register({name:"Popover",tagName:"coral-popover",className:"coral3-Popover",extend:Coral.Overlay,events:{"global:capture:click":"_handleClick","click [coral-close]":"_handleCloseClick"},properties:{trapFocus:{default:Coral.mixin.overlay.trapFocus.ON},returnFocus:{default:Coral.mixin.overlay.returnFocus.ON},focusOnShow:{default:Coral.mixin.overlay.focusOnShow.ON},content:Coral.property.contentZone({handle:"content",tagName:"coral-popover-content",defaultContentZone:!0,insert:function(e){this._elements.contentWrapper.appendChild(e)}}),header:Coral.property.contentZone({handle:"header",tagName:"coral-popover-header",insert:function(e){this._elements.headerContent.appendChild(e)},set:function(e){this._observeHeader(),this._hideHeaderIfEmpty()}}),alignMy:{default:Coral.Overlay.align.LEFT_CENTER},alignAt:{default:Coral.Overlay.align.RIGHT_CENTER},offset:{default:5},open:{sync:function(){var e=this._getTarget();if(e){var t=e.hasAttribute("aria-haspopup");if(t||null!==e.querySelector("[aria-haspopup]")){var i=t?[e]:e.querySelectorAll("[aria-haspopup]"),n=this.open;i.forEach((function(e){e.setAttribute("aria-expanded",n)}))}this.open?(this._targetWasSelected=e.classList.contains("is-selected"),this._targetWasSelected||e.classList.add("is-selected")):this._targetWasSelected||e.classList.remove("is-selected")}}},target:{sync:function(){},alsoSync:["open"]},interaction:{default:t.ON},variant:{default:Coral.Dialog.prototype._properties.variant.default,validate:Coral.Dialog.prototype._properties.variant.validate,sync:function(){var e=this.getAttribute("role");Coral.Dialog.prototype._properties.variant.sync.call(this),e&&this.setAttribute("role",e)}},closable:{default:e.OFF,reflectAttribute:!0,validate:[Coral.validate.valueMustChange,Coral.validate.enumeration(e)],sync:function(){this._elements.closeButton.style.display=this.closable===e.ON?"":"none"}},icon:Coral.property.proxy({path:"_elements.icon.icon"})},_overlayAnimationTime:Coral.mixin.overlay.FADETIME,_observeHeader:function(){this._headerObserver&&(this._headerObserver.disconnect(),this._headerObserver.observe(this._elements.header,{childList:!0,characterData:!0,subtree:!0}))},_hideHeaderIfEmpty:function(){var e=this._elements.header,t=this._elements.headerWrapper,i=this._elements.headerContent,n=0===e.children.length&&""===e.textContent.replace(/\s*/g,"");n!==t.hidden&&(t.hidden=n,n?(i.removeAttribute("role"),i.removeAttribute("aria-level")):(i.setAttribute("role","heading"),i.setAttribute("aria-level","2")),this.reposition())},_handleCloseClick:function(e){var t=e.matchedTarget.getAttribute("coral-close");t&&!this.matches(t)||(this.hide(),e.stopPropagation(),this._trackEvent("close","popover",e))},_handleClick:function(e){if(this.interaction!==t.OFF){var i=e.target,n=this._getTarget();!!n&&n.contains(i)?this.open||n.disabled?(this.hide(),this._trackEvent("close","popover",e)):(this.show(),this._trackEvent("display","popover",e)):this.open&&!this.contains(i)&&(this.hide(),this._trackEvent("close","popover",e))}},attachedCallback:function(){Coral.Component.prototype.attachedCallback.call(this),this.open&&(this._pushOverlay(),this._showBackdropOnAttached&&this._showBackdrop(),this.reposition())},_render:function(){var e=document.createDocumentFragment(),t=this._elements.headerWrapper=document.createElement("div");t.className="coral3-Dialog-header coral3-Popover-header";var i=this._elements.contentWrapper=document.createElement("div");i.className="coral3-Popover-content";var n=Coral.templates.Dialog.header.call(this._elements);t.appendChild(n);var o=this.querySelector("coral-popover-header"),a=o||document.createElement("coral-popover-header"),r=this.querySelector("coral-popover-content")||document.createElement("coral-popover-content");for(this.header=a,this.content=r,o||(t.hidden=!0),e.appendChild(t),e.appendChild(i);this.firstChild;)r.appendChild(this.firstChild);this.appendChild(e)},_initialize:function(){this.hasAttribute("aria-live")||this.setAttribute("aria-live","assertive"),this._headerObserver=new MutationObserver(this._hideHeaderIfEmpty.bind(this)),this._observeHeader()}}),Coral.register({name:"Popover.Content",tagName:"coral-popover-content"}),Coral.register({name:"Popover.Header",tagName:"coral-popover-header"}),Coral.register({name:"Popover.Separator",tagName:"coral-popover-separator",className:"coral3-Popover-separator"}),Coral.Popover.closable=e,Coral.Popover.interaction=t,Coral.Popover.variant={DEFAULT:"default",ERROR:"error",WARNING:"warning",SUCCESS:"success",HELP:"help",INFO:"info"}}(),window.Coral=window.Coral||{},window.Coral.strings=window.Coral.strings||{},window.Coral.strings["coralui-component-actionbar"]={"en-US":{More:"More"},"de-DE":{More:"Mehr"},"fr-FR":{More:"Plus"},"it-IT":{More:"Altro"},"ja-JP":{More:"その他"},"es-ES":{More:"Más"},"ko-KR":{More:"자세히"},"zh-CN":{More:"更多"},"zh-TW":{More:"更多"},"pt-BR":{More:"Mais"},"nl-NL":{More:"Meer"},"da-DK":{More:"Mere"},"fi-FI":{More:"Lisää"},"nb-NO":{More:"Mer"},"sv-SE":{More:"Mer"},"cs-CZ":{More:"Více"},"pl-PL":{More:"Więcej"},"ru-RU":{More:"Дополнительно"},"tr-TR":{More:"Daha Fazla"}},window.Coral=window.Coral||{},window.Coral.templates=window.Coral.templates||{},window.Coral.templates.ActionBar=window.Coral.templates.ActionBar||{},window.Coral.templates.ActionBar.moreButton=function(e){var t=this.moreButton=document.createElement("button","coral-button");return t.setAttribute("is","coral-button"),t.setAttribute("handle","moreButton"),t.setAttribute("type","button"),t.setAttribute("variant","quiet"),t.setAttribute("icon","more"),t.setAttribute("coral-actionbar-more",""),t.setAttribute("aria-expanded","false"),t.setAttribute("aria-haspopup","true"),t},window.Coral.templates.ActionBar.morePopover=function(e){var t=this.popover=document.createElement("coral-popover");return t.setAttribute("handle","popover"),t.setAttribute("alignmy","left top"),t.setAttribute("alignat","left bottom"),t.setAttribute("coral-actionbar-popover",""),t},window.Coral.templates.ActionBar.popovercontent=function(e){var t=document.createElement("ul");t.className+=" coral-List coral-List--minimal",t.setAttribute("role","menu");var i=document.createTextNode("\n  ");t.appendChild(i);for(var n=e,o=0,a=n.length;o<a;o++){var r=n[o],s=document.createTextNode("\n    ");t.appendChild(s);var l=document.createElement("li");l.className+=" coral-List-item";var c=document.createTextNode("\n      ");l.appendChild(c),l.appendChild(r),t.appendChild(l);var d=document.createTextNode("\n  ");t.appendChild(d)}var u=document.createTextNode("\n");return t.appendChild(u),t},function(){"use strict";Coral.register({name:"ActionBar",tagName:"coral-actionbar",className:"coral3-ActionBar",events:{"key:up":"_onFocusPreviousItem","key:left":"_onFocusPreviousItem","key:down":"_onFocusNextItem","key:right":"_onFocusNextItem","global:resize":"_onResizeWindow"},properties:{primary:Coral.property.contentZone({handle:"primary",tagName:"coral-actionbar-primary",defaultContentZone:!0,insert:function(e){this.insertBefore(e,this.secondary)}}),secondary:Coral.property.contentZone({handle:"secondary",tagName:"coral-actionbar-secondary",insert:function(e){this.appendChild(e)}})},_render:function(){for(var e=this.querySelectorAll("object"),t=0;t<e.length;++t){var i=e[t];i.parentNode===this&&this.removeChild(i)}var n=this.querySelector("coral-actionbar-primary"),o=this.querySelector("coral-actionbar-secondary"),a=null!==n;n=n||document.createElement("coral-actionbar-primary"),o=o||document.createElement("coral-actionbar-secondary"),n.getAttribute("role")||n.setAttribute("role","toolbar"),o.getAttribute("role")||o.setAttribute("role","toolbar");for(var r,s,l=Array.prototype.slice.call(this.getElementsByTagName("coral-actionbar-container")),c=0,d=l.length;c<d;c++){if(r=l[c],0===c?(s=n,a=!0):1===c&&(s=o),s)for(r.hasAttribute("threshold")&&s.setAttribute("threshold",r.getAttribute("threshold")),r.hasAttribute("morebuttontext")&&s.setAttribute("morebuttontext",r.getAttribute("morebuttontext"));r.firstChild;)s.appendChild(r.firstChild);this.removeChild(r)}if(!a)for(;this.firstChild;)n.appendChild(this.firstChild);this.primary=n,this.secondary=o},_recalculateLayoutOnMutation:function(){var e=this;e._observer=new MutationObserver((function(){e._debounceOnLayout()})),e._observer.observe(e,{attributes:!0,childList:!0,characterData:!0,subtree:!0})},_initialize:function(){this._wait=50,this._onLayout=this._onLayout.bind(this),this._debounceOnLayout=this._debounceOnLayout.bind(this);var e=this;Coral.commons.nextFrame((function(){e._onLayout(),e._recalculateLayoutOnMutation()}))},attachedCallback:function(){Coral.Component.prototype.attachedCallback.apply(this,arguments);var e=this;Coral.commons.nextFrame((function(){Coral.commons.addResizeListener(e,e._debounceOnLayout),Coral.commons.addResizeListener(e.primary,e._debounceOnLayout),Coral.commons.addResizeListener(e.secondary,e._debounceOnLayout)}))},detachedCallback:function(){Coral.Component.prototype.detachedCallback.apply(this,arguments),Coral.commons.removeResizeListener(this,this._debounceOnLayout),Coral.commons.removeResizeListener(this.primary,this._debounceOnLayout),Coral.commons.removeResizeListener(this.secondary,this._debounceOnLayout)},_onFocusPreviousItem:function(e){e.preventDefault();var t=this._getPreviousSelectableWrappedItem(e.target);null!==t&&t.focus()},_onFocusNextItem:function(e){e.preventDefault();var t=this._getNextSelectableWrappedItem(e.target);null!==t&&t.focus()},_onResizeWindow:function(){for(var e=this.querySelectorAll("coral-popover"),t=0;t<e.length;t++)e[t].open=!1;this._debounceOnLayout()},_onLayout:function(){if(this.primary&&this.primary._elements.popover&&this.secondary&&this.secondary._elements.popover&&!0!==this.primary._elements.popover.open&&!0!==this.secondary._elements.popover.open){var e=document.activeElement;this!==e&&this.contains(e)||(e=null),e&&e.parentNode&&"coral-actionbar-item"===e.parentNode.tagName.toLowerCase()&&(e=e.parentNode);for(var t=this.primary.items.getAll(),i=this.secondary.items.getAll().reverse(),n=null,o=null,a=this._newWidthCache(),r=t.length>0?a.getOuterWidth(this.primary._elements.moreButton):0,s=i.length>0?a.getOuterWidth(this.secondary._elements.moreButton):0,l=this.primary.offsetWidth-this.primary.getBoundingClientRect().width,c=this.secondary.offsetWidth-this.secondary.getBoundingClientRect().width,d=this.primary.offsetLeft,u=this.offsetWidth-(this.secondary.offsetLeft+this.secondary.offsetWidth),h=this.offsetWidth-d-u-r-s-l-c-25,p=0,m=0,f=0,g=!1,v=!1,b=!1,_=0,C=this.primary.items._getAllSelectable(),y=this.secondary.items._getAllSelectable(),w=0;w<t.length||w<i.length;w++)n=w<t.length?t[w]:null,o=w<i.length?i[w]:null,b=!1,null!==n&&(n.hidden||"none"===n.style.display?this._moveToScreen(n):(g||(this.primary.threshold<=0||m<this.primary.threshold)&&(p+(_=a.getOuterWidth(n))<h||m===t.length-1&&p+_<h+r)&&(b=!0),this._makeItemTabEnabled(n,b&&C.length&&n===C[0]),b?(m+=1,p+=_,this._moveToScreen(n)):(this._hideItem(n),g=!0),m===t.length&&(h+=r,g=!1))),b=!1,null!==o&&(o.hidden||"none"===o.style.display?this._moveToScreen(o):(v||(this.secondary.threshold<=0||f<this.secondary.threshold)&&(p+(_=a.getOuterWidth(o))<h||f===i.length-1&&p+_<h+s)&&(b=!0),this._makeItemTabEnabled(o,b&&y.length&&o===y[0]),b?(f+=1,p+=_,this._moveToScreen(o)):(this._hideItem(o),v=!0),f===i.length&&(h+=s,v=!1)));if(this._moveToScreen(this.primary._elements.moreButton,g),this._moveToScreen(this.secondary._elements.moreButton,v),this._makeItemTabEnabled(this.primary._elements.moreButton,m<1),this._makeItemTabEnabled(this.secondary._elements.moreButton,f<i.length),e&&e.hasAttribute&&e.hasAttribute("coral-actionbar-offscreen")){var A=Coral.ActionBar._getFirstSelectableWrappedItem(this._getAllSelectableItems()[0]);A&&A.focus()}}},_getNextSelectableWrappedItem:function(e){"coral-actionbar-item"===e.parentNode.tagName.toLowerCase()?e=e.parentNode:"coral-actionbar-item"===e.parentNode.parentNode.tagName.toLowerCase()&&(e=e.parentNode.parentNode);var t=this._getAllSelectableItems(e),i=t.indexOf(e);return i>=0&&t.length>i+1?Coral.ActionBar._getFirstSelectableWrappedItem(t[i+1]):null},_getPreviousSelectableWrappedItem:function(e){"coral-actionbar-item"===e.parentNode.tagName.toLowerCase()?e=e.parentNode:"coral-actionbar-item"===e.parentNode.parentNode.tagName.toLowerCase()&&(e=e.parentNode.parentNode);var t=this._getAllSelectableItems(e),i=t.indexOf(e);return i>0?Coral.ActionBar._getFirstSelectableWrappedItem(t[i-1]):null},_getAllSelectableItems:function(e){var t=[];if(!0===this.primary._elements.popover.open||!0===this.secondary._elements.popover.open)for(var i=!0===this.primary._elements.popover.open?this.primary._itemsInPopover:this.secondary._itemsInPopover,n=null,o=0;o<i.length;o++)(n=i[o]).hasAttribute("disabled")||n.hasAttribute("hidden")||"none"===n.style.display||!Coral.ActionBar._getFirstSelectableWrappedItem(n)||t.push(n);else{var a=this.primary.items._getAllSelectable(),r=this.secondary.items._getAllSelectable();e?a.indexOf(e)>=0?t=a:r.indexOf(e)>=0&&(t=r):t=a.concat(r)}return t},_newWidthCache:function(){return{_items:[],_outerWidth:[],getOuterWidth:function(e){var t=this._items.indexOf(e);if(t<0){this._items.push(e);var i=e.offsetWidth;this._outerWidth.push(i),t=this._outerWidth.length-1}return this._outerWidth[t]}}},_forceWebkitRedraw:function(e){"WebkitAppearance"in document.documentElement.style&&"none"!==e.style.display&&(e.style.display="none",this._cachedOffsetHeight=e.offsetHeight,e.style.display="")},_hideItem:function(e,t){!1===t?this._moveToScreen(e):e.hasAttribute("coral-actionbar-offscreen")||(e.setAttribute("coral-actionbar-offscreen",""),e.style.visibility="hidden",this._forceWebkitRedraw(e))},_moveToScreen:function(e,t){if(!1===t)this._hideItem(e);else if(e.hasAttribute("coral-actionbar-offscreen")){e.removeAttribute("coral-actionbar-offscreen");var i=Coral.ActionBar._getFirstSelectableWrappedItem(e);i&&"menuitem"===i.getAttribute("role")&&i.removeAttribute("role"),e.style.visibility="",this._forceWebkitRedraw(e)}},_makeItemTabEnabled:function(e,t){null!==(e=Coral.ActionBar._getFirstSelectableWrappedItem(e))&&(t&&e.hasAttribute("tabindex")?e.removeAttribute("tabindex"):t||"-1"===e.getAttribute("tabindex")||e.setAttribute("tabindex","-1"))},_debounceOnLayout:function(){var e=this;null!==e._timeout&&window.clearTimeout(e._timeout),e._timeout=window.setTimeout((function(){e._timeout=null,e._onLayout()}),e._wait)}}),Coral.ActionBar._getFirstSelectableWrappedItem=function(e){if(!e)return null;if(e.hasAttribute("coral-actionbar-more"))return e;for(var t=null,i=0;i<e.children.length;i++)if((t=e.children[i]).offsetParent&&(t.matches(Coral.commons.FOCUSABLE_ELEMENT_SELECTOR)||t.matches("a:not([href])")))return t;for(i=0;i<e.children.length;i++){t=e.children[i];for(var n=0;n<t.children.length;n++){var o=t.children[n];if(o.offsetParent&&(o.matches(Coral.commons.FOCUSABLE_ELEMENT_SELECTOR)||t.matches("a:not([href])")))return o}}return null}}(),function(){"use strict";Coral.register({name:"ActionBar.Container",tagName:"coral-actionbar-container",className:"coral3-ActionBar-container",_itemsInPopover:[],events:{'coral-overlay:beforeopen [handle="popover"]':"_beforePopoverOpen",'coral-overlay:beforeclose [handle="popover"]':"_beforePopoverClose"},properties:{_position:{attribute:null,get:function(){if(this.parentNode){var e=this.parentNode.querySelectorAll("coral-actionbar-container");if(e.length>0&&e[0]===this)return Coral.ActionBar.Container.position.PRIMARY;if(e.length>1&&e[1]===this)return Coral.ActionBar.Container.position.SECONDARY}return Coral.ActionBar.Container.position.INVALID},set:function(){}},items:{get:function(){return this._items||(this._items=new Coral.ActionBar.Container.Collection(this)),this._items},set:function(){}},threshold:{default:-1,reflectAttribute:!0,transform:Coral.transform.number},moreButtonText:{default:"",attribute:"morebuttontext",transform:Coral.transform.string,sync:function(){this._elements.moreButton&&(this._elements.moreButton.label.innerHTML=this.moreButtonText,""===this.moreButtonText.trim()?this._elements.moreButton.setAttribute("title",Coral.i18n.get("More")):this._elements.moreButton.removeAttribute("title"))}}},_beforePopoverOpen:function(e){if(e.target===this._elements.popover&&(this._itemsInPopover=this.items._getAllOffScreen(),!(this._itemsInPopover.length<1))){this._elements.popover.hidden=!1;var t=this._elements.popover.content;t.innerHTML="",t.appendChild(Coral.templates.ActionBar.popovercontent(this._itemsInPopover));var i,n=this,o=function(){n._itemsInPopover.forEach((function(e){var t=Coral.ActionBar._getFirstSelectableWrappedItem(e);t&&t.setAttribute("role","menuitem")}))},a=!0,r=function(){if(i=Coral.ActionBar._getFirstSelectableWrappedItem(n._itemsInPopover[0]))return i.removeAttribute("tabindex"),void i.focus();a&&(a=!1,Coral.commons.nextFrame(r),Coral.commons.nextFrame(o))};Coral.commons.nextFrame(r),Coral.commons.nextFrame(o)}},_beforePopoverClose:function(e){if(e.target===this._elements.popover){var t=document.activeElement.parentNode;this._elements.popover.hidden=!0;for(var i=this._elements.popover.querySelectorAll("coral-popover"),n=0;n<i.length;n++)i[n].open=!1;this._position===Coral.ActionBar.Container.position.PRIMARY?this._returnLeftElementsFromPopover():this._position===Coral.ActionBar.Container.position.SECONDARY&&this._returnRightElementsFromPopover(),this._itemsInPopover=[];var o=this.parentNode!==t&&this.parentNode.contains(t),a=t.hasAttribute&&t.hasAttribute("coral-actionbar-offscreen");o&&a&&this._elements.moreButton.focus()}},_render:function(){for(var e=this.querySelectorAll("object"),t=0;t<e.length;++t){var i=e[t];i.parentNode===this&&this.removeChild(i)}this._elements.moreButton=this.querySelector("[coral-actionbar-more]"),this._elements.moreButton&&this.removeChild(this._elements.moreButton),this._elements.popover=this.querySelector("[coral-actionbar-popover]"),this._elements.popover&&this.removeChild(this._elements.popover),Coral.templates.ActionBar.moreButton.call(this._elements),this._elements.moreButton.label.textContent=this.moreButtonText,this.appendChild(this._elements.moreButton),Coral.templates.ActionBar.morePopover.call(this._elements),this._elements.popover.target=this._elements.moreButton,this.insertBefore(this._elements.popover,this.firstChild||null),console.warn("@deprecated: coral-actionbar-container is deprecated, use coral-actionbar-primary and coral-actionbar-secondary instead")},_returnLeftElementsFromPopover:function(){for(var e=null,t=null,i=0;i<this._itemsInPopover.length;i++)e=this._itemsInPopover[i],(t=Coral.ActionBar._getFirstSelectableWrappedItem(e))&&t.hasAttribute("tabindex")&&t.setAttribute("tabindex",-1),this.insertBefore(e,this._elements.moreButton||null)},_returnRightElementsFromPopover:function(){for(var e=null,t=null,i=this._itemsInPopover.length-1;i>=0;i--)e=this._itemsInPopover[i],(t=Coral.ActionBar._getFirstSelectableWrappedItem(e))&&t.hasAttribute("tabindex")&&t.setAttribute("tabindex",-1),this.insertBefore(e,this.firstChild.nextSibling||null)},_attachMoreButtonToContainer:function(){this.parentNode&&this.parentNode.secondary===this?this.insertBefore(this._elements.moreButton,this.firstChild||null):this.appendChild(this._elements.moreButton)},attachedCallback:function(){if(Coral.Component.prototype.attachedCallback.apply(this,arguments),this.parentNode._componentReady)this._attachMoreButtonToContainer();else{var e=this;Coral.commons.ready(this,(function(){e._attachMoreButtonToContainer()}))}}}),Coral.ActionBar.Container.position={PRIMARY:"primary",SECONDARY:"secondary",INVALID:"invalid"}}(),function(){"use strict";var e={items:{get:function(){return this._items||(this._items=new Coral.ActionBar.Container.Collection(this)),this._items},set:function(){}},threshold:{default:-1,reflectAttribute:!0,transform:Coral.transform.number},moreButtonText:{default:"",attribute:"morebuttontext",transform:Coral.transform.string,sync:function(){this._elements.moreButton&&(this._elements.moreButton.label.innerHTML=this.moreButtonText,""===this.moreButtonText.trim()?this._elements.moreButton.setAttribute("title",Coral.i18n.get("More")):this._elements.moreButton.removeAttribute("title"))}}},t={'coral-overlay:beforeopen [handle="popover"]':"_onOverlayBeforeOpen",'coral-overlay:beforeclose [handle="popover"]':"_onOverlayBeforeClose"},i={_onOverlayBeforeOpen:function(e){if(e.target===this._elements.popover&&(this._itemsInPopover=this.items._getAllOffScreen(),!(this._itemsInPopover.length<1))){this._itemsInPopover.forEach((function(e){e.style.visibility=""})),this._elements.popover.hidden=!1;var t=this._elements.popover.content;t.innerHTML="",t.appendChild(Coral.templates.ActionBar.popovercontent(this._itemsInPopover));var i,n=this,o=function(){n._itemsInPopover.forEach((function(e){var t=Coral.ActionBar._getFirstSelectableWrappedItem(e);t&&t.setAttribute("role","menuitem")}))},a=!0,r=function(){if(i=Coral.ActionBar._getFirstSelectableWrappedItem(n._itemsInPopover[0]))return i.removeAttribute("tabindex"),void i.focus();a&&(a=!1,Coral.commons.nextFrame(r),Coral.commons.nextFrame(o))};Coral.commons.nextFrame(r),Coral.commons.nextFrame(o)}},_onOverlayBeforeClose:function(e){if(e.target===this._elements.popover){var t=document.activeElement.parentNode,i=this.parentNode.contains(t),n=t.hasAttribute&&t.hasAttribute("coral-actionbar-offscreen");i&&n&&this._elements.moreButton.focus(),this._elements.popover.hidden=!0;for(var o=this._elements.popover.querySelectorAll("coral-popover"),a=0;a<o.length;a++)o[a].open=!1;this._returnElementsFromPopover(),this._itemsInPopover=[]}},_render:function(){for(var e=this.querySelectorAll("object"),t=0;t<e.length;++t){var i=e[t];i.parentNode===this&&this.removeChild(i)}this._elements.moreButton=this.querySelector("[coral-actionbar-more]"),this._elements.moreButton&&this.removeChild(this._elements.moreButton),this._elements.popover=this.querySelector("[coral-actionbar-popover]"),this._elements.popover&&this.removeChild(this._elements.popover),Coral.templates.ActionBar.moreButton.call(this._elements),this._elements.moreButton.label.textContent=this.moreButtonText,this.appendChild(this._elements.moreButton),Coral.templates.ActionBar.morePopover.call(this._elements),this._elements.popover.target=this._elements.moreButton,this.insertBefore(this._elements.popover,this.firstChild||null)}};Coral.mixin.actionBarContainer=function(n,o){Coral.commons.augment(n,i,(function(e,t,i){return Coral.commons.callAll(t,e)})),n._events=Coral.commons.augment({},n._events,t),Coral.register.augmentProperties(o.properties,e)}}(),function(){"use strict";Coral.register({name:"ActionBar.Primary",tagName:"coral-actionbar-primary",className:"coral3-ActionBar-primary",mixins:[Coral.mixin.actionBarContainer],_itemsInPopover:[],_returnElementsFromPopover:function(){for(var e=null,t=null,i=0;i<this._itemsInPopover.length;i++)(e=this._itemsInPopover[i]).style.visibility="hidden",(t=Coral.ActionBar._getFirstSelectableWrappedItem(e))&&t.hasAttribute("tabindex")&&t.setAttribute("tabindex",-1),this.insertBefore(e,this._elements.moreButton||null)},_attachMoreButtonToContainer:function(){this.appendChild(this._elements.moreButton)},attachedCallback:function(){var e=this;Coral.Component.prototype.attachedCallback.apply(this,arguments),Coral.commons.ready(this,(function(){e._attachMoreButtonToContainer()}))}})}(),function(){"use strict";Coral.register({name:"ActionBar.Secondary",tagName:"coral-actionbar-secondary",className:"coral3-ActionBar-secondary",mixins:[Coral.mixin.actionBarContainer],_itemsInPopover:[],_returnElementsFromPopover:function(){for(var e=null,t=null,i=this._itemsInPopover.length-1;i>=0;i--)(e=this._itemsInPopover[i]).style.visibility="hidden",(t=Coral.ActionBar._getFirstSelectableWrappedItem(e))&&t.hasAttribute("tabindex")&&t.setAttribute("tabindex",-1),this.insertBefore(e,this.firstChild.nextSibling||null)},_attachMoreButtonToContainer:function(){this.insertBefore(this._elements.moreButton,this.firstChild||null)},attachedCallback:function(){Coral.Component.prototype.attachedCallback.apply(this,arguments),this._attachMoreButtonToContainer()}})}(),function(){"use strict";var e=function(e){this._host=e};(e.prototype=Object.create(Coral.Collection.prototype)).add=function(e,t){if(t||"CORAL-ACTIONBAR-PRIMARY"!==this._host.tagName||(t=this._host.lastChild),!(e instanceof HTMLElement)){var i=e;(e=document.createElement("coral-actionbar-item")).set(i,!0)}return this._host.insertBefore(e,t||null),e},e.prototype.clear=function(){for(var e=this.getAll(),t=[],i=e.length-1;i>-1;i--)t.push(this.remove(e[i]));return this._host._itemsInPopover=[],t},e.prototype.getAll=function(){return Array.prototype.filter.call(this._host.children,(function(e){return"CORAL-ACTIONBAR-ITEM"===e.tagName})).concat(this._host._itemsInPopover)},e.prototype._getAllSelectable=function(){for(var e=[],t=null,i=0;i<this._host.children.length;i++)(t=this._host.children[i]).hasAttribute("disabled")||t.hasAttribute("hidden")||t.hasAttribute("coral-actionbar-offscreen")||t===this._host._elements.popover||!Coral.ActionBar._getFirstSelectableWrappedItem(t)||e.push(t);return e},e.prototype._getAllOffScreen=function(){return Array.prototype.filter.call(this._host.children,(function(e){return"CORAL-ACTIONBAR-ITEM"===e.tagName&&e.hasAttribute("CORAL-ACTIONBAR-OFFSCREEN")}))},Coral.ActionBar.Container.Collection=e}(),function(){"use strict";Coral.register({name:"ActionBar.Item",tagName:"coral-actionbar-item",className:"coral3-ActionBar-item",properties:{content:{contentZone:!0,get:function(){return this},set:function(){}}}})}(),window.Coral=window.Coral||{},window.Coral.templates=window.Coral.templates||{},window.Coral.templates.Alert=window.Coral.templates.Alert||{},window.Coral.templates.Alert.icon=function(e){var t=this.icon=document.createElement("coral-icon");return t.className+=" coral3-Alert-typeIcon",t.setAttribute("size","XS"),t.setAttribute("handle","icon"),t},function(){"use strict";var e={success:"checkCircle",info:"infoCircle",error:"alert",warning:"alert",help:"helpCircle"},t={ERROR:"error",WARNING:"warning",SUCCESS:"success",HELP:"help",INFO:"info"},i={SMALL:"S",LARGE:"L"},n="coral3-Alert",o={S:"small",L:"large"},a=[];for(var r in t)a.push(n+"--"+t[r]);var s=[];for(var l in i)s.push(n+"--"+o[i[l]]);Coral.register({name:"Alert",tagName:"coral-alert",className:n,events:{"click [coral-close]":"_onCloseClick"},properties:{variant:{default:t.INFO,reflectAttribute:!0,validate:[Coral.validate.valueMustChange,Coral.validate.enumeration(t)],set:function(t){this._variant=t,this._elements.icon.icon=e[this.variant]},sync:function(){this.classList.remove.apply(this.classList,a),this.classList.add(n+"--"+this.variant),this.setAttribute("role",this.variant===t.ERROR||this.variant===t.WARNING?"alert":"status")}},size:{default:i.SMALL,reflectAttribute:!0,transform:function(e){return"string"==typeof e?e.toUpperCase():e},validate:[Coral.validate.valueMustChange,Coral.validate.enumeration(i)],sync:function(){this.classList.remove.apply(this.classList,s),this.classList.add(n+"--"+o[this.size])}},header:Coral.property.contentZone({handle:"header",tagName:"coral-alert-header",insert:function(e){this.insertBefore(e,this._elements.icon.nextElementSibling)}}),content:Coral.property.contentZone({handle:"content",tagName:"coral-alert-content",defaultContentZone:!0,insert:function(e){this.insertBefore(e,this.header.nextElementSibling)}}),footer:Coral.property.contentZone({handle:"footer",tagName:"coral-alert-footer",insert:function(e){this.insertBefore(e,this.content.nextElementSibling)}})},_templateHandleNames:["icon"],_render:function(){var e=this.querySelector("coral-alert-header")||document.createElement("coral-alert-header"),t=this.querySelector("coral-alert-content"),i=this.querySelector("coral-alert-footer")||document.createElement("coral-alert-footer");if(null===t)for(t=document.createElement("coral-alert-content");this.firstChild;){var n=this.firstChild;n.nodeType===Node.TEXT_NODE||-1===this._templateHandleNames.indexOf(n.getAttribute("handle"))?t.appendChild(n):this.removeChild(n)}var o=this.querySelector("coral-icon");null===o?this.appendChild(Coral.templates.Alert.icon.call(this._elements)):this._elements.icon=o,this.header=e,this.content=t,this.footer=i},_onCloseClick:function(e){var t=e.matchedTarget.getAttribute("coral-close");t&&!this.matches(t)||(this.hide(),e.stopPropagation()),this._trackEvent("close","alert",e)}}),Coral.register({name:"Alert.Header",tagName:"coral-alert-header",className:n+"-header"}),Coral.register({name:"Alert.Content",tagName:"coral-alert-content",className:n+"-content"}),Coral.register({name:"Alert.Footer",tagName:"coral-alert-footer",className:n+"-footer"}),Coral.Alert.size=i,Coral.Alert.variant=t}(),window.Coral=window.Coral||{},window.Coral.templates=window.Coral.templates||{},window.Coral.templates.List=window.Coral.templates.List||{},window.Coral.templates.List.item=function(e){var t=document.createDocumentFragment(),i=this.icon=document.createElement("coral-icon");i.setAttribute("size","S"),i.className+=" coral3-BasicList-item-icon",i.setAttribute("handle","icon"),t.appendChild(i);var n=document.createTextNode("\n");t.appendChild(n);var o=this.outerContainer=document.createElement("div");o.className+=" coral3-BasicList-item-outerContainer",o.setAttribute("handle","outerContainer");var a=document.createTextNode("\n  ");o.appendChild(a);var r=this.contentContainer=document.createElement("div");r.className+=" coral3-BasicList-item-contentContainer",r.setAttribute("handle","contentContainer"),o.appendChild(r);var s=document.createTextNode("\n");return o.appendChild(s),t.appendChild(o),t},function(){"use strict";var e={ON:"on",OFF:"off"};Coral.register({name:"List",tagName:"coral-list",className:"coral3-BasicList",itemTagName:"coral-list-item",events:{"capture:mouseenter [coral-list-item]":"_onItemMouseEnter","key:down [coral-list-item]":"_focusNextItem","key:right [coral-list-item]":"_focusNextItem","key:left [coral-list-item]":"_focusPreviousItem","key:up [coral-list-item]":"_focusPreviousItem","key:pageup [coral-list-item]":"_focusPreviousItem","key:pagedown [coral-list-item]":"_focusNextItem","key:home [coral-list-item]":"_focusFirstItem","key:end [coral-list-item]":"_focusLastItem"},properties:{items:{get:function(){return this._items||(this._items=new Coral.Collection({itemTagName:this.itemTagName,itemBaseTagName:this.itemBaseTagName,itemSelector:"[coral-list-item]",host:this})),this._items},set:function(){}},interaction:{default:e.ON,attribute:"interaction",validate:[Coral.validate.valueMustChange,Coral.validate.enumeration(e)]}},focus:function(){if(!this.contains(document.activeElement)){var e=this._getSelectableItems();e.length>0&&e[0].focus()}},_onItemMouseEnter:function(e){e.matchedTarget.hasAttribute("disabled")||this.interaction!==Coral.List.interaction.ON||e.matchedTarget.focus()},_eventIsAtTarget:function(e){var t=e.target===e.matchedTarget;return t&&(e.preventDefault(),e.stopPropagation()),t},_focusFirstItem:function(){this.interaction!==Coral.List.interaction.OFF&&this._eventIsAtTarget(event)&&this._getSelectableItems()[0].focus()},_focusLastItem:function(){if(this.interaction!==Coral.List.interaction.OFF&&this._eventIsAtTarget(event)){var e=this._getSelectableItems();e[e.length-1].focus()}},_focusNextItem:function(e){if(this.interaction!==Coral.List.interaction.OFF&&this._eventIsAtTarget(e)){var t=e.matchedTarget,i=this._getSelectableItems(),n=i.indexOf(t);-1!==n&&(n<i.length-1?i[n+1].focus():i[0].focus())}},_focusPreviousItem:function(e){if(this.interaction!==Coral.List.interaction.OFF&&this._eventIsAtTarget(e)){var t=e.matchedTarget,i=this._getSelectableItems(),n=i.indexOf(t);-1!==n&&(n>0?i[n-1].focus():i[i.length-1].focus())}},_getSelectableItems:function(){return this.items.getAll().filter((function(e){return!e.hasAttribute("hidden")&&!e.hasAttribute("disabled")&&null!==e.offsetParent&&(e.offsetWidth>0||e.offsetHeight>0)}))}}),Coral.register({name:"List.Item",tagName:"coral-list-item",className:"coral3-BasicList-item",properties:{content:Coral.property.contentZone({handle:"content",tagName:"coral-list-item-content",defaultContentZone:!0,insert:function(e){this._elements.contentContainer.appendChild(e)}}),disabled:{default:!1,reflectAttribute:!0,transform:Coral.transform.boolean,attributeTransform:Coral.transform.booleanAttr,sync:function(){this.disabled?this.setAttribute("aria-disabled","true"):this.removeAttribute("aria-disabled")}},icon:{default:"",validate:[],get:function(){return this._elements.icon.icon},set:function(e){this._elements.icon.icon=e,this._elements.icon.hidden=""===this._elements.icon.icon}}},_render:function(){var e=document.createDocumentFragment();e.appendChild(Coral.templates.List.item.call(this._elements));var t=this.querySelector("coral-list-item-content")||document.createElement("coral-list-item-content");for(Array.prototype.filter.call(this.children,(function(e){return e.hasAttribute("handle")})).forEach(function(e){this.removeChild(e)}.bind(this));this.firstChild;)t.appendChild(this.firstChild);this.content=t,this.appendChild(e)},_initialize:function(){this.setAttribute("coral-list-item","")}}),Coral.register({name:"List.Item.Content",tagName:"coral-list-item-content",className:"coral3-BasicList-item-content"}),Coral.List.interaction=e}(),function(){"use strict";Coral.register({name:"AnchorList",tagName:"coral-anchorlist",className:"coral3-BasicList coral3-AnchorList",extend:Coral.List,itemTagName:"coral-anchorlist-item",itemBaseTagName:"a",events:{"click [coral-list-item]":"_onItemClick"},_onItemClick:function(e){this._trackEvent("click","anchorlist-item",e,e.matchedTarget)}}),Coral.register({name:"AnchorList.Item",tagName:"coral-anchorlist-item",baseTagName:"a",className:"coral3-BasicList-item coral3-AnchorList-item",extend:Coral.List.Item,events:{click:"_onClick"},properties:{disabled:{sync:function(e){this.disabled?this.tabIndex=-1:this.tabIndex=0}}},_onClick:function(e){this.disabled&&e.preventDefault()}})}(),function(){"use strict";Coral.register({name:"ButtonList",tagName:"coral-buttonlist",className:"coral3-BasicList coral3-ButtonList",extend:Coral.List,itemTagName:"coral-buttonlist-item",itemBaseTagName:"button",events:{"click [coral-list-item]":"_onItemClick"},_onItemClick:function(e){this._trackEvent("click","buttonlist-item",e,e.matchedTarget)}}),Coral.register({name:"ButtonList.Item",tagName:"coral-buttonlist-item",baseTagName:"button",className:"coral3-BasicList-item coral3-ButtonList-item",extend:Coral.List.Item,properties:{disabled:null}})}(),window.Coral=window.Coral||{},window.Coral.strings=window.Coral.strings||{},window.Coral.strings["coralui-component-taglist"]={"en-US":{Remove:"Remove"},"fr-FR":{Remove:"Supprimer"},"de-DE":{Remove:"Entfernen"},"it-IT":{Remove:"Rimuovi"},"es-ES":{Remove:"Eliminar"},"pt-BR":{Remove:"Remover"},"ja-JP":{Remove:"削除"},"ko-KR":{Remove:"제거"},"zh-CN":{Remove:"删除"},"zh-TW":{Remove:"移除"},"nl-NL":{Remove:"Verwijderen"},"da-DK":{Remove:"Fjern"},"fi-FI":{Remove:"Poista"},"nb-NO":{Remove:"Fjern"},"sv-SE":{Remove:"Ta bort"},"cs-CZ":{Remove:"Odebrat"},"pl-PL":{Remove:"Usuń"},"ru-RU":{Remove:"Удалить"},"tr-TR":{Remove:"Kaldır"}},window.Coral=window.Coral||{},window.Coral.templates=window.Coral.templates||{},window.Coral.templates.TagList=window.Coral.templates.TagList||{},window.Coral.templates.TagList.input=function(e){var t=this.input=document.createElement("input");return t.setAttribute("handle","input"),t.setAttribute("type","hidden"),t.setAttribute("name",""),t.setAttribute("value",""),t},window.Coral.templates.TagList.tag=function(e){var t=this.buttonCell=document.createElement("span");t.setAttribute("handle","buttonCell"),t.setAttribute("hidden","");var i=document.createTextNode("\n  ");t.appendChild(i);var n=this.button=document.createElement("button","coral-button");n.setAttribute("tracking","off"),n.setAttribute("handle","button"),n.setAttribute("is","coral-button"),n.setAttribute("type","button"),n.setAttribute("variant","minimal"),n.setAttribute("icon","close"),n.setAttribute("iconSize","XS"),n.className+=" coral3-Tag-removeButton",n.setAttribute("title",Coral.i18n.get("Remove")),n.setAttribute("hidden",""),n.setAttribute("tabindex","-1"),n.setAttribute("coral-close",""),t.appendChild(n);var o=document.createTextNode("\n");return t.appendChild(o),t},function(){"use strict";var e={SMALL:"S",MEDIUM:"M",LARGE:"L"},t={DEFAULT:"",GREY:"grey",BLUE:"blue",LIGHT_BLUE:"lightblue",PERIWINKLE:"periwinkle",PLUM:"plum",FUCHSIA:"fuchsia",MAGENTA:"magenta",RED:"red",ORANGE:"orange",TANGERINE:"tangerine",YELLOW:"yellow",CHARTREUSE:"chartreuse",GREEN:"green",KELLY_GREEN:"kellygreen",SEA_FOAM:"seafoam",CYAN:"cyan"},i={S:"small",M:"medium",L:"large"},n=[];for(var o in e)n.push("coral3-Tag--"+i[e[o]]);var a=[];for(var r in t)a.push("coral3-Tag--"+t[r]);Coral.register({name:"Tag",tagName:"coral-tag",className:"coral3-Tag",events:{'click [handle="button"]':"_onRemoveButtonClick","key:backspace":"_onRemoveButtonClick","key:delete":"_onRemoveButtonClick"},properties:{label:Coral.property.contentZone({handle:"label",tagName:"coral-tag-label",defaultContentZone:!0,insert:function(e){this.appendChild(e)},sync:function(){this._updateAriaLabel()}}),closable:{default:!1,reflectAttribute:!0,transform:Coral.transform.boolean,attributeTransform:Coral.transform.booleanAttr,sync:function(){this.closable&&!this.contains(this._elements.buttonCell)&&this.insertBefore(this._elements.buttonCell,this.firstChild),this._elements.button.hidden=!this.closable,this._elements.buttonCell.hidden=!this.closable,this._updateAriaLabel()}},value:{reflectAttribute:!0,transform:Coral.transform.string,trigger:"coral-tag:_valuechanged",get:function(){return void 0===this._value?this.textContent.replace(/\s{2,}/g," ").trim():this._value}},quiet:{default:!1,reflectAttribute:!0,transform:Coral.transform.boolean,attributeTransform:Coral.transform.booleanAttr,sync:function(){this.classList.toggle("coral3-Tag--quiet",this.quiet)}},multiline:{default:!1,reflectAttribute:!0,transform:Coral.transform.boolean,attributeTransform:Coral.transform.booleanAttr,sync:function(){this.classList.toggle("coral3-Tag--multiline",this.multiline)}},size:{default:e.LARGE,transform:function(e){return"string"==typeof e?e.toUpperCase():e},validate:[Coral.validate.valueMustChange,Coral.validate.enumeration(e)],sync:function(){this.classList.remove.apply(this.classList,n),this.classList.add(this._className+"--"+i[this.size])}},color:{default:t.DEFAULT,validate:[Coral.validate.valueMustChange,Coral.validate.enumeration(t)],sync:function(){this.classList.remove.apply(this.classList,a),this.color!==Coral.Tag.color.DEFAULT&&this.classList.add(this._className+"--"+this.color)}},trackingElement:{default:"",reflectAttribute:!0,set:function(e){this._trackingElement=e},get:function(){return this._trackingElement?this._trackingElement:this.value||this.label.textContent.replace(/\s{2,}/g," ").trim()},attribute:"trackingelement",transform:Coral.transform.string},role:{sync:function(){this._updateAriaLabel()}}},_onRemoveButtonClick:function(e){e.preventDefault(),this.closable&&!this._elements.button.disabled&&(e.stopPropagation(),this.focus(),this.trigger("coral-tag:_buttonclicked"),this.remove())},_render:function(){var e=document.createDocumentFragment(),t=this.querySelector("coral-tag-label")||document.createElement("coral-tag-label");for(t.parentNode&&this.removeChild(t);this.firstChild;){var i=this.firstChild;if(i.hasAttribute&&i.hasAttribute("handle")||i.nodeType===Node.COMMENT_NODE){if(i.hasAttribute&&"buttonCell"===i.getAttribute("handle")){this._elements.buttonCell=i;var n=i.querySelector('[handle="button"]');n&&(this._elements.button=n)}e.appendChild(i)}else t.appendChild(i)}this._elements.buttonCell||Coral.templates.TagList.tag.call(this._elements),this.hasAttribute("disabled")&&(this._elements.button.disabled=!0),this.appendChild(e),this.label=t},_updateAriaLabel:function(){var e=this._elements.button,t=this._elements.buttonCell,i=this._elements.label;if("row"!==this.getAttribute("role"))return t.removeAttribute("role"),i.removeAttribute("role"),void(this.getAttribute("aria-labelledby")===i.id&&this.removeAttribute("aria-labelledby"));t.setAttribute("role","gridcell"),i.setAttribute("role",this.closable?"rowheader":"gridcell");var n=e.getAttribute("title"),o=i.textContent;e.setAttribute("aria-label",n+": "+o),i.id||(i.id=Coral.commons.getUID()),this.setAttribute("aria-labelledby",i.id)}}),Coral.Tag.Label=function(){return document.createElement("coral-tag-label")},Coral.Tag.size=e,Coral.Tag.color=t}(),function(){"use strict";Coral.register({name:"TagList",tagName:"coral-taglist",className:"coral3-TagList",mixins:[Coral.mixin.formField],events:{"capture:focus coral-tag":"_onItemFocus","capture:blur coral-tag":"_onItemBlur","key:right coral-tag":"_onNextItemFocus","key:down coral-tag":"_onNextItemFocus","key:pagedown coral-tag":"_onNextItemFocus","key:left coral-tag":"_onPreviousItemFocus","key:up coral-tag":"_onPreviousItemFocus","key:pageup coral-tag":"_onPreviousItemFocus","key:home coral-tag":"_onFirstItemFocus","key:end coral-tag":"_onLastItemFocus","coral-tag:_buttonclicked":"_onTagButtonClicked","coral-tag:_valuechanged":"_onTagValueChanged"},properties:{disabled:{set:function(e){this._disabled=e;var t=this;t.classList.toggle("is-disabled",t.disabled),t.setAttribute("aria-disabled",t.disabled),t.items.getAll().forEach((function(e){e[t.disabled?"setAttribute":"removeAttribute"]("disabled","");var i=e._input;i&&(i.disabled=t.disabled),e._elements&&(e._elements.button.disabled=t.disabled),t.disabled?e.removeAttribute("tabindex"):e.setAttribute("tabindex",0)}))}},readOnly:{set:function(e){this._readOnly=e;var t=this;t.removeAttribute("aria-readonly"),t.items.getAll().forEach((function(e){e.closable=!t.readOnly}))}},value:{transform:Coral.transform.string,validate:[function(e,t){return e!==t||""===t&&this.items.length}],get:function(){var e=this.items.getAll();return e.length?e[0].value:""},set:function(e){if(void 0!==this.value&&(this.items.clear(),e)){var t=(new Coral.Tag).set({label:{innerHTML:e},value:e,tracking:Coral.tracking.OFF});this._attachInputToItem(t,!0),this.items.add(t)}}},values:{get:function(){return this.items.getAll().map((function(e){return e.value}))},set:function(e){var t=this;t.items.clear(),e.forEach((function(e){var i=(new Coral.Tag).set({label:{innerHTML:e},value:e});t._attachInputToItem(i,!0),t.items.add(i)}))}},items:{set:function(){},get:function(){return this._items||(this._items=new Coral.Collection({host:this,itemTagName:"coral-tag"})),this._items}},name:{transform:Coral.transform.string,get:function(){return this._name},set:function(e){this._name=e,this.items.getAll().forEach((function(t){var i=t._input;i&&i.setAttribute("name",e)}))}}},_getLabellableElement:function(){return this},_attachInputToItem:function(e,t){if(e._input)e._preAttachedInput&&(e._input=e._preAttachedInput,e._preAttachedInput=void 0);else{var i=e.querySelector("input[handle=input]")||Coral.templates.TagList.input.call(e._elements);i.disabled=this.disabled,i.name=this.name,i.value=e.value,e.appendChild(i),t?e._preAttachedInput=i:e._input=i}},_onItemAttached:function(e){var t=this.items.getAll();if(!e._input)if(t.some((function(t){return t.value===e.value&&t!==e})))e.remove();else{if(this._attachInputToItem(e),e.setAttribute("role","row"),this.disabled||e.setAttribute("tabindex","-1"),e.closable=!this.readOnly,!this.disabled&&!this.querySelector('coral-tag[tabindex="0"]')){var i=t[0];i&&i.setAttribute("tabindex","0")}this.trigger("coral-collection:add",{item:e})}},_onItemDetached:function(e){e._input=void 0,e._preAttachedInput=void 0,e.removeAttribute("role"),e.removeAttribute("aria-selected"),e.removeAttribute("tabindex");var t=this.parentElement;if(0===this.items.length&&t){"function"==typeof t.focus&&t.focus(),this.innerHTML="";var i=this;Coral.commons.nextFrame((function(){if("BODY"===document.activeElement.tagName){i.tabIndex=-1,i.classList.add("u-coral-screenReaderOnly"),i.style.outline="0",i.innerHTML=" ";var e=function(){i.removeAttribute("tabindex"),i.classList.remove("u-coral-screenReaderOnly"),i.style.outline="",i.innerHTML="",i._vent.off("blur.focusManagement")};i._vent.on("blur.focusManagement",null,e),Coral.commons.nextFrame((function(){t.contains(document.activeElement)?e():i.focus()}))}}))}else this._itemToFocusAfterDelete&&this._itemToFocusAfterDelete.focus();this.trigger("coral-collection:remove",{item:e})},_onItemFocus:function(e){if(!this.disabled){this.setAttribute("aria-live","polite");var t=e.matchedTarget;t.setAttribute("aria-selected",!0),this.items.getAll().forEach((function(e){e!==t&&e.setAttribute("tabindex","-1")})),t.setAttribute("tabindex","0"),this._setItemToFocusOnDelete(t)}},_onItemBlur:function(e){if(!this.disabled){this.setAttribute("aria-live","off");var t=e.matchedTarget;t.setAttribute("aria-selected",!1),this._setItemToFocusOnDelete(t)}},_onSiblingItemFocus:function(e,t){if(!this.disabled){e.preventDefault();for(var i=e.target[t];i;){if("coral-tag"===i.tagName.toLowerCase()&&!i.hidden){i.focus();break}i=i[t]}}},_onNextItemFocus:function(e){this._onSiblingItemFocus(e,"nextElementSibling")},_onPreviousItemFocus:function(e){this._onSiblingItemFocus(e,"previousElementSibling")},_onFirstItemFocus:function(e){e.preventDefault(),this.items.length>0&&this.items.getAll()[0].focus()},_onLastItemFocus:function(e){e.preventDefault();var t=this.items.length;t>0&&this.items.getAll()[t-1].focus()},_onTagButtonClicked:function(e){e.stopImmediatePropagation();var t=e.target;t&&t.closable&&this._trackEvent("remove","taglist-tag",e,t),Coral.commons.nextFrame(function(){this.trigger("change")}.bind(this))},_onTagValueChanged:function(e){e.stopImmediatePropagation();var t=e.target,i=t._input;i&&(i.value=t.value)},_setItemToFocusOnDelete:function(e){for(var t=this,i=e.nextElementSibling;i;){if("coral-tag"===i.tagName.toLowerCase()&&!i.hidden)return void(this._itemToFocusAfterDelete=i);i=i.nextElementSibling}for(i=e.previousElementSibling;i;){if("coral-tag"===i.tagName.toLowerCase()&&!i.hidden){this._itemToFocusAfterDelete=i;break}i=i.previousElementSibling}Coral.commons.nextFrame((function(){null===e.parentElement||t.contains(document.activeElement)||(i=void 0)}))},reset:function(){this.values=this._initialValues},_initialize:function(){this._itemToFocusAfterDelete=null,this.setAttribute("role","grid"),this.setAttribute("aria-live","off"),this.setAttribute("aria-atomic","false"),this.setAttribute("aria-relevant","additions"),this._observer=new MutationObserver(function(e){var t=this;e.forEach((function(e){for(var i=0;i<e.addedNodes.length;i++){var n=e.addedNodes[i];window.CustomElements.upgrade(n),n instanceof Coral.Tag&&t._onItemAttached(n)}for(var o=0;o<e.removedNodes.length;o++){var a=e.removedNodes[o];a instanceof Coral.Tag&&t._onItemDetached(a)}}))}.bind(this)),this._observer.observe(this,{childList:!0}),Coral.commons.ready(this,(function(e){e.items.getAll().forEach((function(t){e._onItemAttached(t)})),e._initialValues=e.values}))}})}(),window.Coral=window.Coral||{},window.Coral.strings=window.Coral.strings||{},window.Coral.strings["coralui-component-autocomplete"]={"en-US":{"No matching results&period;":"No matching results.","Show suggestion":"Show suggestion","Show {0} suggestions":"Show {0} suggestions","Show suggestions":"Show suggestions"},"de-DE":{"No matching results&period;":"Keine passenden Ergebnisse.","Show suggestion":"Vorschlag anzeigen","Show {0} suggestions":"{0} Vorschläge anzeigen","Show suggestions":"Vorschläge anzeigen"},"es-ES":{"No matching results&period;":"No hay resultados coincidentes.","Show suggestion":"Mostrar sugerencia","Show {0} suggestions":"Mostrar {0} sugerencias","Show suggestions":"Mostrar sugerencias"},"ko-KR":{"No matching results&period;":"일치하는 결과가 없습니다.","Show suggestion":"제안 사항 표시","Show {0} suggestions":"{0}제안 사항 표시","Show suggestions":"제안 사항 표시"},"fr-FR":{"No matching results&period;":"Aucun résultat correspondant.","Show suggestion":"Afficher la suggestion","Show {0} suggestions":"Afficher {0} suggestions","Show suggestions":"Afficher les suggestions"},"ja-JP":{"No matching results&period;":"一致する結果がありません。","Show suggestion":"入力候補を表示","Show {0} suggestions":"{0}入力候補を表示","Show suggestions":"入力候補を表示"},"zh-CN":{"No matching results&period;":"无匹配的结果。","Show suggestion":"显示建议","Show {0} suggestions":"显示 {0} 个建议","Show suggestions":"显示建议"},"zh-TW":{"No matching results&period;":"沒有相符的結果。","Show suggestion":"顯示建議","Show {0} suggestions":"顯示 {0} 個建議","Show suggestions":"顯示建議"},"pt-BR":{"No matching results&period;":"Nenhum resultado correspondente.","Show suggestion":"Mostrar sugestão","Show {0} suggestions":"Mostrar {0} sugestões","Show suggestions":"Mostrar sugestões"},"it-IT":{"No matching results&period;":"Nessun risultato corrispondente.","Show suggestion":"Mostra suggerimento","Show {0} suggestions":"Mostra {0} suggerimenti","Show suggestions":"Mostra suggerimenti"},"nl-NL":{"No matching results&period;":"Geen overeenkomende resultaten.","Show suggestion":"Voorstel tonen","Show {0} suggestions":"{0} voorstellen tonen","Show suggestions":"Voorstellen tonen"},"da-DK":{"No matching results&period;":"Ingen matchende resultater.","Show suggestion":"Vis forslag","Show {0} suggestions":"Vis  {0} forslag","Show suggestions":"Vis forslag"},"fi-FI":{"No matching results&period;":"Vastaavia tuloksia ei ole.","Show suggestion":"Näytä ehdotus","Show {0} suggestions":"Näytä {0} ehdotusta","Show suggestions":"Näytä ehdotukset"},"nb-NO":{"No matching results&period;":"Ingen tilsvarende resultater.","Show suggestion":"Vis forslag","Show {0} suggestions":"Vis {0} forslag","Show suggestions":"Vis forslag"},"sv-SE":{"No matching results&period;":"Inga matchande resultat.","Show suggestion":"Visa förslag","Show {0} suggestions":"Visa {0} förslag","Show suggestions":"Visa förslag"},"cs-CZ":{"No matching results&period;":"Neodpovídají žádné výsledky.","Show suggestion":"Zobrazit doporučení","Show {0} suggestions":"Zobrazit následující počet návrhů: {0}","Show suggestions":"Zobrazit doporučení"},"pl-PL":{"No matching results&period;":"Brak pasujących wyników.","Show suggestion":"Pokaż sugestię","Show {0} suggestions":"Wyświetl {0} sugestii","Show suggestions":"Pokaż sugestie"},"ru-RU":{"No matching results&period;":"Нет соответствующих результатов.","Show suggestion":"Показать предложение","Show {0} suggestions":"Показать предложения ({0})","Show suggestions":"Показать предложения"},"tr-TR":{"No matching results&period;":"Eşleşen sonuç yok.","Show suggestion":"Öneriyi göster","Show {0} suggestions":"{0} önerilerini göster","Show suggestions":"Önerileri göster"}},window.Coral=window.Coral||{},window.Coral.templates=window.Coral.templates||{},window.Coral.templates.Autocomplete=window.Coral.templates.Autocomplete||{},window.Coral.templates.Autocomplete.base=function(e){var t=document.createDocumentFragment(),i=this.field=document.createElement("input");i.setAttribute("type","hidden"),i.setAttribute("handle","field"),t.appendChild(i);var n=document.createTextNode("\n");t.appendChild(n);var o=this.inputGroup=document.createElement("div");o.className+=" coral-InputGroup coral-InputGroup--block coral3-Autocomplete-inputGroup",o.setAttribute("handle","inputGroup"),o.setAttribute("role","presentation");var a=document.createTextNode("\n  ");o.appendChild(a);var r=this.label=document.createElement("div");r.className+=" coral-InputGroup-input coral-DecoratedTextfield",r.setAttribute("handle","label"),r.setAttribute("role","presentation");var s=document.createTextNode("\n    ");r.appendChild(s);var l=this.icon=document.createElement("coral-icon");l.setAttribute("size","XS"),l.className+=" coral-DecoratedTextfield-icon coral3-Autocomplete-icon",l.setAttribute("handle","icon"),r.appendChild(l);var c=document.createTextNode("\n    ");r.appendChild(c);var d=this.input=document.createElement("input","coral-textfield");d.className+=" coral-DecoratedTextfield-input coral3-Autocomplete-input",d.setAttribute("type","text"),d.setAttribute("autocomplete","off"),d.setAttribute("handle","input"),d.setAttribute("role","textbox"),d.setAttribute("is","coral-textfield"),r.appendChild(d);var u=document.createTextNode("\n  ");r.appendChild(u),o.appendChild(r);var h=document.createTextNode("\n  ");o.appendChild(h);var p=document.createElement("span");p.className+=" coral-InputGroup-button",p.setAttribute("role","presentation");var m=document.createTextNode("\n    ");p.appendChild(m);var f=this.trigger=document.createElement("button","coral-button");f.setAttribute("tabindex","-1"),f.setAttribute("is","coral-button"),f.setAttribute("type","button"),f.setAttribute("icon","chevronDown"),f.setAttribute("iconsize","XS"),f.setAttribute("handle","trigger"),f.className+=" coral3-Autocomplete-trigger",f.setAttribute("aria-label",Coral.i18n.get("Show suggestions")),f.setAttribute("title",Coral.i18n.get("Show suggestions")),p.appendChild(f);var g=document.createTextNode("\n  ");p.appendChild(g),o.appendChild(p);var v=document.createTextNode("\n");o.appendChild(v),t.appendChild(o);var b=document.createTextNode("\n");t.appendChild(b);var _=this.overlay=document.createElement("coral-overlay");_.className+=" coral3-Autocomplete-overlay",_.setAttribute("returnfocus","off"),_.setAttribute("alignmy","left top"),_.setAttribute("alignat","left bottom"),_.setAttribute("target","_prev"),_.setAttribute("handle","overlay"),_.setAttribute("role","presentation");var C=document.createTextNode("\n  ");_.appendChild(C);var y=this.selectList=document.createElement("coral-buttonlist");y.id=Coral.commons.getUID(),y.className+=" coral3-Autocomplete-selectList",y.setAttribute("handle","selectList"),y.setAttribute("role","listbox"),y.setAttribute("interaction","off"),_.appendChild(y);var w=document.createTextNode("\n");_.appendChild(w),t.appendChild(_);var A=document.createTextNode("\n");t.appendChild(A);var x=this.tagList=document.createElement("coral-taglist");return x.className+=" coral3-Autocomplete-tagList",x.setAttribute("handle","tagList"),t.appendChild(x),t},window.Coral.templates.Autocomplete.loadIndicator=function(e){var t=document.createElement("div");t.className+=" coral3-Autocomplete-loading",t.setAttribute("role","progressbar");var i=document.createTextNode("\n  ");t.appendChild(i);var n=document.createElement("coral-wait");n.setAttribute("centered",""),t.appendChild(n);var o=document.createTextNode("\n");return t.appendChild(o),t},function(){"use strict";var e=function(e){Coral.Collection.call(this,arguments),this._host=e.host};(e.prototype=Object.create(Coral.Collection.prototype)).add=function(e,t){return e instanceof HTMLElement||(e=(new Coral.Autocomplete.Item).set(e,!0)),this._host.insertBefore(e,t||null),e},e.prototype.getAll=function(){return Array.prototype.slice.call(this._host.querySelectorAll("coral-autocomplete-item"))};var t={STARTSWITH:"startswith",CONTAINS:"contains"},i=Coral.validate.enumeration(t);Coral.register({name:"Autocomplete",tagName:"coral-autocomplete",className:"coral3-Autocomplete",mixins:[Coral.mixin.formField],properties:{items:{get:function(){return this._items||(this._items=new e({itemTagName:"coral-autocomplete-item",itemSelector:"coral-autocomplete-item",host:this})),this._items},set:function(){}},name:{set:function(e){this._name=e,this._setName()},get:function(){return this._name}},value:{override:!0,transform:function(e){return null==e&&(e=""),e},set:function(e){this.values=[e]},get:function(){var e=this.values;return e&&e.length>0?e[0]:""}},values:{validate:[Coral.validate.valueMustChange,function(e){return Array.isArray(e)}],set:function(e){var t,i;null==e&&(e=[]);var n=[];if(this.forceSelection)for(t=0;t<e.length;t++)i=e[t],void 0!==this._optionsMap[i]&&n.push(i);else for(t=0;t<e.length;t++)i=e[t],n.push(i);if(this.multiple)for(this._clearValues(),t=0;t<n.length;t++)i=n[t],this._selectItem(i),this._addValue(i,null,!0);else this._values=n.length>0?[n[0]]:[],this._reflectCurrentValue()},get:function(){return this._values}},multiple:{default:!1,reflectAttribute:!0,transform:Coral.transform.boolean,attributeTransform:Coral.transform.booleanAttr,set:function(e){this._multiple=e,this._setName(),e?this._elements.tagList.hidden=!1:(this._elements.tagList.hidden=!0,this._elements.tagList.items.clear())},get:function(){return this._multiple},sync:function(){},alsoSync:"labelledBy"},delay:{default:200,reflectAttribute:!0,transform:Coral.transform.number,validate:function(e,t){return"number"==typeof e&&e>=0}},forceSelection:{default:!1,attribute:"forceselection",reflectAttribute:!0,transform:Coral.transform.boolean,attributeTransform:Coral.transform.booleanAttr,set:function(e){this.forceSelection,this._forceSelection=e},get:function(){return this._forceSelection}},placeholder:{default:"",reflectAttribute:!0,set:function(e){this._elements.input.setAttribute("placeholder",e)},get:function(){return this._elements.input.getAttribute("placeholder")}},maxLength:{attribute:"maxlength",reflectAttribute:!0,set:function(e){this._elements.input.maxLength=e},get:function(){return this._elements.input.maxLength}},icon:{default:"",validate:[],reflectAttribute:!0,set:function(e){this._elements.icon.icon=e,this._elements.icon.hidden=!this._elements.icon.icon},get:function(){return this._elements.icon.icon}},match:{default:t.CONTAINS,validate:function(e){return"string"==typeof e?i(e):"function"==typeof e},set:function(e){e===t.STARTSWITH?this._matchFunction=this._optionStartsWithValue:e===t.CONTAINS?this._matchFunction=this._optionContainsValue:"function"==typeof e&&(this._matchFunction=e),this._match=e}},invalid:{sync:function(){this.classList.toggle("is-invalid",this.invalid),this._elements.input.classList.toggle("is-invalid",this.invalid)}},disabled:{set:function(e){this._disabled=e,this._elements.input.disabled=this.disabled,this._elements.trigger.disabled=this.disabled||this.readOnly,this._elements.tagList.disabled=this.disabled||this.readOnly}},readOnly:{set:function(e){this._readOnly=e,this._elements.input.readOnly=this.readOnly,this._elements.trigger.disabled=this.readOnly||this.disabled}},required:{set:function(e){this._required=e,this._elements.input.required=this.required}},labelledBy:{sync:function(){this.labelledBy&&this.multiple?this._elements.tagList.setAttribute("aria-labelledby",this.labelledBy):this._elements.tagList.removeAttribute("aria-labelledby")}},loading:{default:!1,reflectAttribute:!0,transform:Coral.transform.boolean,attributeTransform:Coral.transform.booleanAttr,set:function(e){this._loading=e;var t=this._elements.loadIndicator;if(this.loading){t||(t=this._elements.loadIndicator=Coral.templates.Autocomplete.loadIndicator().firstChild);var i=this._elements.overlay,n=i.scrollTop>=i.scrollHeight-i.clientHeight;this._elements.overlay.appendChild(t),n&&(i.scrollTop=i.scrollHeight)}else t&&t.parentNode&&this._elements.overlay.removeChild(t)}}},events:{'key:up [handle="input"]':"_handleInputUpKeypress",'key:alt+up [handle="input"]':"_handleInputUpKeypress",'key:down [handle="input"]':"_handleInputDownKeypress",'key:alt+down [handle="input"]':"_handleInputDownKeypress",'key:tab [handle="input"]':"_handleInputTabKeypress",'key:shift+tab [handle="input"]':"_handleListFocusShift",'capture:change [handle="input"]':"_handleInput",'input [handle="input"]':"_handleInputEvent",keydown:"_handleInputKeypressEnter",'click [handle="trigger"]':"_handleTriggerClick",'mousedown [handle="trigger"]':"_handleTriggerMousedown","global:key:escape":"_hideSuggestionsAndFocus",'key:shift+tab [is="coral-buttonlist-item"]':"_handleListFocusShift","global:click":"_onGlobalClick","global:touchstart":"_onGlobalClick",'capture:focus [handle="inputGroup"]':"_handleInputGroupFocusIn",'capture:blur [handle="inputGroup"]':"_handleInputGroupFocusOut",'coral-collection:remove [handle="tagList"]':"_handleTagRemoved",'change [handle="tagList"]':"_preventTagListChangeEvent",'click button[is="coral-buttonlist-item"]':"_handleSelect",'capture:scroll [handle="overlay"]':"_onScroll",'capture:mousewheel [handle="overlay"]':"_onMouseWheel",'capture:mousedown [handle="overlay"]':"_onMouseDown",'mousedown button[is="coral-buttonlist-item"]':"_handleSelect",'capture:mouseenter [is="coral-buttonlist-item"]':"_handleListItemFocus","coral-overlay:positioned":"_handleOverlayPositioned","coralui-autocomplete-item:_valuechanged":"_handleItemValueChange","coralui-autocomplete-item:_selectedchanged":"_handleItemSelectedChange","coralui-autocomplete-item:_contentchanged":"_handleItemContentChange"},_render:function(){var e=document.createDocumentFragment();for(e.appendChild(Coral.templates.Autocomplete.base.call(this._elements));this.firstChild;){var t=this.firstChild;t.nodeType===Node.TEXT_NODE||t.hasAttribute&&!t.hasAttribute("handle")?e.appendChild(t):this.removeChild(t)}this.appendChild(e),this.setAttribute("role","presentation"),this._elements.input.setAttribute("role","combobox"),this._elements.input.setAttribute("aria-autocomplete","list"),this._elements.input.setAttribute("aria-haspopup","true"),this._elements.input.setAttribute("aria-expanded","false"),this._elements.input.setAttribute("aria-controls",this._elements.selectList.id),this._elements.trigger.setAttribute("aria-haspopup","true"),this._elements.trigger.setAttribute("aria-expanded","false"),this._elements.trigger.setAttribute("aria-controls",this._elements.selectList.id),this._tagMap={},this._values=[],this._options=[],this._optionsMap={},this._handleScrollBottom=this._handleScrollBottom.bind(this),this._observer=new MutationObserver(this._handleMutation.bind(this)),this._startObserving(),this._setStateFromDOM()},_initialize:function(){this._initialSelectedValues=this.values.slice(0)},reset:function(){this.values=this._initialSelectedValues},attachedCallback:function(){Coral.Component.prototype.attachedCallback.call(this),this._setStateFromDOM()},_startObserving:function(){this._observer.observe(this,{childList:!0})},_stopObserving:function(){this._observer.disconnect()},_setName:function(){this.multiple?(this._elements.tagList.name=this.name,this._elements.field.name=""):(this._elements.field.name=this.name,this._elements.tagList.name="")},_onInputChange:function(e){if(e.stopPropagation(),!this.multiple){var t=this._elements.input.value.toLowerCase();if(this.forceSelection||""===t)for(var i=this.items.getAll(),n=0;n<i.length;n++)i[n].value.toLowerCase()!==t&&(i[n].selected=!1)}},_handleMutation:function(e){for(var t=0;t<e.length;t++){var i=e[t],n=i.target;if("childList"===i.type&&n===this)return void this._setStateFromDOM()}},_setStateFromDOM:function(){this._createOptionsFromDOM(),this._setSelectedFromDOM()},_createOptionsFromDOM:function(){this._options.length=0,this._optionsMap={};for(var e=this.querySelectorAll("coral-autocomplete-item"),t=0;t<e.length;t++){var i=e[t],n={value:i.getAttribute("value"),icon:i.getAttribute("icon"),disabled:i.hasAttribute("disabled"),content:i.innerHTML.replace(/\s{2,}/g," ").trim()};this._options.push(n),this._optionsMap[n.value]=n}},_setInputValues:function(e,t){this._elements.field.value=e,(this.multiple||""!==t)&&(this._elements.input.value=t.trim())},_reflectCurrentValue:function(){var e=this._values.length>0?this._values[0]:"";this._elements.field.value=e;var t="";if(""!==e){var i=this._optionsMap[e];t=i?i.content:e}this._setInputValues(e,t)},_setSelectedFromDOM:function(){var e=this.querySelectorAll("coral-autocomplete-item[selected]");if(e.length)if(this.hasAttribute("multiple")){this._resetValues();for(var t=0;t<e.length;t++){var i=e[t].getAttribute("value"),n=e[t].innerHTML;this._addValue(i,n,!0)}}else{var o=e[e.length-1];this._deselectExcept(o,e),this.value=o.getAttribute("value")}else this.hasAttribute("multiple")?this._resetValues():this.value=""},_deselectExcept:function(e,t){var i=t||this.querySelectorAll("coral-autocomplete-item[selected]");this._stopObserving();for(var n=0;n<i.length;n++)i[n]!==e&&i[n].removeAttribute("selected");this._startObserving()},_addValue:function(e,t,i){if(!t){var n=this._optionsMap[e];t=n?n.content:e}-1===this._values.indexOf(e)&&this._values.push(e);var o={};i?o.innerHTML=t:o.textContent=t;var a=(new Coral.Tag).set({label:o,value:e});this._tagMap[e]=a,this._elements.tagList.items.add(a),this._setInputValues("","")},_removeValue:function(e){var t=this._values.indexOf(e);if(-1!==t){this._values.splice(t,1);var i=this.querySelector("coral-autocomplete-item[value="+JSON.stringify(e)+"]");i&&i.hasAttribute("selected")&&(this._stopObserving(),i.removeAttribute("selected"),this._startObserving());var n=this._tagMap[e];n&&(this._tagMap[e]=null,this._elements.tagList.items.remove(n)),-1!==t&&this.trigger("change")}},_clearValues:function(){this._resetValues(),this._stopObserving();for(var e=this.querySelectorAll("coral-autocomplete-item[selected]"),t=0;t<e.length;t++)e[t].removeAttribute("selected");this._startObserving()},_resetValues:function(){this._values=[],this._tagMap={},this._elements.tagList.items.clear()},_focusNextItem:function(){var e,t,i=this._elements.selectList,n=i.querySelector(".is-focused"),o=this._elements.input,a=i._getSelectableItems(),r=this;n?(e=a.indexOf(n))<a.length-1&&(t=a[e+1]):a&&a.length>0&&(t=a[0]),Coral.commons.nextFrame((function(){t&&(n&&n.classList.remove("is-focused"),r._scrollItemIntoView(t),t.classList.add("is-focused"),o.setAttribute("aria-activedescendant",t.id)),i.querySelector(".is-focused")||o.removeAttribute("aria-activedescendant")}))},_focusPreviousItem:function(){var e,t,i=this._elements.selectList,n=i.querySelector(".is-focused"),o=this._elements.input,a=i._getSelectableItems(),r=this;n?((e=a.indexOf(n))>0&&(t=a[e-1]),n.classList.remove("is-focused")):a&&a.length>0&&(t=a[a.length-1]),Coral.commons.nextFrame((function(){t&&(r._scrollItemIntoView(t),t.classList.add("is-focused"),o.setAttribute("aria-activedescendant",t.id)),i.querySelector(".is-focused")||o.removeAttribute("aria-activedescendant")}))},_showSuggestions:function(){var e=this._elements.input.value;this.clearSuggestions();var t=this.trigger("coral-autocomplete:showsuggestions",{value:e,start:0});this._showSuggestionsCalled=!0,t.defaultPrevented?(this.loading=!0,this.showSuggestions()):(this.addSuggestions(this._getMatches(e.toLowerCase().trim(),this._optionContainsValue)),this.showSuggestions())},_onScroll:function(){this._isOverlayScrolling=!0,clearTimeout(this._scrollTimeout),this._scrollTimeout=setTimeout(this._handleScrollBottom,100)},_onMouseWheel:function(e){var t=this._elements.overlay;(e.deltaY<0&&0===t.scrollTop||e.deltaY>0&&t.scrollTop>=t.scrollHeight-t.clientHeight)&&e.preventDefault()},_onMouseDown:function(e){this._isScrollBarClicked=e.matchedTarget.clientWidth<=e.offsetX},_handleScrollBottom:function(){var e=this._elements.overlay,t=this._elements.selectList;if(e.scrollTop>=e.scrollHeight-e.clientHeight-50){var i=this._elements.input.value;this.trigger("coral-autocomplete:showsuggestions",{value:i,start:t.items.length}).defaultPrevented&&(this.loading=!0)}},_onGlobalClick:function(e){if(this._elements.overlay.open){var t=this._elements.inputGroup.contains(e.target),i=this._elements.overlay.contains(e.target);t||i||this.hideSuggestions()}},_handleInputGroupFocusIn:function(){this.classList.add("is-focused")},_handleInputGroupFocusOut:function(e){this.classList.remove("is-focused")},_handleOverlayPositioned:function(e){"top"===e.detail.vertical?(this.classList.remove("is-openAbove"),this.classList.add("is-openBelow")):(this.classList.remove("is-openBelow"),this.classList.add("is-openAbove"))},_handleListFocusShift:function(e){this._elements.overlay.open&&(e.preventDefault(),e.stopImmediatePropagation(),this._hideSuggestionsAndFocus())},_hideSuggestionsAndFocus:function(e){this.hideSuggestions(),this._elements.input.focus()},_handleTriggerClick:function(){this._elements.overlay.open?this._hideSuggestionsAndFocus():(this._showSuggestions(),this._elements.input.focus())},_handleTriggerMousedown:function(){this._elements.trigger.focus()},_handleListItemFocus:function(e){var t=e.matchedTarget,i=this._elements.selectList.querySelector(".is-focused"),n=this._elements.input;i&&(i.classList.remove("is-focused"),n.removeAttribute("aria-activedescendant")),t.disabled||(this._scrollItemIntoView(t),t.classList.add("is-focused"),n.setAttribute("aria-activedescendant",t.id))},_scrollItemIntoView:function(e){var t=e.getBoundingClientRect(),i=this._elements.overlay.getBoundingClientRect();t.top<i.top?e.scrollIntoView():t.bottom>i.bottom+1&&e.scrollIntoView(!1)},_getMatches:function(e,t){t=t||this._matchFunction;for(var i=[],n=0;n<this._options.length;n++)t(this._options[n],e)&&i.push(this._options[n]);if(!i.length){var o=this._elements.selectList.items.getAll();for(n=0;n<o.length;n++){var a={value:o[n].value,content:o[n].textContent.trim()};t(a,e)&&i.push(a)}}return i},_handleInputKeypressEnter:function(e){if(13===e.which){if(this._elements.overlay.open&&this._elements.input.getAttribute("aria-activedescendant")){var t=this._elements.selectList.querySelector(".is-focused");return void(t&&this._handleSelect(e,t))}this._handleInput(e)}},_handleInputEvent:function(e){this.invalid=!1,this.delay?(clearTimeout(this.timeout),this.timeout=setTimeout(this._showSuggestions.bind(this),this.delay)):this._showSuggestions()},_handleInput:function(e){if(this._isOverlayScrolling||this._isScrollBarClicked)return this._isOverlayScrolling=!1,void(this._isScrollBarClicked=!1);var t;if(e.preventDefault(),this._elements.overlay.open&&this._elements.input.getAttribute("aria-activedescendant")){var i=this._elements.selectList.querySelector(".is-focused");i&&(t=i.textContent.trim())}var n=t||this._elements.input.value,o=!1,a=this._getMatches(n,this._optionEqualsValue);if(a.length){var r=a.filter((function(e){return e.content===n}))[0]||a[0];o=this.value!==r.value,this._selectItem(r.value,r.content,!1),this.multiple?n.trim()&&this._addValue(r.value,r.content,!1):this.value=r.value,this.forceSelection&&(this.invalid=!1),this.hideSuggestions(),!0===o&&this.trigger("change")}else this.forceSelection?this.multiple?this.invalid=""!==n||1===this.values.length&&""===this.values[0]||0===this.values.length:this.invalid=!0:(o=this.value!==n,this.multiple?n.trim()&&this._addValue(n,null,!1):this.value=n,this.hideSuggestions(),!0===o&&this.trigger("change"));this._updateButtonAccessibilityLabel()},_selectItem:function(e,t,i){this._stopObserving();var n=this.querySelector("coral-autocomplete-item[value="+JSON.stringify(e)+"]");if(n)n.setAttribute("selected","");else{var o={};t=void 0===t?e:t,i?o.innerHTML=t:o.textContent=t,this.items.add((new Coral.Autocomplete.Item).set({value:e,content:o,selected:!0}))}this._startObserving()},_handleInputUpKeypress:function(e){e.preventDefault(),this._elements.overlay.open?e.altKey?this.hideSuggestions():this._focusPreviousItem():this._showSuggestions()},_handleInputDownKeypress:function(e){e.preventDefault(),this._elements.overlay.open?this._focusNextItem():this._showSuggestions()},_handleInputTabKeypress:function(e){this._elements.overlay.open&&this._elements.input.getAttribute("aria-activedescendant")&&e.preventDefault()},_handleSelect:function(e,t){var i=t||e.matchedTarget;if(i&&!i.disabled){this._selectItem(i.value,i.content.innerHTML,!0),this.multiple?this._addValue(i.value,i.content.innerHTML,!0):(this.value=i.value,this._setInputValues(this.value,i.content.textContent,!1));var n=this;Coral.commons.nextFrame((function(){n._elements.input.focus()})),this.hideSuggestions(),this.trigger("change")}},_preventTagListChangeEvent:function(e){e.stopImmediatePropagation()},_handleTagRemoved:function(e){for(var t=e.detail.item.value,i=!0,n=this._elements.tagList.items.getAll(),o=0;o<n.length;o++)if(n[o].value===t){i=!1;break}i&&this._removeValue(t),(1===this.values.length&&""===this.values[0]||0===this.values.length)&&this._elements.input.focus(),this._updateButtonAccessibilityLabel()},_handleItemValueChange:function(e){e.stopImmediatePropagation(),this._createOptionsFromDOM()},_handleItemContentChange:function(e){e.stopImmediatePropagation(),this._createOptionsFromDOM()},_handleItemSelectedChange:function(e){e.stopImmediatePropagation();var t=e.target,i=t.hasAttribute("selected");this.multiple?this[i?"_addValue":"_removeValue"](t.value,t.content.innerHTML,!0):i?(this._elements.input.value=t.content.textContent.replace(/\s{2,}/g," ").trim(),this.value=t.value,this.invalid=!1,this._deselectExcept(t)):this.value===t.value&&(this.value="",this.trigger("change"))},clear:function(){this.value="",this._elements.input.clear(),this.multiple&&this._clearValues()},clearSuggestions:function(){this._elements.selectList.items.clear(),this._updateButtonAccessibilityLabel()},addSuggestions:function(e,t){this.loading=!1,t&&this.clearSuggestions();for(var i=0;i<e.length;i++){var n=e[i].value,o=e[i].content,a=e[i].icon,r=!!e[i].disabled;this.multiple&&-1!==this.values.indexOf(n)||(this._elements.selectList.items.add({value:n,type:"button",icon:a,disabled:r,id:Coral.commons.getUID(),tabIndex:-1,content:{innerHTML:o}}),this._elements.selectList.items.last().setAttribute("role","option"))}e.length||this._elements.selectList.items.length?this._updateButtonAccessibilityLabel(this._elements.selectList.items.length):(this._elements.selectList.items.add({type:"button",content:{innerHTML:"<em>"+Coral.i18n.get("No matching results.")+"</em>"},disabled:!0}),this._elements.selectList.items.last().setAttribute("role","status"),this._elements.selectList.items.last().setAttribute("aria-live","polite"),this._elements.input.removeAttribute("aria-activedescendant"),this._updateButtonAccessibilityLabel()),this._elements.selectList.style.height="";var s=window.getComputedStyle(this._elements.selectList),l=parseInt(s.height,10);l<parseInt(s.maxHeight,10)&&(this._elements.selectList.style.height=l-1+"px")},showSuggestions:function(){this._showSuggestionsCalled?this._showSuggestionsCalled=!1:this._showSuggestions(),this._elements.overlay.style.minWidth=this.offsetWidth+"px",this._elements.overlay.open?this._elements.overlay.reposition():this._elements.overlay.open=!0,this._elements.input.setAttribute("aria-expanded","true"),this._elements.trigger.setAttribute("aria-expanded","true"),this.classList.add("is-open")},hideSuggestions:function(){this._elements.overlay.open=!1,this._elements.input.setAttribute("aria-expanded","false"),this._elements.trigger.setAttribute("aria-expanded","false"),this.classList.remove("is-open","is-openBelow","is-openAbove"),this._elements.input.removeAttribute("aria-activedescendant"),clearTimeout(this.timeout),this.trigger("coral-autocomplete:hidesuggestions")},_optionContainsValue:function(e,t){return t=("string"==typeof t?t:"").toLowerCase(),-1!==e.content.toLowerCase().indexOf(t)},_optionStartsWithValue:function(e,t){return t=("string"==typeof t?t:"").toLowerCase(),0===e.content.toLowerCase().trim().indexOf(t)},_optionEqualsValue:function(e,t){return t=("string"==typeof t?t:"").toLowerCase(),e.content.toLowerCase().trim()===t},_updateButtonAccessibilityLabel:function(e){var t=Coral.i18n.get("Show suggestions");1===e?t=Coral.i18n.get("Show suggestion"):e>1&&(t=Coral.i18n.get("Show {0} suggestions",e)),this._elements.trigger.setAttribute("aria-label",t),this._elements.trigger.setAttribute("title",t)}}),Coral.register({name:"Autocomplete.Item",tagName:"coral-autocomplete-item",properties:{value:{reflectAttribute:!0,trigger:"coralui-autocomplete-item:_valuechanged",transform:Coral.transform.string,get:function(){return void 0===this._value?this.textContent.replace(/\s{2,}/g," ").trim():this._value}},content:{contentZone:!0,set:function(){},get:function(){return this}},selected:{default:!1,reflectAttribute:!0,transform:Coral.transform.boolean,attributeTransform:Coral.transform.booleanAttr,trigger:"coralui-autocomplete-item:_selectedchanged"},disabled:{default:!1,reflectAttribute:!0,transform:Coral.transform.boolean,attributeTransform:Coral.transform.booleanAttr}},_initialize:function(){this._observer=new MutationObserver(this._handleMutation.bind(this)),this._observer.observe(this,{characterData:!0,childList:!0,subtree:!0})},_handleMutation:function(e){this.trigger("coralui-autocomplete-item:_contentchanged",{content:this.textContent})}}),Coral.Autocomplete.match=t}(),window.Coral=window.Coral||{},window.Coral.strings=window.Coral.strings||{},window.Coral.strings["coralui-component-calendar"]={"en-US":{"Previous Month":"Previous Month","Next Month":"Next Month",Previous:"Previous",Next:"Next","Today, {0} selected/[translation hint:date]":"Today, {0} selected","Today, {0}/[translation hint:date]":"Today, {0}","{0} selected/[translation hint:date]":"{0} selected"},"fr-FR":{Previous:"Précédent",Next:"Suivant","Today, {0} selected/[translation hint:date]":"Aujourd’hui, sélection de {0}","Today, {0}/[translation hint:date]":"Aujourd’hui, {0}","{0} selected/[translation hint:date]":"Sélection de {0}","Previous Month":"Mois précédent","Next Month":"Mois suivant"},"de-DE":{Previous:"Zurück",Next:"Weiter","Today, {0} selected/[translation hint:date]":"Heute, {0} ausgewählt","Today, {0}/[translation hint:date]":"Heute, {0}","{0} selected/[translation hint:date]":"{0} ausgewählt","Previous Month":"Vorheriger Monat","Next Month":"Nächster Monat"},"it-IT":{Previous:"Precedente",Next:"Successivo","Today, {0} selected/[translation hint:date]":"Oggi, {0} selezionati","Today, {0}/[translation hint:date]":"Oggi, {0}","{0} selected/[translation hint:date]":"{0} selezionati","Previous Month":"Mese precedente","Next Month":"Mese successivo"},"es-ES":{Previous:"Anterior",Next:"Siguiente","Today, {0} selected/[translation hint:date]":"Hoy, {0} seleccionados","Today, {0}/[translation hint:date]":"Hoy, {0}","{0} selected/[translation hint:date]":"{0} seleccionados","Previous Month":"Mes anterior","Next Month":"Mes siguiente"},"pt-BR":{Previous:"Anterior",Next:"Próximo","Today, {0} selected/[translation hint:date]":"Hoje, {0} selecionados","Today, {0}/[translation hint:date]":"Hoje, {0}","{0} selected/[translation hint:date]":"{0} selecionados","Previous Month":"Mês Anterior","Next Month":"Mês Seguinte"},"ja-JP":{Previous:"前へ",Next:"次へ","Today, {0} selected/[translation hint:date]":"今日、{0} が選択されました","Today, {0}/[translation hint:date]":"今日、{0}","{0} selected/[translation hint:date]":"{0} が選択されました","Previous Month":"前月","Next Month":"翌月"},"ko-KR":{Previous:"이전으로",Next:"다음","Today, {0} selected/[translation hint:date]":"현재 {0}이(가) 선택됨","Today, {0}/[translation hint:date]":"현재 {0}","{0} selected/[translation hint:date]":"{0}이(가) 선택됨","Previous Month":"지난 달","Next Month":"다음 달"},"zh-CN":{Previous:"上一步",Next:"下一步","Today, {0} selected/[translation hint:date]":"已选定今天 {0}","Today, {0}/[translation hint:date]":"今天 {0}","{0} selected/[translation hint:date]":"已选定 {0}","Previous Month":"上个月","Next Month":"下个月"},"zh-TW":{Previous:"上一頁",Next:"下一頁","Today, {0} selected/[translation hint:date]":"今天，已選取 {0}","Today, {0}/[translation hint:date]":"今天，{0}","{0} selected/[translation hint:date]":"已選取 {0} ","Previous Month":"上個月","Next Month":"下個月"},"nl-NL":{Previous:"Vorige",Next:"Volgende","Today, {0} selected/[translation hint:date]":"Vandaag {0} geselecteerd","Today, {0}/[translation hint:date]":"Vandaag {0} ","{0} selected/[translation hint:date]":"{0} geselecteerd","Previous Month":"Vorige maand","Next Month":"Volgende maand"},"da-DK":{Previous:"Foregående",Next:"Næste","Today, {0} selected/[translation hint:date]":"I dag, {0} valgt","Today, {0}/[translation hint:date]":"I dag, {0} ","{0} selected/[translation hint:date]":"{0} valgt","Previous Month":"Sidste måned","Next Month":"Næste måned"},"fi-FI":{Previous:"Edellinen",Next:"Seuraava","Today, {0} selected/[translation hint:date]":"Tänään, {0} valittu","Today, {0}/[translation hint:date]":"Tänään, {0}","{0} selected/[translation hint:date]":"{0} valittu","Previous Month":"Edellinen kuukausi","Next Month":"Seuraava kuukausi"},"nb-NO":{Previous:"Forrige",Next:"Neste","Today, {0} selected/[translation hint:date]":"I dag, {0} valgt","Today, {0}/[translation hint:date]":"I dag, {0}","{0} selected/[translation hint:date]":"{0} valgt","Previous Month":"Forrige måned","Next Month":"Neste måned"},"sv-SE":{Previous:"Föregående",Next:"Nästa","Today, {0} selected/[translation hint:date]":"Idag, {0} vald","Today, {0}/[translation hint:date]":"Idag, {0}","{0} selected/[translation hint:date]":"{0} vald","Previous Month":"Föregående månad","Next Month":"Nästa månad"},"cs-CZ":{Previous:"Předchozí",Next:"Další","Today, {0} selected/[translation hint:date]":"Dnes je vybráno: {0}","Today, {0}/[translation hint:date]":"Dnes, {0}","{0} selected/[translation hint:date]":"Vybráno: {0}","Previous Month":"Předchozí měsíc","Next Month":"Příští měsíc"},"pl-PL":{Previous:"Wstecz",Next:"Dalej","Today, {0} selected/[translation hint:date]":"Dziś, wybrano {0}","Today, {0}/[translation hint:date]":"Dziś, {0}","{0} selected/[translation hint:date]":"wybrano {0}","Previous Month":"Poprzedni miesiąc","Next Month":"Następny miesiąc"},"ru-RU":{Previous:"Предыдущий",Next:"Следующий","Today, {0} selected/[translation hint:date]":"Сегодня, {0}, выбрано","Today, {0}/[translation hint:date]":"Сегодня, {0}","{0} selected/[translation hint:date]":"{0} выбрано","Previous Month":"Предыдущий месяц","Next Month":"Следующий месяц"},"tr-TR":{Previous:"Önceki",Next:"İleri","Today, {0} selected/[translation hint:date]":"Bugün, {0} seçildi","Today, {0}/[translation hint:date]":"Bugün, {0}","{0} selected/[translation hint:date]":"{0} seçildi","Previous Month":"Önceki Ay","Next Month":"Gelecek Ay"}},window.Coral=window.Coral||{},window.Coral.templates=window.Coral.templates||{},window.Coral.templates.Calendar=window.Coral.templates.Calendar||{},window.Coral.templates.Calendar.calendar=function(e){var t=document.createDocumentFragment(),i=this.input=document.createElement("input");i.setAttribute("handle","input"),i.setAttribute("type","hidden"),i.setAttribute("name",""),t.appendChild(i);var n=document.createTextNode("\n");t.appendChild(n);var o=document.createElement("div");o.className+=" coral3-Calendar-calendarHeader";var a=document.createTextNode("\n  ");o.appendChild(a);var r=this.heading=document.createElement("div");r.setAttribute("handle","heading"),r.className+=" coral-Heading coral-Heading--2",r.id=Coral.commons.getUID(),r.setAttribute("role","heading"),r.setAttribute("aria-live","assertive"),r.setAttribute("aria-atomic","true"),o.appendChild(r);var s=document.createTextNode("\n  ");o.appendChild(s);var l=this.prev=document.createElement("button","coral-button");l.setAttribute("type","button"),l.setAttribute("handle","prev"),l.className+=" coral3-Calendar-prevMonth",l.setAttribute("is","coral-button"),l.setAttribute("variant","minimal"),l.setAttribute("icon","chevronLeft"),l.setAttribute("iconsize","XS"),l.setAttribute("aria-label",Coral.i18n.get("Previous Month")),l.setAttribute("title",Coral.i18n.get("Previous Month")),o.appendChild(l);var c=document.createTextNode("\n  ");o.appendChild(c);var d=this.next=document.createElement("button","coral-button");d.setAttribute("type","button"),d.setAttribute("handle","next"),d.className+=" coral3-Calendar-nextMonth",d.setAttribute("is","coral-button"),d.setAttribute("variant","minimal"),d.setAttribute("icon","chevronRight"),d.setAttribute("iconsize","XS"),d.setAttribute("aria-label",Coral.i18n.get("Next Month")),d.setAttribute("title",Coral.i18n.get("Next Month")),o.appendChild(d);var u=document.createTextNode("\n");o.appendChild(u),t.appendChild(o);var h=document.createTextNode("\n");t.appendChild(h);var p=this.body=document.createElement("div");return p.className+=" coral3-Calendar-calendarBody",p.setAttribute("handle","body"),p.setAttribute("role","grid"),p.setAttribute("tabindex","0"),p.setAttribute("aria-readonly","true"),t.appendChild(p),t},window.Coral.templates.Calendar.container=function(e){var t=this.container=document.createElement("div");return t.className+=" coral3-DatePicker-calendarSlidingContainer",t.setAttribute("handle","container"),t.setAttribute("style","width: "+e.width+"px; height: "+e.height+"px;"),t},window.Coral.templates.Calendar.table=function(e){var t=e=void 0===e?{}:e,i=this.table=document.createElement("table");i.setAttribute("handle","table"),i.setAttribute("role","presentation");var n=document.createTextNode("\n  ");i.appendChild(n);var o=document.createElement("thead");o.setAttribute("role","presentation");var a=document.createTextNode("\n    ");o.appendChild(a);var r=document.createElement("tr");r.setAttribute("role","row");var s=document.createTextNode("\n      ");r.appendChild(s);for(var l=0,c=(w=e.dayNames).length;l<c;l++){var d=t=w[l],u=document.createTextNode("\n        ");r.appendChild(u);var h=document.createElement("th");h.setAttribute("role","columnheader"),h.setAttribute("scope","col");var p=document.createTextNode("\n          ");h.appendChild(p);var m=document.createElement("abbr");m.className+=" coral3-Calendar-dayOfWeek",m.setAttribute("title",d.dayFullName),m.textContent=d.dayAbbr,h.appendChild(m);var f=document.createTextNode("\n        ");h.appendChild(f),r.appendChild(h);var g=document.createTextNode("\n      ");r.appendChild(g)}var v=document.createTextNode("\n    ");r.appendChild(v),o.appendChild(r);var b=document.createTextNode("\n  ");o.appendChild(b),i.appendChild(o);var _=document.createTextNode("\n  ");i.appendChild(_);var C=document.createElement("tbody");C.setAttribute("role","presentation");var y=document.createTextNode("\n    ");C.appendChild(y);var w;for(l=0,c=(w=e.weeks).length;l<c;l++){d=t=w[l];var A=document.createTextNode("\n      ");C.appendChild(A);var x=document.createElement("tr");x.setAttribute("role","row");var S=document.createTextNode("\n        ");x.appendChild(S);for(var T=d,I=0,E=T.length;I<E;I++){var k,L=t=T[I],N=document.createTextNode("\n          ");x.appendChild(N);var O=(t=L).dateLabel+", "+t.formattedDate;k=t.isToday?t.ariaSelected?Coral.i18n.get("Today, {0} selected",O,"date"):Coral.i18n.get("Today, {0}",O,"date"):t.ariaSelected?Coral.i18n.get("{0} selected",O,"date"):k=O,L=t;var M=document.createTextNode("\n          ");x.appendChild(M);var F=document.createElement("td");F.setAttribute("role","gridcell"),F.id=Coral.commons.getUID()+"-row"+l+"-col"+I,F.className+=" "+L.cssClass,F.setAttribute("aria-selected",L.ariaSelected),L.isDisabled&&F.setAttribute("aria-disabled","true"),L.ariaInvalid&&F.setAttribute("aria-invalid","true"),L.formattedDate&&F.setAttribute("title",k);var D=document.createTextNode("\n            ");if(F.appendChild(D),L.dateAttr){var P=document.createTextNode("\n                ");F.appendChild(P);var R=document.createElement("a");R.setAttribute("role","presentation"),R.className+=" coral3-Calendar-date",R.setAttribute("data-date",L.dateAttr),R.textContent=L.dateText,F.appendChild(R);var B=document.createTextNode("\n              ");F.appendChild(B)}else{var U=document.createTextNode("\n                ");F.appendChild(U);var H=document.createElement("span");H.setAttribute("role","presentation"),H.className+=" coral3-Calendar-secondaryDate",H.textContent=L.dateText,F.appendChild(H);var $=document.createTextNode("\n            ");F.appendChild($)}var z=document.createTextNode("\n          ");F.appendChild(z),x.appendChild(F);var V=document.createTextNode("\n        ");x.appendChild(V)}var q=document.createTextNode("\n      ");x.appendChild(q),C.appendChild(x);var W=document.createTextNode("\n    ");C.appendChild(W)}var j=document.createTextNode("\n  ");C.appendChild(j),i.appendChild(C);var K=document.createTextNode("\n  ");i.appendChild(K);var Z=document.createElement("caption");Z.className+=" u-coral-screenReaderOnly",Z.setAttribute("aria-live","assertive"),Z.setAttribute("aria-atomic","true"),i.appendChild(Z);var G=document.createTextNode("\n");return i.appendChild(G),i},function(){"use strict";function e(e,t,i){return null===t&&null===i||(null===t?e<=i:null===i?e>=t:t<=e&&e<=i)}function t(e,t){if("today"===e)return moment().startOf("day");if(moment.isMoment(e))return e.isValid()?e.clone():null;var i=moment(e,e instanceof Date?null:t);return i.isValid()?i:null}function i(){}function n(e,t){return(e=e||null)!==(t=t||null)&&!moment(e).isSame(t,"day")&&(null===e||e.isValid())}function o(e){this.host=e,this._addContainerIfNotPresent=function(e,t){this.container||(Coral.templates.Calendar.container.call(this,{width:e,height:t}),this.host.appendChild(this.container))},this._removeContainerIfEmpty=function(){this.container&&0===this.container.children.length&&(this.host.removeChild(this.container),this.container=null)},this.slide=function(e,t){var i=void 0===t,n="left"===t,o=this.oldTable;if(i||!o)return o&&o.parentNode.removeChild(o),this.host.insertBefore(e,this.host.firstChild),void(this.oldTable=e);var a=o.getBoundingClientRect(),r=a.width,s=a.height;this._addContainerIfNotPresent(r,s),this.container.appendChild(o),this.container.appendChild(e),o.classList.add("coral3-Calendar-table--transit"),Coral.commons.transitionEnd(o,function(){o.parentNode.removeChild(o),this._removeContainerIfEmpty()}.bind(this)),e.classList.add("coral3-Calendar-table--transit"),e.style.left=(n?r:-r)+"px",Coral.commons.transitionEnd(e,function(){e.classList.remove("coral3-Calendar-table--transit"),this.host.appendChild(e),this._removeContainerIfEmpty()}.bind(this)),s=this.container.offsetWidth,o.style.left=(n?-r:r)+"px",e.style.left=0,this.oldTable=e}}var a=[0,0,0,0,0,0],r=[0,0,0,0,0,0,0],s="year",l="month",c="week",d="day";Coral.register({name:"Calendar",tagName:"coral-calendar",className:"coral3-Calendar",mixins:[Coral.mixin.formField],events:{"click .coral3-Calendar-nextMonth,.coral3-Calendar-prevMonth":"_onNextOrPreviousMonthClick","click .coral3-Calendar-calendarBody .coral3-Calendar-date":"_onDayClick","mousedown .coral3-Calendar-calendarBody .coral3-Calendar-date":"_onDayMouseDown","key:up .coral3-Calendar-calendarBody":"_onUpKey","key:right .coral3-Calendar-calendarBody":"_onRightKey","key:down .coral3-Calendar-calendarBody":"_onDownKey","key:left .coral3-Calendar-calendarBody":"_onLeftKey","key:home .coral3-Calendar-calendarBody":"_onHomeOrEndKey","key:end .coral3-Calendar-calendarBody":"_onHomeOrEndKey","key:pageup":"_onPageUpKey","key:pagedown":"_onPageDownKey","key:meta+pageup":"_onCtrlPageUpKey","key:meta+pagedown":"_onCtrlPageDownKey","key:ctrl+pageup":"_onCtrlPageUpKey","key:ctrl+pagedown":"_onCtrlPageDownKey","key:alt+pageup":"_onCtrlPageUpKey","key:alt+pagedown":"_onCtrlPageDownKey","key:shift+pageup":"_onCtrlPageUpKey","key:shift+pagedown":"_onCtrlPageDownKey","key:enter .coral3-Calendar-calendarBody":"_onEnterKey","key:return .coral3-Calendar-calendarBody":"_onEnterKey","key:space .coral3-Calendar-calendarBody":"_onEnterKey"},properties:{startDay:{default:"undefined"!=typeof moment&&moment.localeData(Coral.i18n.locale)&&void 0!==moment.localeData(Coral.i18n.locale).firstDayOfWeek?moment.localeData(Coral.i18n.locale).firstDayOfWeek():0,attribute:"startday",transform:Coral.transform.number,validate:[Coral.validate.valueMustChange,function(e){return e>=0&&e<7}],sync:i,alsoSync:["_renderCalendarFlag"]},headerFormat:{default:"MMMM YYYY",attribute:"headerformat",sync:i,alsoSync:["_renderCalendarFlag"]},min:{default:null,transform:function(e){return t(e,this.valueFormat)},validate:n,get:function(){return this._min?this._min.toDate():null},sync:i,alsoSync:["_renderCalendarFlag"]},max:{default:null,transform:function(e){return t(e,this.valueFormat)},validate:n,get:function(){return this._max?this._max.toDate():null},sync:i,alsoSync:["_renderCalendarFlag"]},valueFormat:{default:"YYYY-MM-DD",attribute:"valueformat",reflectAttribute:!0,set:function(e){this._valueFormat=e,this._elements.input.value=this.value}},value:{transform:function(e){return t(e,this.valueFormat)},validate:function(e,t){return n(e,this._value)},get:function(){return this._value?this._value.format(this.valueFormat):""},set:function(e){this._value=e,this._elements.input.value=this.value,this._cursor=null,this._queueSync("_renderCalendarFlag","required")}},valueAsDate:{attribute:null,transform:function(e){return e instanceof Date?moment(e):""},get:function(){return this._value?this._value.toDate():null},set:function(e){this.value=e}},name:{get:function(){return this._elements.input.name},set:function(e){this._elements.input.name=e}},required:{sync:function(){this.classList.toggle("is-required",this.required&&null===this._value)}},disabled:{sync:function(){this.classList.toggle("is-disabled",this.disabled),this._elements.prev.disabled=this.disabled,this._elements.next.disabled=this.disabled,this._elements.body.setAttribute("aria-disabled",this.disabled),this._elements.body[this.disabled?"removeAttribute":"setAttribute"]("tabindex","0")},alsoSync:["_renderCalendarFlag"]},invalid:{sync:function(){this.classList.toggle("is-invalid",this.invalid)},alsoSync:["_renderCalendarFlag"]},_renderCalendarFlag:{attribute:null,sync:function(){this._renderCalendar()}}},focus:function(){this._elements.body.querySelector(".is-focused")===document.activeElement||this.disabled||(this._setActiveDescendant(),this._elements.body.focus())},_render:function(){for(;this.firstChild;)this.removeChild(this.firstChild);this.appendChild(Coral.templates.Calendar.calendar.call(this._elements))},_initialize:function(){this._cursor=null,this._activeDescendant=null,this._animator=new o(this._elements.body),this.setAttribute("role","region")},_renderCalendar:function(e){var t=this._requireCursor(),i=t.year(),n=t.month(),o=this,a=this._animator.oldTable;this._elements.heading.innerHTML=moment([i,n,1]).format(this.headerFormat);var r=this._renderTable(i,n+1);a&&Coral.commons.transitionEnd(r,(function(){Coral.commons.nextFrame((function(){o._setActiveDescendant()}))})),this._animator.slide(r,e);var s=this._elements.body.querySelector(".is-selected"),l=s?s.id:null;this._activeDescendant=l,this._setActiveDescendant()},_isBeforeMin:function(e,t){var i=this.min?moment(this.min):null;return i&&e.isBefore(i,t)},_isAfterMax:function(e,t){var i=this.max?moment(this.max):null;return i&&e.isAfter(i,t)},_isInRange:function(e,t){return!(this._isBeforeMin(e,t)||this._isAfterMax(e,t))},_setActiveDescendant:function(){var e;if(!this._activeDescendant||!this._elements.body.querySelector("#"+this._activeDescendant+" [data-date]")){this._activeDescendant=null;var t=(e=this._elements.body.querySelector(".is-selected"))?e.id:null,i=(e=this._elements.body.querySelector(".is-today"))?e.id:null;if(this._activeDescendant=t||i,!this._activeDescendant||!this._elements.body.querySelector("#"+this._activeDescendant+" [data-date]")){var n=this._value;if(n){var o=this._elements.body.querySelectorAll("[data-date]");o.length&&(this._isBeforeMin(n)?e=o[0]:this._isAfterMax(n)&&(e=o[o.length-1]))}e&&(this._activeDescendant=e.parentElement.id)}}(e=this._elements.body.querySelector(".is-focused"))&&e.classList.remove("is-focused"),this._elements.body.setAttribute("aria-activedescendant",this._activeDescendant),this._updateTableCaption(),this._activeDescendant&&(e=document.getElementById(this._activeDescendant))&&e.classList.add("is-focused")},_updateTableCaption:function(){var e=this._elements.body.querySelector("caption");if(e&&(e.firstChild&&e.removeChild(e.firstChild),this._activeDescendant)){var t=this._elements.body.querySelector("#"+this._activeDescendant),i=document.createTextNode(t.getAttribute("title"));e.appendChild(i)}},_renderTable:function(t,i){var n=(moment([t,i-1,1]).day()-this.startDay)%7,o=this._value?this._value.clone().startOf("day"):null;n<0&&(n+=7);var s={dayNames:r.map((function(e,t,i){var n=moment().day((t+this.startDay)%7);return{dayAbbr:n.format("dd"),dayFullName:n.format("dddd")}}),this),weeks:a.map((function(a,s){return r.map((function(a,r){var l={},c=this.disabled?["is-disabled"]:[],d=!1,u=!1,h=7*s+r-n,p=moment([t,i-1]);p.add(h,"days");var m=p.month()+1===parseFloat(i),f=moment().day((r+this.startDay)%7).format("dddd"),g=p.isSame(moment(),"day"),v=p.clone().startOf("day");return g&&c.push("is-today"),o&&v.isSame(o,"day")&&(d=!0,c.push("is-selected"),this.invalid&&(u=!0,c.push("is-invalid"))),m&&(c.push("is-currentMonth"),!this.disabled&&e(p,this.min,this.max)&&(l.dateAttr=v.local().format("YYYY-MM-DD"),l.weekIndex=p.week(),l.formattedDate=p.format("LL"))),l.isDisabled=this.disabled||!l.dateAttr,l.dateText=p.date(),l.cssClass=c.join(" "),l.isToday=g,l.ariaSelected=d,l.ariaInvalid=u,l.dateLabel=f,l.weekIndex=p.week(),l}),this)}),this)},l={};return Coral.templates.Calendar.table.call(l,s),l.table},_requireCursor:function(){var e=this._cursor;return e&&e.isValid()||(e=(this._value?this._value.clone().startOf("day"):moment()).startOf("month"),this._cursor=e),e},_gotoPreviousOrNextTimeUnit:function(e,t){var i,n,o,a=t?"left":"right",r=t?"add":"subtract",s=this._elements.body.querySelector("td.is-focused .coral3-Calendar-date");if(s)i=s.dataset.date,n=moment(i)[r](1,e),this._isInRange(n)||(this._isBeforeMin(n)?n=this.min:this._isAfterMax(n)&&(n=this.max),n=moment(n)),o=Math.abs(moment(i).diff(n,"days")),this._getToNewMoment(null,a,r,o),this._setActiveDescendant();else{if(this._requireCursor(),!this._isInRange(this._cursor,e))return this._isBeforeMin(this._cursor)?n=this.min:this._isAfterMax(this._cursor)&&(n=this.max),n=moment(n),o=Math.abs(this._cursor.diff(n,"days")),this._getToNewMoment(null,a,r,o),void this._setActiveDescendant();this._cursor[r](1,e),this._renderCalendar(a)}},_validateCalendar:function(){this.invalid=!(null===this._value||e(this._value,this.min,this.max))},_onNextOrPreviousMonthClick:function(e){e.preventDefault(),this._gotoPreviousOrNextTimeUnit(e.altKey||e.metaKey||e.shiftKey?s:l,this._elements.next===e.matchedTarget),e.matchedTarget.focus(),this._validateCalendar()},_getToNewMoment:function(e,t,i,n){var o,a=this._elements.body.querySelector("td.is-focused .coral3-Calendar-date");a?o=a.dataset.date:(this._requireCursor(),o=this._cursor.local().format("YYYY-MM-DD"));var r=moment(o),s=r.month(),l=r.year(),c=r[i](n,"days"),d=c.month(),u=c.year(),h=c.local().format("YYYY-MM-DD");d!==s?(this._requireCursor(),this._cursor[i](1,"months"),this._renderCalendar(t)):d===s&&u!==l&&(this._requireCursor(),this._cursor[i](1,"years"),this._renderCalendar(t));var p=".coral3-Calendar-date[data-date^="+JSON.stringify(h)+"]",m=this._elements.body.querySelector(p);if(m){var f=m.parentNode.getAttribute("id");this._activeDescendant=f}},_onDayMouseDown:function(e){this._activeDescendant=e.target.parentNode.id,this._setActiveDescendant(),this._elements.body.focus(),this._validateCalendar()},_onDayClick:function(e){e.preventDefault(),this._elements.body.focus();var t,i=moment(e.target.dataset.date,"YYYY-MM-DD");this._value&&(t=this._value.clone()),n(i,t)&&(this.value=i.local(),this.trigger("change")),this._validateCalendar()},_onEnterKey:function(e){e.preventDefault();var t=this._elements.body.querySelector("td.is-focused .coral3-Calendar-date");t&&t.click(),this._validateCalendar()},_onUpKey:function(e){e.preventDefault(),e.stopPropagation(),this._gotoPreviousOrNextTimeUnit(c,!1),this._validateCalendar()},_onDownKey:function(e){e.preventDefault(),e.stopPropagation(),this._gotoPreviousOrNextTimeUnit(c,!0),this._validateCalendar()},_onRightKey:function(e){e.preventDefault(),e.stopPropagation(),this._gotoPreviousOrNextTimeUnit(d,!0),this._validateCalendar()},_onLeftKey:function(e){e.preventDefault(),e.stopPropagation(),this._gotoPreviousOrNextTimeUnit(d,!1),this._validateCalendar()},_onHomeOrEndKey:function(e){e.preventDefault(),e.stopPropagation();var t=e.keyCode===Coral.Keys.keyToCode("home"),i=t?"subtract":"add",n=this._elements.body.querySelector("td.is-focused .coral3-Calendar-date");if(n){var o=n.dataset.date,a=moment(o),r=t?a.date()-1:a.daysInMonth()-a.date();this._getToNewMoment(e,"",i,r),this._setActiveDescendant()}this._validateCalendar()},_onPageDownKey:function(e){e.preventDefault(),e.stopPropagation(),this._gotoPreviousOrNextTimeUnit(l,!0),this._validateCalendar()},_onPageUpKey:function(e){e.preventDefault(),e.stopPropagation(),this._gotoPreviousOrNextTimeUnit(l,!1),this._validateCalendar()},_onCtrlPageDownKey:function(e){e.preventDefault(),e.stopPropagation(),this._gotoPreviousOrNextTimeUnit(s,!0),this._validateCalendar()},_onCtrlPageUpKey:function(e){e.preventDefault(),e.stopPropagation(),this._gotoPreviousOrNextTimeUnit(s,!1),this._validateCalendar()}})}(),function(){"use strict";var e={DEFAULT:"default",CONDENSED:"condensed",INVERTED:"inverted",ASSET:"asset"},t=[];for(var i in e)t.push("coral3-Card--"+e[i]);Coral.register({name:"Card",tagName:"coral-card",className:"coral3-Card",events:{"capture:load coral-card-asset img":"_onLoad"},properties:{asset:Coral.property.contentZone({handle:"asset",tagName:"coral-card-asset",insert:function(e){this.insertBefore(e,this.info||this._elements.wrapper||null)}}),assetHeight:{default:"",attribute:"assetheight",transform:Coral.transform.number,sync:function(){if(!this._loaded&&this._elements.asset&&this.assetWidth&&this.assetHeight){var e=this.getBoundingClientRect(),t=(e.right-e.left)/this.assetWidth;t>1?this._elements.asset.style.height=this.assetHeight+32+"px":this.variant!==Coral.Card.variant.CONDENSED&&this.variant!==Coral.Card.variant.INVERTED&&(this._elements.asset.style.height=t*this.assetHeight+"px")}}},assetWidth:{default:"",attribute:"assetwidth",transform:Coral.transform.number},colorHint:{attribute:"colorhint",validate:[Coral.validate.valueMustChange,function(e){return/^#[0-9A-F]{6}$/i.test(e)}],sync:function(){this._loaded||(this._elements.asset.style["background-color"]=this.colorHint)}},content:Coral.property.contentZone({handle:"content",tagName:"coral-card-content",defaultContentZone:!0,insert:function(e){this._elements.wrapper.insertBefore(e,this.overlay||null)}}),info:Coral.property.contentZone({handle:"info",tagName:"coral-card-info",insert:function(e){this.appendChild(e)}}),fixedWidth:{default:!1,attribute:"fixedwidth",reflectAttribute:!0,transform:Coral.transform.boolean,attributeTransform:Coral.transform.booleanAttr,sync:function(){this.classList.toggle(this._className+"--fixedWidth",this.fixedWidth)}},overlay:Coral.property.contentZone({handle:"overlay",tagName:"coral-card-overlay",insert:function(e){this._elements.wrapper.appendChild(e)}}),stacked:{default:!1,reflectAttribute:!0,transform:Coral.transform.boolean,attributeTransform:Coral.transform.booleanAttr,sync:function(){this.classList.toggle(this._className+"--stacked",this.stacked)}},variant:{default:e.DEFAULT,validate:[Coral.validate.valueMustChange,Coral.validate.enumeration(e)],sync:function(){this.classList.remove.apply(this.classList,t),this.variant!==Coral.Card.variant.DEFAULT&&this.classList.add(this._className+"--"+this.variant)},alsoSync:"assetHeight"}},_onLoad:function(e){this._loaded=!0,this._elements.asset.style.height="",e.target.classList.remove("is-loading")},_render:function(){var e=this.querySelector("coral-card-asset")||document.createElement("coral-card-asset"),t=this.querySelector("coral-card-info"),i=this.querySelector("coral-card-overlay"),n=this.querySelector("coral-card-content"),o=this._elements.wrapper=document.createElement("div");o.className="coral3-Card-wrapper";for(var a=e.querySelectorAll("img"),r=a.length,s=0;s<r;s++){var l=a[s];l.complete||l.classList.add("is-loading")}if(null===n)for(n=document.createElement("coral-card-content");this.firstChild;)this.firstChild.nodeType===Node.TEXT_NODE&&""===this.firstChild.textContent.trim()?this.removeChild(this.firstChild):n.appendChild(this.firstChild);i&&(this.overlay=i),this.content=n,t&&(this.info=t),this.appendChild(o),this.asset=e}}),Coral.Card.variant=e,Coral.Card.Asset=function(){return document.createElement("coral-card-asset")},Coral.Card.Overlay=function(){return document.createElement("coral-card-overlay")},Coral.Card.Info=function(){return document.createElement("coral-card-info")},Coral.Card.Content=function(){return document.createElement("coral-card-content")},Coral.Card.PropertyList=function(){return document.createElement("coral-card-propertylist")},Coral.register({name:"Card.Property",tagName:"coral-card-property",className:"coral3-Card-property",properties:{content:Coral.property.contentZone({handle:"content",tagName:"coral-card-property-content",defaultContentZone:!0,insert:function(e){this.appendChild(e)}}),icon:{get:function(){return this._elements.icon.icon},set:function(e){this._elements.icon.icon=e},sync:function(){""===this.icon?this._elements.icon.remove():this._elements.icon.parentNode||this.insertBefore(this._elements.icon,this.firstChild)},alsoSync:"title"},title:{get:function(){return this.getAttribute("title")},set:function(e){this[e&&""!==e?"setAttribute":"removeAttribute"]("title",e)},transform:Coral.transform.string,sync:function(){this._elements.icon.parentNode&&(this._elements.icon.alt=this.title||"")}}},_render:function(){this._elements.icon=document.createElement("coral-icon"),this._elements.icon.size=Coral.Icon.size.EXTRA_SMALL,this._elements.icon.className+=" coral3-Card-property-icon";var e=this.querySelector("coral-card-property-content");if(null===e)for(e=document.createElement("coral-card-property-content");this.firstChild;)e.appendChild(this.firstChild);this.content=e}}),Coral.Card.Property.Content=function(){return document.createElement("coral-card-property-content")},Coral.register({name:"Card.Title",tagName:"coral-card-title",className:"coral3-Card-title",properties:{content:{contentZone:!0,set:function(){},get:function(){return this}}}}),Coral.register({name:"Card.Subtitle",tagName:"coral-card-subtitle",className:"coral3-Card-subtitle",properties:{content:{contentZone:!0,set:function(){},get:function(){return this}}}}),Coral.register({name:"Card.Context",tagName:"coral-card-context",className:"coral3-Card-context",properties:{content:{contentZone:!0,set:function(){},get:function(){return this}}}}),Coral.register({name:"Card.Description",tagName:"coral-card-description",className:"coral3-Card-description",properties:{content:{contentZone:!0,set:function(){},get:function(){return this}}}})}(),function(){"use strict";var e={PREVIOUS:"_prev",NEXT:"_next"};Coral.register({name:"CharacterCount",tagName:"coral-charactercount",className:"coral3-CharacterCount",properties:{target:{default:e.PREVIOUS,validate:function(e){return"string"==typeof e||e instanceof Node},set:function(t){this._target=t,this._targetEl&&this._targetEl.removeEventListener("input",this._refreshCharCount.bind(this)),this._targetEl=t===e.NEXT?this.nextElementSibling:t===e.PREVIOUS?this.previousElementSibling:"string"==typeof t?document.querySelector(t):t,this._targetEl&&(this._targetEl.addEventListener("input",this._refreshCharCount.bind(this)),this._targetEl.getAttribute("maxlength")&&(this.maxLength=this._targetEl.getAttribute("maxlength")))}},maxLength:{default:null,attribute:"maxlength",reflectAttribute:!0,transform:Coral.transform.number,sync:function(){this._refreshCharCount()}}},_getCharCount:function(){var e=this._targetEl?this._targetEl.value.length:0;return this._maxLength?this._maxLength-e:e},_refreshCharCount:function(){var e=this._getCharCount();this.innerHTML=e;var t=e<0;this._targetEl&&(this._targetEl.classList.toggle("is-invalid",t),this.classList.toggle("is-invalid",t))}}),Coral.CharacterCount.target=e}(),window.Coral=window.Coral||{},window.Coral.templates=window.Coral.templates||{},window.Coral.templates.SelectList=window.Coral.templates.SelectList||{},window.Coral.templates.SelectList.loadIndicator=function(e){var t=this.loadIndicator=document.createElement("div");t.setAttribute("handle","loadIndicator"),t.className+=" coral3-SelectList-loading";var i=document.createTextNode("\n  ");t.appendChild(i);var n=document.createElement("coral-wait");n.setAttribute("centered",""),t.appendChild(n);var o=document.createTextNode("\n");return t.appendChild(o),t},function(){"use strict";var e=function(e,t){this._host=e,this._itemTagName=t};(e.prototype=Object.create(Coral.Collection.prototype)).add=function(e,t){if(!(e instanceof HTMLElement)){var i=e;(e=document.createElement(this._itemTagName)).set(i,!0)}return this._host.insertBefore(e,t||null)},e.prototype.getAll=function(){return this._host.id=this._host.id||Coral.commons.getUID(),Array.prototype.slice.call(this._host.getElementsByTagName(this._itemTagName))},Coral.register({name:"SelectList",tagName:"coral-selectlist",className:"coral3-SelectList",mixins:[Coral.mixin.selectionList({role:"listbox",itemTagName:"coral-selectlist-item"})],events:{scroll:"_onScroll","capture:focus":"_onFocus","capture:blur":"_onBlur","click coral-selectlist-item":"_onItemClick","capture:mouseenter coral-selectlist-item":"_onItemMouseEnter","capture:mouseleave coral-selectlist-item":"_onItemMouseLeave","key:space coral-selectlist-item":"_onToggleItemKey","key:return coral-selectlist-item":"_onToggleItemKey","key:pageup coral-selectlist-item":"_focusPreviousItem","key:left coral-selectlist-item":"_focusPreviousItem","key:up coral-selectlist-item":"_focusPreviousItem","key:pagedown coral-selectlist-item":"_focusNextItem","key:right coral-selectlist-item":"_focusNextItem","key:down coral-selectlist-item":"_focusNextItem","key:home coral-selectlist-item":"_onHomeKey","key:end coral-selectlist-item":"_onEndKey","keypress coral-selectlist-item":"_onKeyPress"},properties:{groups:{set:function(){},get:function(){return this._groups||(this._groups=new e(this,"coral-selectlist-group")),this._groups}},loading:{default:!1,reflectAttribute:!0,transform:Coral.transform.boolean,attributeTransform:Coral.transform.booleanAttr,set:function(e){this._loading=e;var t=this._elements.loadIndicator;if(this.loading){t||(t=Coral.templates.SelectList.loadIndicator.call(this._elements));var i=this.scrollTop>=this.scrollHeight-this.clientHeight;this.appendChild(t),i&&(this.scrollTop=this.scrollHeight)}else t&&t.parentNode&&this.removeChild(t)}},_tabTarget:{default:null,sync:function(){var e=this._tabTarget,t=this.items.getAll(),i=this._groups;i&&i.getAll().length>0?i.getAll().forEach((function(t){var i=t.firstElementChild;if(t.items.getAll().length>0){i._isTabTarget=!0;for(var n=t.items.getAll(),o=1;o<n.length;o++)n[o]===e?(n[o]._isTabTarget=!0,i._isTabTarget=!1):n[o]._isTabTarget=!1}})):t.forEach((function(t){t._isTabTarget=t===e}))}}},_onItemMouseEnter:function(e){e.target.disabled||(this.classList.contains("is-focused")?this._focusItem(e.target):e.target.classList.add("is-highlighted"))},_onItemMouseLeave:function(e){e.target.classList.remove("is-highlighted")},_onFocus:function(e){this.classList.add("is-focused")},_onBlur:function(e){this._resetTabTarget(),this.classList.remove("is-focused")},_onItemClick:function(e){var t=e.matchedTarget;if(t){e.preventDefault(),e.stopPropagation();var i=t.selected;this._selectItem(t),this._focusItem(t),i===t.selected&&this.trigger("coral-selectlist:change",{oldSelection:this._getSelection(),selection:this._getSelection()})}},_focusItem:function(e){e&&e.focus(),this._tabTarget=e},_onToggleItemKey:function(e){e.preventDefault(),e.stopPropagation();var t=e.target,i=t.selected;this._selectItem(t),this._focusItem(t),i===t.selected&&this.trigger("coral-selectlist:change",{oldSelection:this._getSelection(),selection:this._getSelection()})},_focusPreviousItem:function(e){e.preventDefault(),e.stopPropagation(),this._focusItem(this.items.getPreviousSelectable(e.target))},_focusNextItem:function(e){e.preventDefault(),e.stopPropagation(),this._focusItem(this.items.getNextSelectable(e.target))},_onHomeKey:function(e){e.preventDefault(),e.stopPropagation(),this._focusItem(this.items.getFirstSelectable())},_onEndKey:function(e){e.preventDefault(),e.stopPropagation(),this._focusItem(this.items.getLastSelectable())},_keypressTimeoutID:null,_keypressSearchString:"",_onKeyPress:function(e){var t=this,i=String.fromCharCode(e.which);clearTimeout(this._keypressTimeoutID),i!==this._keypressSearchString&&(this._keypressSearchString+=i),this._keypressTimeoutID=setTimeout((function(){t._keypressSearchString=""}),1e3);var n,o,a,r=this.items._getSelectableItems(),s=r.indexOf(this._tabTarget);this._keypressSearchString=this._keypressSearchString.trim().toLowerCase();for(var l=n=-1===s?0:1===this._keypressSearchString.length?s+1:s;l<r.length;l++)if(0===(a=r[l]).textContent.trim().toLowerCase().indexOf(this._keypressSearchString)){o=a;break}if(!o)for(var c=0;c<n;c++)if(0===(a=r[c]).textContent.trim().toLowerCase().indexOf(this._keypressSearchString)){o=a;break}void 0!==o&&this._focusItem(o)},_onItemSelected:function(){this._resetTabTarget()},_onItemDeselected:function(){this._resetTabTarget()},_onItemAttached:function(){this._resetTabTarget()},_onItemDetached:function(){this._resetTabTarget()},_resetTabTarget:function(){this._resetTabTargetScheduled||(this._resetTabTargetScheduled=!0,Coral.commons.nextFrame(function(){this._resetTabTargetScheduled=!1;var e=this.items._getNonNestedItems().filter((function(e){return e.hasAttribute("selected")&&!e.hasAttribute("disabled")&&!e.hasAttribute("hidden")}));this._tabTarget=e.length?e[0]:this.items.getFirstSelectable()}.bind(this)))},_onScroll:function(){clearTimeout(this._scrollTimeout),this._scrollTimeout=setTimeout(this._onDebouncedScroll,100)},_onDebouncedScroll:function(){this.scrollTop>=this.scrollHeight-this.clientHeight-50&&this.trigger("coral-selectlist:scrollbottom")},_initialize:function(){this._onDebouncedScroll=this._onDebouncedScroll.bind(this)},focus:function(){this.contains(document.activeElement)||(this._resetTabTarget(),this._focusItem(this._tabTarget))}}),Coral.register({name:"SelectList.Item",tagName:"coral-selectlist-item",className:"coral3-SelectList-item",mixins:[Coral.mixin.selectionList.Item({listSelector:"coral-selectlist",role:"option"})],events:{focus:"_onFocus",blur:"_onBlur"},properties:{value:{reflectAttribute:!0,transform:Coral.transform.string,get:function(){return void 0===this._value?this.textContent:this._value}},content:{contentZone:!0,set:function(){},get:function(){return this}},_isTabTarget:{default:!1,sync:function(){this.setAttribute("tabindex",this.__isTabTarget?0:-1)}}},_onFocus:function(e){this.classList.add("is-highlighted")},_onBlur:function(e){this.classList.remove("is-highlighted")}}),Coral.register({name:"SelectList.Group",tagName:"coral-selectlist-group",className:"coral3-SelectList-group",properties:{label:{reflectAttribute:!0,transform:Coral.transform.string,sync:function(){this.setAttribute("aria-label",this.label)}},items:{set:function(){},get:function(){return this._groups||(this._groups=new e(this,"coral-selectlist-item")),this._groups}}},_initialize:function(){this.setAttribute("role","group")}})}(),window.Coral=window.Coral||{},window.Coral.strings=window.Coral.strings||{},window.Coral.strings["coralui-component-select"]={"en-US":{Select:"Select"},"fr-FR":{Select:"Sélectionner"},"de-DE":{Select:"Auswählen"},"it-IT":{Select:"Seleziona"},"es-ES":{Select:"Seleccionar"},"pt-BR":{Select:"Selecionar"},"ja-JP":{Select:"選択"},"ko-KR":{Select:"선택"},"zh-CN":{Select:"选择"},"zh-TW":{Select:"選取"},"nl-NL":{Select:"Selecteren"},"da-DK":{Select:"Vælg"},"fi-FI":{Select:"Valitse"},"nb-NO":{Select:"Velg"},"sv-SE":{Select:"Välj"},"cs-CZ":{Select:"Vybrat"},"pl-PL":{Select:"Wybierz"},"ru-RU":{Select:"Выберите"},"tr-TR":{Select:"Seç"}},window.Coral=window.Coral||{},window.Coral.templates=window.Coral.templates||{},window.Coral.templates.Select=window.Coral.templates.Select||{},window.Coral.templates.Select.base=function(e){var t=document.createDocumentFragment(),i=e=void 0===e?{}:e;i=e;var n=Coral.commons.getUID(),o=Coral.commons.getUID(),a=Coral.commons.getUID();e=i;var r=document.createTextNode("\n");t.appendChild(r);var s=this.button=document.createElement("button","coral-button");s.setAttribute("tracking","off"),s.setAttribute("handle","button"),s.setAttribute("type","button"),s.setAttribute("is","coral-button"),s.setAttribute("block",""),s.setAttribute("aria-haspopup","true"),s.id=n,s.setAttribute("aria-controls",o),s.setAttribute("aria-expanded","false"),s.setAttribute("aria-labelledby",a),s.className+=" coral3-Select-button";var l=document.createTextNode("\n  ");s.appendChild(l);var c=this.icon=document.createElement("coral-icon");c.setAttribute("handle","icon"),c.setAttribute("icon","chevronDown"),c.setAttribute("size","xs"),c.className+=" coral3-Select-openIcon",s.appendChild(c);var d=document.createTextNode("\n  ");s.appendChild(d);var u=this.label=document.createElement("span");u.id=a,u.setAttribute("handle","label"),u.className+=" coral3-Select-label",u.textContent="​",s.appendChild(u);var h=document.createTextNode("\n");s.appendChild(h),t.appendChild(s);var p=document.createTextNode("\n");t.appendChild(p);var m=this.overlay=document.createElement("coral-overlay");m.setAttribute("tracking","off"),m.setAttribute("handle","overlay"),m.className+=" coral3-Select-overlay",m.setAttribute("trapfocus","on"),m.setAttribute("focusonshow","on"),m.setAttribute("role","presentation"),m.setAttribute("offset","-1"),m.setAttribute("alignmy","left top"),m.setAttribute("alignat","left bottom");var f=document.createTextNode("\n  ");m.appendChild(f);var g=this.list=document.createElement("coral-selectlist");g.setAttribute("tracking","off"),g.setAttribute("handle","list"),g.className+=" coral3-Select-selectList",g.setAttribute("role","listbox"),g.id=o,m.appendChild(g);var v=document.createTextNode("\n");m.appendChild(v),t.appendChild(m);var b=document.createTextNode("\n");t.appendChild(b);var _=this.input=document.createElement("input");_.setAttribute("handle","input"),_.setAttribute("type","hidden"),t.appendChild(_);var C=document.createTextNode("\n");t.appendChild(C);var y=this.nativeSelect=document.createElement("select");y.setAttribute("handle","nativeSelect"),y.className+=" coral3-Select-select",y.setAttribute("tabindex","-1"),t.appendChild(y);var w=document.createTextNode("\n");t.appendChild(w);var A=this.taglist=document.createElement("coral-taglist");A.setAttribute("tracking","off"),A.setAttribute("handle","taglist"),A.className+=" coral3-Select-tagList",t.appendChild(A);var x=document.createTextNode("\n");return t.appendChild(x),t},function(){"use strict";var e={DEFAULT:"default",QUIET:"quiet"},t={default:-1,quiet:4},i=[];for(var n in e)i.push("coral3-Select--"+e[n]);var o=null!==navigator.userAgent.match(/iPhone|iPad|iPod|Android/i),a=function(e){var t=e.getAttribute("value");return null!==t?t:e.textContent.replace(/\s{2,}/g," ").trim()},r=function(e,t){return e.filter((function(e){return!t.some((function(t){return e===t}))}))};Coral.register({name:"Select",tagName:"coral-select",className:"coral3-Select",mixins:[Coral.mixin.formField],events:{"coral-collection:add coral-taglist":"_onInternalEvent","coral-collection:add coral-selectlist":"_onSelectListItemAdd","coral-collection:remove coral-taglist":"_onInternalEvent","coral-collection:remove coral-selectlist":"_onInternalEvent","coral-select-item:_valuechanged coral-select-item":"_onItemValueChange","coral-select-item:_contentchanged coral-select-item":"_onItemContentChange","coral-select-item:_disabledchanged coral-select-item":"_onItemDisabledChange","coral-select-item:_selectedchanged coral-select-item":"_onItemSelectedChange","coral-selectlist:change":"_onSelectListChange","coral-selectlist:scrollbottom":"_onSelectListScrollBottom","change coral-taglist":"_onTagListChange","change select":"_onNativeSelectChange","click select":"_onNativeSelectClick","click > .coral3-Select-button":"_onButtonClick","key:space > .coral3-Select-button":"_onSpaceKey","key:down > .coral3-Select-button":"_onSpaceKey","key:tab coral-selectlist-item":"_onTabKey","key:tab+shift coral-selectlist-item":"_onTabKey","coral-overlay:close":"_onOverlayToggle","coral-overlay:open":"_onOverlayToggle","coral-overlay:positioned":"_onOverlayPositioned","coral-overlay:beforeopen":"_onInternalEvent","coral-overlay:beforeclose":"_onInternalEvent","global:click":"_onGlobalClick","global:touchstart":"_onGlobalClick","global:key:escape":"_onGlobalEscapeKey"},properties:{items:{get:function(){return this._items||(this._items=new Coral.SelectableCollection({host:this,itemTagName:"coral-select-item",onItemAdded:this._onItemAdded,onItemRemoved:this._onItemRemoved,onCollectionChange:this._onCollectionChange})),this._items},set:function(){}},multiple:{default:!1,reflectAttribute:!0,transform:Coral.transform.boolean,attributeTransform:Coral.transform.booleanAttr,set:function(e){this._multiple=e,e?this.appendChild(this._elements.taglist):this.removeChild(this._elements.taglist),this._nativeInput&&this.removeChild(this._elements.nativeSelect),this._elements.nativeSelect.multiple=e,this._elements.nativeSelect.selectedIndex=-1,this._nativeInput&&(e?this.insertBefore(this._elements.nativeSelect,this._elements.taglist):this.appendChild(this._elements.nativeSelect)),this._elements.list.multiple=e,this._setName(this.name),this._setStateFromDOM(),this.items.getAll().forEach((function(e){e._elements&&(this.multiple&&e.hasAttribute("selected")?(e._elements.selectListItem&&e._elements.selectListItem.setAttribute("hidden",""),this._addTagToTagList(e)):(e._elements.selectListItem&&e._elements.selectListItem.removeAttribute("hidden"),this._removeTagFromTagList(e),e.hasAttribute("selected")&&(this._elements.input.value=a(e))))}),this)}},placeholder:{default:"",reflectAttribute:!0,transform:Coral.transform.string,alsoSync:"selectedItem",sync:function(){if(!this.placeholder||!this.multiple&&this.selectedItem){if(this.multiple)this._elements.button.classList.add("is-placeholder"),this._elements.label.textContent=Coral.i18n.get("Select");else if(!this.selectedItem){this._elements.input.value="";var e=this.items._getFirstSelectable();this._elements.button.classList.remove("is-placeholder"),e?(e.setAttribute("selected",""),this._elements.label.innerHTML=e.innerHTML):this._elements.label.textContent=""}}else this._elements.button.classList.add("is-placeholder"),this._elements.label.textContent=this.placeholder}},name:{get:function(){return this.multiple?this._elements.taglist.name:this._elements.input.name},set:function(e){this._setName(e)}},value:{get:function(){return this.multiple?this._elements.taglist.value:this._elements.input.value},set:function(e){this.values=[e]}},values:{attribute:null,validate:[Coral.validate.valueMustChange,function(e){return Array.isArray(e)}],get:function(){return this.multiple?this._elements.taglist.values:this.selectedItem?[this._elements.input.value]:[]},set:function(e){!this.multiple&&e.length>1&&(e=[e[0]]);var t,i=this.items.getAll();if(this.multiple)i.forEach((function(i){t=a(i),i[-1!==e.indexOf(t)?"setAttribute":"removeAttribute"]("selected","")}));else{var n,o=e[0]||"";i.forEach((function(e){if(!n&&(t=a(e))===o)return e.setAttribute("selected",""),void(n=e);e.removeAttribute("selected")})),n||this._setStateFromDOM()}}},required:{sync:function(){this._elements.input.required=this.required,this._elements.taglist.required=this.required}},invalid:{sync:function(){this.classList.toggle("is-invalid",this.invalid)}},disabled:{sync:function(){this._elements.button.disabled=this.disabled,this._elements.input.disabled=this.disabled,this._elements.taglist.disabled=this.disabled}},readOnly:{sync:function(){this._elements.input.readOnly=this.readOnly,this._elements.taglist.readOnly=this.readOnly}},labelled:{get:function(){return this._labelled},set:function(e){if(this._labelled=e,this._labelled){if(!this._labelledBy){var t=this._elements.button.id+" "+this._elements.label.id;this._elements.button.setAttribute("aria-labelledby",t)}this._elements.button.setAttribute("aria-label",e),this._elements.nativeSelect.setAttribute("aria-label",e)}else this._elements.button.removeAttribute("aria-label"),this._elements.nativeSelect.removeAttribute("aria-label");this._elements.taglist.labelled=e}},labelledBy:{get:function(){return this._labelledBy},set:function(e){this._labelledBy=e,this._labelledBy?(this._elements.button.setAttribute("aria-labelledby",this._labelledBy+" "+this._elements.label.id),this._elements.nativeSelect.setAttribute("aria-labelledby",this._labelledBy)):(this._elements.nativeSelect.removeAttribute("aria-labelledby"),this.labelled&&(this.labelled=this.labelled)),this._elements.taglist.labelledBy=this._labelledBy}},selectedItem:{get:function(){return this.multiple?this.items._getFirstSelected():this.items._getLastSelected()},set:function(){},alsoSync:"placeholder",sync:function(){this.selectedItem&&!this.multiple&&(this._elements.button.classList.remove("is-placeholder"),this._elements.label.innerHTML=this.selectedItem.innerHTML)}},selectedItems:{get:function(){if(this.multiple)return this.items._getAllSelected();var e=this.selectedItem;return e?[e]:[]},set:function(){}},loading:{get:function(){return this._elements.list.loading},set:function(e){this._elements.list.loading=e}},variant:{default:e.DEFAULT,validate:[Coral.validate.valueMustChange,Coral.validate.enumeration(e)],set:function(t){this._variant=t,this._elements.button.variant=t===e.DEFAULT?Coral.Button.variant.DEFAULT:Coral.Button.variant.QUIET},sync:function(){this.classList.remove.apply(this.classList,i),this.variant!==Coral.Select.variant.DEFAULT&&this.classList.add(this._className+"--"+this.variant),this._elements.overlay.offset=t[this.variant]}}},_setName:function(e){this.multiple?(this._elements.input.name="",this._elements.taglist.name=e):(this._elements.taglist.name="",this._elements.input.name=e)},_showOptions:function(e){if(e){var t=this._elements.list.scrollHeight,i=this._elements.list.clientHeight,n=this._elements.list.scrollTop,o=this._elements.list._elements.loadIndicator;if(o&&o.parentNode){t-=(r=(a=o).offsetHeight,s=getComputedStyle(a),r+=parseInt(s.marginTop)+parseInt(s.marginBottom))}if(n+i<t-30)return}var a,r,s;this._useNativeInput||(this._elements.overlay.open=!0);var l=this.trigger("coral-select:showitems",{start:this.items.length});this._useNativeInput||(this._elements.list.loading=l.defaultPrevented),this._elements.button.setAttribute("aria-expanded",!0)},_hideOptions:function(){var e=this._elements.button.contains(document.activeElement),t=this._elements.overlay.contains(document.activeElement);(e||t)&&(this._elements.button.focus(),this._restoreFocusToButton=!0),this._elements.overlay.open=!1,this.trigger("coral-select:hideitems"),this._elements.button.setAttribute("aria-expanded",!1)},_onGlobalClick:function(e){if(this._elements.overlay.open){var t=this._elements.button.contains(e.target),i=this._elements.overlay.contains(e.target);t||i||this._hideOptions()}},_onGlobalEscapeKey:function(e){this._elements.overlay.open&&this._hideOptions()},_onSelectListItemAdd:function(e){e.stopImmediatePropagation(),this.loading=!1,this._elements.list.style.height="";var t=window.getComputedStyle(this._elements.list),i=parseInt(t.height,10);i<parseInt(t.maxHeight,10)&&(this._elements.list.style.height=i-1+"px")},_onInternalEvent:function(e){e.stopImmediatePropagation()},_onItemAdded:function(e){var t=this._elements.list,i=e._elements.selectListItem||new Coral.SelectList.Item;t.appendChild(i),i.set({value:e.value,content:{innerHTML:e.content.innerHTML},disabled:e.disabled,selected:e.selected,trackingElement:e.trackingElement},!0);var n=e._elements.nativeOption||new Option;this._elements.nativeSelect.appendChild(n),-1!==this._initialValues.indexOf(e.value)&&n.setAttribute("selected","selected"),n.selected=e.selected,n.value=e.value,n.disabled=e.disabled,n.innerHTML=e.content.innerHTML,this.multiple?e.selected&&(i.hidden=!0,this._addTagToTagList(e)):e.selected&&(this._elements.input.value=e.value),e._elements.selectListItem=i,e._elements.nativeOption=n,i._elements.selectItem=e,n._selectItem=e},_onItemRemoved:function(e){e._elements&&e._elements.selectListItem&&(e._elements.selectListItem.remove(),e._elements.selectListItem._elements.selectItem=void 0,e._elements.selectListItem=void 0),e._elements&&e._elements.nativeOption&&(this._elements.nativeSelect.removeChild(e._elements.nativeOption),e._elements.nativeOption._selectItem=void 0,e._elements.nativeOption=void 0),this._removeTagFromTagList(e,!0)},_onItemSelected:function(e){e._elements.selectListItem&&e._elements.selectListItem.parentNode||this._onItemAdded(e),e._elements.selectListItem.selected=!0,e._elements.nativeOption.selected=!0,this.multiple?(this._addTagToTagList(e),Coral.commons.nextFrame((function(){e._elements.selectListItem.hidden=!0}))):this._elements.input.value=e.value},_onItemDeselected:function(e){e._elements.selectListItem&&e._elements.selectListItem.parentNode||this._onItemAdded(e),e._elements.selectListItem.selected=!1,e._elements.nativeOption.selected=!1,this.multiple&&(this._removeTagFromTagList(e),e._elements.selectListItem.hidden=!1)},_onSelectListChange:function(e){if(e.stopImmediatePropagation(),!this._bulkSelectionChange){var t=e.detail.oldSelection||[];t=Array.isArray(t)?t:[t];var i=e.detail.selection||[];if(i=Array.isArray(i)?i:[i],e.detail.oldSelection!==e.detail.selection){this._bulkSelectionChange=!0,r(t,i).forEach((function(e){e._elements.selectItem&&e._elements.selectItem.removeAttribute("selected")}));var n=r(i,t);n.forEach((function(e){e._elements.selectItem&&e._elements.selectItem.setAttribute("selected","")})),this._bulkSelectionChange=!1,this._elements.overlay.open&&(this._hideOptions(),n.length&&this.trigger("change"))}else this._elements.overlay.open&&this._hideOptions();this.multiple||this._trackEvent("change","select-item",e,i[0])}},_onTagListChange:function(e){if(e.stopImmediatePropagation(),!this._bulkSelectionChange){this._bulkSelectionChange=!0;var t,i=e.target.values;this.items._getAllSelected().forEach((function(e){t=a(e),e[-1!==i.indexOf(t)?"setAttribute":"removeAttribute"]("selected","")})),this._bulkSelectionChange=!1,i.length||this._elements.button.focus(),this.trigger("change")}},_addTagToTagList:function(e){e._elements.tag=e._elements.tag||new Coral.Tag,e._elements.tag.set({value:e.value,multiline:!0,label:{innerHTML:e.content.innerHTML}},!0),this._elements.taglist.items.add(e._elements.tag)},_removeTagFromTagList:function(e,t){e._elements&&e._elements.tag&&(e._elements.tag.remove(),e._elements.tag=t?void 0:e._elements.tag)},_onSelectListScrollBottom:function(e){e.stopImmediatePropagation(),this._elements.overlay.open&&this._showOptions()},_onButtonClick:function(e){e.preventDefault(),this.disabled||this.readOnly||this._useNativeInput||(this._elements.overlay.open?this._hideOptions():this._showOptions(!0))},_onNativeSelectClick:function(e){this._showOptions(!1)},_onSpaceKey:function(e){this.disabled||this.readOnly||(e.preventDefault(),this._useNativeInput?this._elements.nativeSelect.dispatchEvent(new MouseEvent("mousedown")):this._elements.overlay.open&&e.keyCode!==Coral.Keys.keyToCode("space")||this._elements.button.click())},_onTabKey:function(e){e.preventDefault()},_onOverlayToggle:function(e){e.stopImmediatePropagation(),this._elements.button.classList.toggle("is-selected",e.target.open),e.target.open||(this.classList.remove.apply(this.classList,["is-openAbove","is-openBelow"]),this._restoreFocusToButton&&(this._elements.button.focus(),delete this._restoreFocusToButton)),this._elements.button.setAttribute("aria-expanded",e.target.open)},_onOverlayPositioned:function(e){e.stopImmediatePropagation(),this.classList.add("top"===e.detail.vertical?"is-openBelow":"is-openAbove"),this._elements.overlay.style.minWidth=this.offsetWidth+"px"},_onNativeSelectChange:function(e){if(e.stopImmediatePropagation(),!this._bulkSelectionChange){this._bulkSelectionChange=!0;var t=this.selectedItems.map((function(e){return e._elements.nativeOption})),i=Array.prototype.slice.call(e.target.querySelectorAll(":checked"));r(t,i).forEach((function(e){e._selectItem.selected=!1})),r(i,t).forEach((function(e){e._selectItem.selected=!0})),this._bulkSelectionChange=!1,this.multiple||(this._elements.button.focus(),this.trigger("coral-select:hideitems")),this.trigger("change")}},_onItemContentChange:function(e){e.stopImmediatePropagation();var t=e.target;t._elements.selectListItem&&t._elements.selectListItem.content&&(t._elements.selectListItem.content.innerHTML=t.content.innerHTML),t._elements.nativeOption&&(t._elements.nativeOption.innerHTML=t.content.innerHTML),t._elements.tag&&t._elements.tag.label&&(t._elements.tag.label.innerHTML=t.content.innerHTML),this._queueSync("placeholder","selectedItem")},_onItemValueChange:function(e){e.stopImmediatePropagation();var t=e.target;t._elements.selectListItem&&(t._elements.selectListItem.value=t.value),t._elements.nativeOption&&(t._elements.nativeOption.value=t.value),t._elements.tag&&(t._elements.tag.value=t.value)},_onItemDisabledChange:function(e){e.stopImmediatePropagation();var t=e.target;t._elements.selectListItem&&(t._elements.selectListItem.disabled=t.disabled),t._elements.nativeOption&&(t._elements.nativeOption.disabled=t.disabled)},_onItemSelectedChange:function(e){e.stopImmediatePropagation();var t=e.target;this._bulkSelectionChange=!0,t.selected?(this._onItemSelected(t),this.multiple&&this._trackEvent("select","select-item",e,t),this.multiple||this.items._deselectAllExcept(t)):(this._onItemDeselected(t),this.multiple&&this._trackEvent("deselect","select-item",e,t)),this._bulkSelectionChange=!1,this._updateLabel()},clear:function(){this.value=""},focus:function(){this.contains(document.activeElement)||this._elements.button.focus()},reset:function(){this.values=this._initialValues},attachedCallback:function(){this._delegateGlobalEvents(),this._elements.overlay.target=this._elements.button},detachedCallback:function(){this._undelegateGlobalEvents()},_validateInitialState:function(e){for(var t,i,n=0,o=e.length;n<o;n++)t=e[n],a(t),-1!==(i=this._initialValues.indexOf(t.value))&&this._initialValues.splice(i,1)},_onCollectionChange:function(e,t){this._validateInitialState(t),this._setStateFromDOM()},_updateLabel:function(){this._queueSync("placeholder","selectedItem")},_setStateFromDOM:function(){if(!this.multiple&&(this.items._deselectAllExceptLast(),!this.items._getFirstSelected()&&(this._elements.input.value="",""===this.placeholder))){var e=this.items._getFirstSelectable();e&&(e.setAttribute("selected",""),this._elements.input.value=a(e))}this._updateLabel()},_initialize:function(){this._useNativeInput=o,this.classList.toggle("coral3-Select--native",this._useNativeInput),!this._useNativeInput&&this.contains(this._elements.nativeSelect)&&this.removeChild(this._elements.nativeSelect),this._bulkSelectionChange=!1,this._setStateFromDOM(),Coral.commons.ready(this._elements.taglist,(function(e){e.reset=function(){}})),this._initialValues=[],this.selectedItems.forEach((function(e){this._initialValues.push(a(e))}),this),this.items._startHandlingItems()},_render:function(){for(var e=this.querySelectorAll("[handle]"),t=0;t<e.length;++t){var i=e[t];i.parentNode===this&&this.removeChild(i)}this.insertBefore(Coral.templates.Select.base.call(this._elements),this.firstChild||null),this._elements.list.style.maxHeight="252px"}}),Coral.Select.variant=e,Coral.register({name:"Select.Item",tagName:"coral-select-item",properties:{content:{contentZone:!0,set:function(){},get:function(){return this}},disabled:{default:!1,reflectAttribute:!0,transform:Coral.transform.boolean,attributeTransform:Coral.transform.booleanAttr,trigger:"coral-select-item:_disabledchanged"},selected:{default:!1,reflectAttribute:!0,transform:Coral.transform.boolean,attributeTransform:Coral.transform.booleanAttr,trigger:"coral-select-item:_selectedchanged"},value:{reflectAttribute:!0,transform:Coral.transform.string,trigger:"coral-select-item:_valuechanged",get:function(){return void 0===this._value?this.textContent.replace(/\s{2,}/g," ").trim():this._value}},trackingElement:{default:"",reflectAttribute:!0,set:function(e){this._trackingElement=e},get:function(){return this._trackingElement?this._trackingElement:this.value||this.textContent.replace(/\s{2,}/g," ").trim()},attribute:"trackingelement",transform:Coral.transform.string}},attachedCallback:function(){},detachedCallback:function(){},_initialize:function(){this._observer=new MutationObserver(this._handleMutation.bind(this)),this._observer.observe(this,{characterData:!0,childList:!0,subtree:!0})},_handleMutation:function(e){this.trigger("coral-select-item:_contentchanged",{content:this.textContent})}})}(),window.Coral=window.Coral||{},window.Coral.strings=window.Coral.strings||{},window.Coral.strings["coralui-component-clock"]={"en-US":{am:"am",pm:"pm",Hours:"Hours",Minutes:"Minutes","AM/PM":"AM/PM"},"de-DE":{am:"vormittags",pm:"nachmittags",Hours:"Stunden",Minutes:"Minuten","AM/PM":"AM/PM"},"fr-FR":{am:"matin",pm:"après-midi",Hours:"Heures",Minutes:"Minutes","AM/PM":"AM/PM"},"ja-JP":{am:"午前",pm:"午後",Hours:"時間",Minutes:"分","AM/PM":"午前 / 午後"},"es-ES":{am:"a. m.",pm:"p. m.",Hours:"Horas",Minutes:"Minutos","AM/PM":"a. m./p. m."},"ko-KR":{am:"오전",pm:"오후",Hours:"시간",Minutes:"분","AM/PM":"오전/오후"},"zh-CN":{am:"上午",pm:"下午",Hours:"小时",Minutes:"分钟","AM/PM":"上午/下午"},"zh-TW":{am:"上午",pm:"下午",Hours:"小時",Minutes:"分鐘","AM/PM":"上午/下午"},"pt-BR":{am:"am",pm:"pm",Hours:"Horas",Minutes:"Minutos","AM/PM":"AM/PM"},"it-IT":{am:"am",pm:"pm",Hours:"Ore",Minutes:"Minuti","AM/PM":"AM/PM"},"nl-NL":{am:"am",pm:"pm",Hours:"Uren",Minutes:"Minuten","AM/PM":"AM/PM"},"da-DK":{am:"am",pm:"pm",Hours:"Timer",Minutes:"Minutter","AM/PM":"AM/PM"},"fi-FI":{am:"ap.",pm:"ip.",Hours:"Tunnit",Minutes:"Minuutit","AM/PM":"ap./ip."},"nb-NO":{am:"am",pm:"pm",Hours:"Timer",Minutes:"Minutter","AM/PM":"AM/PM"},"sv-SE":{am:"am",pm:"pm",Hours:"Timmar",Minutes:"Minuter","AM/PM":"AM/PM"},"cs-CZ":{am:"am",pm:"pm",Hours:"hodin",Minutes:"minut","AM/PM":"AM/PM"},"pl-PL":{am:"przed południem",pm:"po południu",Hours:"Godz.",Minutes:"Min","AM/PM":"Przed południem / Po południu"},"ru-RU":{am:"дп",pm:"пп",Hours:"ч.",Minutes:"мин.","AM/PM":"ДП/ПП"},"tr-TR":{am:"öö",pm:"ös",Hours:"Saat",Minutes:"Dakika","AM/PM":"ÖÖ/ÖS"}},window.Coral=window.Coral||{},window.Coral.templates=window.Coral.templates||{},window.Coral.templates.Clock=window.Coral.templates.Clock||{},window.Coral.templates.Clock.base=function(e){var t=document.createDocumentFragment(),i=e=void 0===e?{}:e;i=e;var n=Coral.commons.getUID();e=i;var o=document.createTextNode("\n");t.appendChild(o);var a=this.input=document.createElement("input");a.setAttribute("type","hidden"),a.setAttribute("name",""),a.setAttribute("handle","input"),t.appendChild(a);var r=document.createTextNode("\n");t.appendChild(r);var s=this.valueAsText=document.createElement("time");s.setAttribute("handle","valueAsText"),s.id=Coral.commons.getUID(),s.setAttribute("hidden",""),t.appendChild(s);var l=document.createTextNode("\n");t.appendChild(l);var c=document.createElement("label");c.setAttribute("for","coral3-clock-hours"),c.className+=" coral-Form-fieldlabel",c.textContent=Coral.i18n.get("Hours"),t.appendChild(c);var d=document.createTextNode("\n");t.appendChild(d);var u=this.hours=document.createElement("input","coral-textfield");u.setAttribute("is","coral-textfield"),u.setAttribute("type","number"),u.setAttribute("min","0"),u.setAttribute("max","23"),u.className+=" coral3-Clock-hour",u.setAttribute("handle","hours"),u.id="coral3-clock-hours",u.setAttribute("aria-label",Coral.i18n.get("Hours")),t.appendChild(u);var h=document.createTextNode("\n");t.appendChild(h);var p=document.createElement("span");p.className+=" coral3-Clock-divider",p.textContent=":",t.appendChild(p);var m=document.createTextNode("\n");t.appendChild(m);var f=document.createElement("label");f.setAttribute("for","coral3-clock-minutes"),f.className+=" coral-Form-fieldlabel",f.textContent=Coral.i18n.get("Minutes"),t.appendChild(f);var g=document.createTextNode(" \n");t.appendChild(g);var v=this.minutes=document.createElement("input","coral-textfield");v.setAttribute("is","coral-textfield"),v.setAttribute("type","number"),v.setAttribute("min","0"),v.setAttribute("max","59"),v.className+=" coral3-Clock-minute",v.setAttribute("handle","minutes"),v.id="coral3-clock-minutes",v.setAttribute("aria-label",Coral.i18n.get("Minutes")),t.appendChild(v);var b=document.createTextNode("\n");t.appendChild(b);var _=this.period=document.createElement("coral-select");_.setAttribute("handle","period"),_.className+=" coral3-Clock-period",_.setAttribute("hidden",""),_.setAttribute("labelledby",n);var C=document.createTextNode("\n  ");_.appendChild(C);var y=document.createElement("span");y.className+=" u-coral-screenReaderOnly",y.id=n,y.setAttribute("hidden",""),y.textContent=Coral.i18n.get("AM/PM"),_.appendChild(y);var w=document.createTextNode("\n  ");_.appendChild(w);var A=document.createElement("coral-select-item");A.setAttribute("value","am"),_.appendChild(A);var x=document.createTextNode("\n  ");_.appendChild(x);var S=document.createElement("coral-select-item");S.setAttribute("value","pm"),_.appendChild(S);var T=document.createTextNode("\n");_.appendChild(T),t.appendChild(_);var I=document.createTextNode("\n");return t.appendChild(I),t},function(){"use strict";var e=new RegExp("(A|a|H{1,2}|h{1,2}|k{1,2}|m{1,2}).*(A|a|H{1,2}|h{1,2}|k{1,2}|m{1,2})|(A|a|H{1,2}|h{1,2}|k{1,2}|m{1,2})"),t=new RegExp("h{1,2}|H{1,2}|k{1,2}"),i=new RegExp("m{1,2}"),n={DEFAULT:"default",QUIET:"quiet"},o=[];for(var a in n)o.push("coral3-Clock--"+n[a]);Coral.register({name:"Clock",tagName:"coral-clock",className:"coral3-Clock",mixins:[Coral.mixin.formField],events:{'change [handle="period"]':"_onPeriodChange"},properties:{displayFormat:{default:"HH:mm",attribute:"displayformat",transform:function(t){return this._extractTimeFormat(Coral.transform.string(t).trim(),e,"HH:mm")},sync:function(){this._syncDisplay()}},valueFormat:{default:"HH:mm",attribute:"valueformat",transform:function(t){return this._extractTimeFormat(Coral.transform.string(t).trim(),e,"HH:mm")},set:function(e){this._valueFormat=e,this._elements.input.value=this.value}},name:{get:function(){return this._elements.input.name},set:function(e){this._elements.input.name=e}},disabled:{sync:function(){this._elements.hours.disabled=this.disabled,this._elements.minutes.disabled=this.disabled,this._elements.input.disabled=this.disabled}},invalid:{sync:function(){this._elements.hours.invalid=this.invalid,this._elements.minutes.invalid=this.invalid}},readOnly:{sync:function(){this._elements.hours.readOnly=this.readOnly,this._elements.minutes.readOnly=this.readOnly,this._elements.input.readOnly=this.readOnly}},required:{sync:function(){this._elements.hours.required=this.required,this._elements.minutes.required=this.required,this._elements.input.required=this.required}},value:{validate:function(e,t){return"string"==typeof e},get:function(){return this._getValueAsString(this._value,this.valueFormat)},set:function(e){var t=moment(e,this.valueFormat,!0);this._value=t.isValid()?t:"",this._elements.input.value=this.value,this._syncValueAsText()},sync:function(){this._syncDisplay()}},labelledBy:{get:function(){var e=this._getLabellableElement().getAttribute("aria-labelledby");return e&&((e=e.replace(this._elements.valueAsText.id,"").trim()).length||(e=null)),e},sync:function(){var e=this.labelledBy,t=[this._elements.valueAsText.id];e?(t.unshift(e),this.getAttribute("labelledby")!==e&&this.setAttribute("labelledby",e)):this.removeAttribute("labelledby"),this._getLabellableElement().setAttribute("aria-labelledby",t.join(" "))}},valueAsDate:{attribute:null,transform:function(e){return e instanceof Date?moment(e).format(this.valueFormat):""},get:function(){return this._value?new Date(this._value.toDate().getTime()):null},set:function(e){this.value=e}},variant:{default:n.DEFAULT,validate:[Coral.validate.valueMustChange,Coral.validate.enumeration(n)],set:function(e){this._variant=e,this._elements.hours.variant=e,this._elements.minutes.variant=e,this._elements.period.variant=e},sync:function(){this.classList.remove.apply(this.classList,o),this.variant!==Coral.Clock.variant.DEFAULT&&this.classList.add(this._className+"--"+this.variant)}}},focus:function(){this.contains(document.activeElement)||this._elements.hours.focus()},_extractTimeFormat:function(e,t,i){var n=t.exec(e);return n&&n.length&&""!==n[0]?n[0]:i},_syncDisplay:function(){var e=this._extractTimeFormat(this.displayFormat,t,"HH"),n=this._extractTimeFormat(this.displayFormat,i,"mm");this._elements.hours.placeholder=e,this._elements.minutes.placeholder=n,this._elements.hours.value=this._getValueAsString(this._value,e),this._elements.minutes.value=this._getValueAsString(this._value,n),this._syncPeriod(),this._syncValueAsText()},_syncPeriod:function(){Coral.commons.ready(this._elements.period,function(e){var t=this._value,i=Coral.i18n.get("am"),n=Coral.i18n.get("pm"),o=e.items.getAll();t&&t.isValid()&&(t.hours()<12?e.value="am":e.value="pm"),-1!==this.displayFormat.indexOf("a")?(o[0].textContent=i,o[1].textContent=n,this._togglePeriod(!0)):-1!==this.displayFormat.indexOf("A")?(o[0].textContent=i.toUpperCase(),o[1].textContent=n.toUpperCase(),this._togglePeriod(!0)):this._togglePeriod(!1)}.bind(this))},_togglePeriod:function(e){this._elements.period.hidden=!e},_onPeriodChange:function(e){e.stopImmediatePropagation();var t=this._value,i=this._elements.period;t&&t.isValid()&&(-1!==this.displayFormat.indexOf("h")&&("am"===i.value?t.subtract(12,"h"):t.add(12,"h")),this.value=t.format(this.valueFormat),this.trigger("change"))},_syncValueAsText:function(){this._elements.valueAsText.textContent=this._getValueAsString(this._value,this.displayFormat),this.getAttribute("aria-labelledby")||this._queueSync("labelledBy")},_onInputChange:function(e){e.stopImmediatePropagation();var t=moment(),i=this._value,n=parseInt(this._elements.hours.value,10),o=parseInt(this._elements.minutes.value,10);window.isNaN(n)||window.isNaN(o)?t="":(this._elements.period.hidden||-1===this.displayFormat.indexOf("h")||"pm"!==this._elements.period.value||(n+=12),t.hours(n),t.minutes(o)),t&&t.isValid()?(this.invalid=!1,t.isSame(i,"hour")&&t.isSame(i,"minute")||(this.value=t.format(this.valueFormat),this.trigger("change"))):(this.invalid=!0,this._value="",t!==i&&this.trigger("change"))},_getLabellableElement:function(){return this},_getValueAsString:function(e,t){return e&&e.isValid()?e.format(t):""},_initialize:function(){this.setAttribute("role","group")},_render:function(){for(;this.firstChild;)this.removeChild(this.firstChild);this.appendChild(Coral.templates.Clock.base.call(this._elements))}}),Coral.Clock.variant=n}(),function(){"use strict";var e=Coral.Overlay.placement,t={left:"Right",right:"Left",top:"Down",bottom:"Up"},i={INFO:"info",ERROR:"error",WARNING:"warning",SUCCESS:"success",INSPECT:"inspect"},n="on",o=[];for(var a in i)o.push("coral3-Tooltip--"+i[a]);var r=[],s={};for(var l in e){var c=e[l],d="coral3-Tooltip--arrow"+t[c];s[c]=d,r.push(d)}Coral.register({name:"Tooltip",tagName:"coral-tooltip",className:"coral3-Tooltip",extend:Coral.Overlay,_overlayAnimationTime:Coral.mixin.overlay.FADETIME,properties:{variant:{default:i.INFO,reflectAttribute:!0,validate:Coral.validate.enumeration(i),sync:function(){this.classList.remove.apply(this.classList,o),this.classList.add(this._className+"--"+this.variant)}},delay:{default:500,transform:Coral.transform.number},content:Coral.property.contentZone({handle:"content",tagName:"coral-tooltip-content",defaultContentZone:!0,insert:function(e){this.appendChild(e)}}),alignMy:{default:Coral.Overlay.align.LEFT_CENTER},alignAt:{default:Coral.Overlay.align.RIGHT_CENTER},focusOnShow:{default:Coral.mixin.overlay.focusOnShow.OFF},offset:{default:12},open:{sync:function(){this.open||this._cancelShow()}},target:{set:function(e){if(this.interaction===n){var t=this._getTarget(e);this._addTargetListeners(t)}}},interaction:{default:n,set:function(e){var t=this._getTarget();t&&(e===n?this._addTargetListeners(t):this._removeTargetListeners(t)),this._interaction=e}}},_render:function(){this._id=Coral.commons.getUID();var e=this.querySelector("coral-tooltip-content");if(null===e)for(e=document.createElement("coral-tooltip-content");this.firstChild;)e.appendChild(this.firstChild);this.content=e},_initialize:function(){this.tabIndex=-1,this.setAttribute("role","tooltip")},_applyPosition:function(e,t){var i=e.top,n=e.left;"left"===t.horizontal?this._setArrowClass(Coral.Overlay.placement.LEFT):"right"===t.horizontal?this._setArrowClass(Coral.Overlay.placement.RIGHT):"bottom"===t.vertical?this._setArrowClass(Coral.Overlay.placement.BOTTOM):"top"===t.vertical&&this._setArrowClass(Coral.Overlay.placement.TOP),this.style.top=i+"px",this.style.left=n+"px"},_setArrowClass:function(e){this.classList.remove.apply(this.classList,r),this.classList.add(s[e])},_handleFocus:function(){this._cancelHide(),Array.prototype.some.call(this.querySelectorAll(Coral.commons.FOCUSABLE_ELEMENT_SELECTOR),(function(e){if(null!==e.offsetParent)return e.focus(),!0}))},_handleFocusOut:function(){var e=this;Coral.commons.nextFrame((function(){var t=document.activeElement===e._getTarget(),i=e.contains(document.activeElement);t||i||(e._cancelShow(),e.open=!1)}))},_cancelShow:function(){clearTimeout(this._showTimeout)},_cancelHide:function(){clearTimeout(this._hideTimeout)},_startHide:function(){if(0===this.delay)this._handleFocusOut();else{var e=this;this._hideTimeout=setTimeout((function(){e._handleFocusOut()}),this.delay)}},_addTargetListeners:function(e){if(e&&!e["_hasCoralTooltipListeners"+this._id]){if(e["_hasCoralTooltipListeners"+this._id]=!0,this._oldTarget){var t=this._getTarget(this._oldTarget);t&&this._removeTargetListeners(t)}this._oldTarget=e;var i=this;this._targetEvents=new window.Vent(e),this._targetEvents.on("mouseenter.CoralTooltip"+this._id,o()),this._targetEvents.on("focusin.CoralTooltip"+this._id,o()),this._targetEvents.on("mouseleave.CoralTooltip"+this._id,(function(e){i.interaction===n&&i._startHide()})),this._targetEvents.on("focusout.CoralTooltip"+this._id,(function(e){i.interaction===n&&i._handleFocusOut()}))}function o(){return function(){i._cancelHide(),i.open||(i._cancelShow(),0===i.delay?i.show():i._showTimeout=setTimeout((function(){i.show()}),i.delay))}}},_removeTargetListeners:function(e){this._targetEvents&&this._targetEvents.off(".CoralTooltip"+this._id),e["_hasCoralTooltipListeners"+this._id]=!1}}),Coral.register({name:"Tooltip.Content",tagName:"coral-tooltip-content"}),Coral.Tooltip.variant=i}(),window.Coral=window.Coral||{},window.Coral.templates=window.Coral.templates||{},window.Coral.templates.Slider=window.Coral.templates.Slider||{},window.Coral.templates.Slider.base=function(e){var t=document.createDocumentFragment(),i=e=void 0===e?{}:e;(i=e).uid=Coral.commons.getUID(),e=i;var n=document.createTextNode("\n");t.appendChild(n);var o=document.createElement("div");o.className+=" coral3-Slider-bar";var a=document.createTextNode("\n  ");o.appendChild(a);var r=this.fillHandle=document.createElement("div");r.setAttribute("handle","fillHandle"),r.className+=" coral3-Slider-fill is-hidden",r.setAttribute("role","presentation"),o.appendChild(r);var s=document.createTextNode("\n");o.appendChild(s),t.appendChild(o);var l=document.createTextNode("\n");t.appendChild(l);var c=this.leftHandle=document.createElement("div");c.setAttribute("handle","leftHandle"),c.className+=" coral3-Slider-handle";var d=document.createTextNode("\n  ");c.appendChild(d);var u=this.leftInput=document.createElement("input");u.setAttribute("handle","leftInput"),u.setAttribute("type","range"),u.id=e.uid,u.className+=" coral3-Slider-input",c.appendChild(u);var h=document.createTextNode("\n  ");c.appendChild(h);var p=document.createElement("coral-tooltip");p.setAttribute("variant","inspect"),p.id=e.uid+"-tooltip",p.setAttribute("for",e.uid),p.setAttribute("interaction","off"),c.appendChild(p);var m=document.createTextNode("\n");return c.appendChild(m),t.appendChild(c),t},window.Coral.templates.Slider.range=function(e){var t=document.createDocumentFragment(),i=e=void 0===e?{}:e;(i=e).uidMin=Coral.commons.getUID(),i.uidMax=Coral.commons.getUID(),e=i;var n=document.createTextNode("\n");t.appendChild(n);var o=document.createElement("div");o.className+=" coral3-Slider-bar";var a=document.createTextNode("\n  ");o.appendChild(a);var r=this.fillHandle=document.createElement("div");r.setAttribute("handle","fillHandle"),r.className+=" coral3-Slider-fill is-hidden",r.setAttribute("role","presentation"),o.appendChild(r);var s=document.createTextNode("\n");o.appendChild(s),t.appendChild(o);var l=document.createTextNode("\n");t.appendChild(l);var c=this.leftHandle=document.createElement("div");c.setAttribute("handle","leftHandle"),c.className+=" coral3-Slider-handle";var d=document.createTextNode("\n  ");c.appendChild(d);var u=this.leftLabel=document.createElement("label");u.setAttribute("handle","leftLabel"),u.className+=" u-coral-screenReaderOnly",u.id=e.uidMin+"-label",u.setAttribute("for",e.uidMin),u.setAttribute("aria-hidden","true"),u.textContent="Minimum",c.appendChild(u);var h=document.createTextNode("\n  ");c.appendChild(h);var p=this.leftInput=document.createElement("input");p.setAttribute("handle","leftInput"),p.setAttribute("type","range"),p.id=e.uidMin,p.className+=" coral3-Slider-input",c.appendChild(p);var m=document.createTextNode("\n  ");c.appendChild(m);var f=document.createElement("coral-tooltip");f.setAttribute("variant","inspect"),f.id=e.uidMin+"-tooltip",f.setAttribute("for",e.uidMin),f.setAttribute("interaction","off"),c.appendChild(f);var g=document.createTextNode("\n");c.appendChild(g),t.appendChild(c);var v=document.createTextNode("\n");t.appendChild(v);var b=this.rightHandle=document.createElement("div");b.setAttribute("handle","rightHandle"),b.className+=" coral3-Slider-handle";var _=document.createTextNode("\n  ");b.appendChild(_);var C=this.rightLabel=document.createElement("label");C.setAttribute("handle","rightLabel"),C.className+=" u-coral-screenReaderOnly",C.id=e.uidMax+"-label",C.setAttribute("for",e.uidMax),C.setAttribute("aria-hidden","true"),C.textContent="Maximum",b.appendChild(C);var y=document.createTextNode("\n  ");b.appendChild(y);var w=this.rightInput=document.createElement("input");w.setAttribute("handle","rightInput"),w.setAttribute("type","range"),w.id=e.uidMax,w.className+=" coral3-Slider-input",b.appendChild(w);var A=document.createTextNode("\n  ");b.appendChild(A);var x=document.createElement("coral-tooltip");x.setAttribute("variant","inspect"),x.id=e.uidMax+"-tooltip",x.setAttribute("for",e.uidMax),x.setAttribute("interaction","off"),b.appendChild(x);var S=document.createTextNode("\n");return b.appendChild(S),t.appendChild(b),t},function(){"use strict";var e={HORIZONTAL:"horizontal",VERTICAL:"vertical"},t=function(e){this._slider=e};(t.prototype=Object.create(Coral.Collection.prototype)).add=function(e,t){var i;return e instanceof HTMLElement||(i=e,e=document.createElement("coral-slider-item")),this._slider.insertBefore(e,t),i&&e.set(i,!0),e},t.prototype.getAll=function(){return Array.prototype.slice.call(this._slider.getElementsByTagName("coral-slider-item"))},Coral.register({name:"Slider",tagName:"coral-slider",className:"coral3-Slider",mixins:[Coral.mixin.formField],events:{"key:up .coral3-Slider-handle":"_handleKey","key:right .coral3-Slider-handle":"_handleKey","key:down .coral3-Slider-handle":"_handleKey","key:left .coral3-Slider-handle":"_handleKey","key:pageUp .coral3-Slider-handle":"_handleKey","key:pageDown .coral3-Slider-handle":"_handleKey","key:home .coral3-Slider-handle":"_handleKey","key:end .coral3-Slider-handle":"_handleKey","capture:mouseenter .coral3-Slider-handle":"_onMouseEnter","capture:mouseleave .coral3-Slider-handle":"_onMouseLeave",input:"_onInputChangeHandler",touchstart:"_onMouseDown",mousedown:"_onMouseDown","capture:focus":"_focus","capture:blur":"_blur"},properties:{step:{default:1,reflectAttribute:!0,transform:Coral.transform.number,validate:[Coral.validate.valueMustChange,function(e,t){return null!==e&&e>0}],sync:function(){var e=this;e._elements.inputs.forEach((function(t){t.setAttribute("step",e.step),t.setAttribute("aria-valuestep",e.step)}))}},min:{default:1,reflectAttribute:!0,transform:Coral.transform.number,sync:function(){var e=this;e.setAttribute("aria-valuemin",e.min),e._elements.inputs.forEach((function(t){t.setAttribute("min",e.min),t.setAttribute("aria-valuemin",e.min)}))}},max:{default:100,reflectAttribute:!0,transform:Coral.transform.number,sync:function(){var e=this;e._elements.inputs.forEach((function(t){t.setAttribute("max",e.max),t.setAttribute("aria-valuemax",e.max)}))}},tooltips:{default:!1,reflectAttribute:!0,transform:Coral.transform.boolean,attributeTransform:Coral.transform.booleanAttr,sync:function(){}},orientation:{default:e.HORIZONTAL,validate:[Coral.validate.valueMustChange,Coral.validate.enumeration(e)],sync:function(){var t=this,i=t.orientation===e.VERTICAL;t.classList.toggle("coral3-Slider--vertical",i),t.setAttribute("aria-orientation",t.orientation),t._elements.inputs.forEach((function(e){e.setAttribute("aria-orientation",t.orientation)})),t._moveHandles()}},value:{default:function(){return String(this.min)},alsoSync:["filled"],transform:Coral.transform.number,get:function(){return this._elements.inputs[0].value},set:function(e){if(1===this._elements.handles.length){var t=this._elements.inputs[0];e=this._snapValueToStep(e,this.min,this.max,this.step),t.value=e,t.setAttribute("aria-valuenow",e),t.setAttribute("aria-valuetext",this._getLabel(e)),this._moveHandles();var i=this.getAttribute("value");t[i?"setAttribute":"removeAttribute"]("value",i)}},sync:function(){}},valueAsNumber:{attribute:null,transform:Coral.transform.float,get:function(){return parseFloat(this.value)},set:function(e){this.value=e}},name:{get:function(){return this._elements.inputs[0].name},set:function(e){this._elements.inputs.forEach((function(t){t.name=e}))}},_values:{attribute:null,default:function(){return[this.min,this.max]},get:function(){var e=[];return this._elements.inputs.forEach((function(t){e.push(String(parseInt(t.value,10)))})),e},set:function(e){var t=this;e&&e.length===t._elements.handles.length&&(t._elements.inputs.forEach((function(i,n){var o=e[n]=t._snapValueToStep(e[n],t.min,t.max,t.step);i.value=o,i.setAttribute("aria-valuenow",o),i.setAttribute("aria-valuetext",t._getLabel(o))})),t._moveHandles())},sync:function(){},alsoSync:["filled"]},filled:{default:!1,reflectAttribute:!0,transform:Coral.transform.boolean,attributeTransform:Coral.transform.booleanAttr,sync:function(){this.filled&&this._updateFill(),this._elements.fillHandle.classList.toggle("is-hidden",!this.filled)}},disabled:{default:!1,reflectAttribute:!0,transform:Coral.transform.boolean,attributeTransform:Coral.transform.booleanAttr,sync:function(){var e=this;e.setAttribute("aria-disabled",e.disabled),e._elements.inputs.forEach((function(t,i){t[e.disabled?"setAttribute":"removeAttribute"]("disabled",""),e._elements.handles[i].setAttribute("aria-disabled",e.disabled)}))}},labelledBy:{override:!0,attribute:"labelledby",transform:Coral.transform.string,get:function(){return 1===this._elements.handles.length?this._elements.inputs[0].getAttribute("aria-labelledby"):this.getAttribute("aria-labelledby")},set:function(e){var t,i=this;if(!e)return i._updateForAttributes(i.labelledBy,i._elements.inputs[0].id,!0),i.removeAttribute("aria-labelledby"),void i._elements.handles.forEach((function(e,t){e.removeAttribute("aria-labelledby"),i._elements.inputs[t].removeAttribute("aria-labelledby")}));1===i._elements.handles.length?(i._elements.handles[0].setAttribute("aria-labelledby",e),i._elements.inputs[0].setAttribute("aria-labelledby",e)):(i.setAttribute("aria-labelledby",e),i._elements.handles.forEach((function(n,o){t=e+" "+n.querySelector("label").id,n.setAttribute("aria-labelledby",t),i._elements.inputs[o].setAttribute("aria-labelledby",t)}))),i._updateForAttributes(e,i._elements.inputs[0].id)}},items:{set:function(){},get:function(){return this._items||(this._items=new t(this)),this._items}}},_onMouseDown:function(e){if(!(e instanceof MouseEvent&&1!==(e.which||e.button))){if(e.preventDefault(),this._currentHandle=e.target.closest(".coral3-Slider-handle"),!this._currentHandle){var t=this._getPoint(e),i=this._getValueFromCoord(t.pageX,t.pageY,!0);this._currentHandle=this._findNearestHandle(t.pageX,t.pageY),this._updateValue(this._currentHandle,i),this._setHandleFocus(this._currentHandle)}if(this._currentHandle.classList.add("is-dragged"),document.body.classList.add("u-coral-closedHand"),this.tooltips){var n=this._elements.handles.indexOf(this._currentHandle);this._openTooltip(this._currentHandle,this._getLabel(this._values[n]))}this._draggingHandler=this._handleDragging.bind(this),this._mouseUpHandler=this._mouseUp.bind(this),Coral.events.on("mousemove",this._draggingHandler),Coral.events.on("mouseup",this._mouseUpHandler),Coral.events.on("touchmove",this._draggingHandler),Coral.events.on("touchend",this._mouseUpHandler),Coral.events.on("touchcancel",this._mouseUpHandler),this._setHandleFocus(this._currentHandle)}},_getPoint:function(e){return e.changedTouches&&e.changedTouches.length>0?e.changedTouches[0]:e.touches&&e.touches.length>0?e.touches[0]:e},_setHandleFocus:function(e){e.querySelector(".coral3-Slider-input").focus()},_handleKey:function(e){e.preventDefault(),this._focus(e);var t=e.matchedTarget,i=this._elements.handles.indexOf(t),n=parseInt(this._values[i],10);e.keyCode===Coral.Keys.keyToCode("up")||e.keyCode===Coral.Keys.keyToCode("right")||e.keyCode===Coral.Keys.keyToCode("pageUp")?n+=this.step:e.keyCode===Coral.Keys.keyToCode("down")||e.keyCode===Coral.Keys.keyToCode("left")||e.keyCode===Coral.Keys.keyToCode("pageDown")?n-=this.step:e.keyCode===Coral.Keys.keyToCode("home")?n=this.min:e.keyCode===Coral.Keys.keyToCode("end")&&(n=this.max),this._updateValue(t,n)},_findNearestHandle:function(e,t){var i,n=1/0;return this._elements.handles.forEach((function(o){var a=function(e,t,i){var n=e.getBoundingClientRect(),o=n.top+window.pageYOffset,a=n.left+window.pageXOffset;return Math.floor(Math.sqrt(Math.pow(t-(a+n.width/2),2)+Math.pow(i-(o+n.height/2),2)))}(o,e,t);a<n&&(n=a,i=o)})),i},_moveHandles:function(){var t=this;t._elements.handles.forEach((function(i,n){var o=(t._values[n]-t.min)/(t.max-t.min)*100;t.orientation===e.VERTICAL?(i.style.bottom=o+"%",i.style.left=""):(i.style.left=o+"%",i.style.bottom=""),t._updateTooltip(i,t._getLabel(t._values[n]))}))},_onInputChange:function(e){void 0===e.target.oninput&&this._onInputChangeHandler(e)},_onInputChangeHandler:function(e){e.stopPropagation();var t=e.target.closest(".coral3-Slider-handle");e.target===document.activeElement&&this._focus(e),this._updateValue(t,e.target.value,!0)},_focus:function(e){var t=this,i=e.target.closest(".coral3-Slider-handle"),n=this._elements.handles.indexOf(i);this.classList.add("is-focused"),i.classList.add("is-focused"),this.tooltips&&this._openTooltip(i,t._getLabel(t._values[n]));var o=function(e){t.contains(e.target)&&e.target.blur()};Coral.events.on("touchstart.CoralSlider",o),Coral.events.on("mousedown.CoralSlider",o)},_blur:function(e){var t=e.target.closest(".coral3-Slider-handle");this.classList.remove("is-focused"),t.classList.remove("is-focused"),this.tooltips&&this._closeTooltip(t),Coral.events.off(".CoralSlider")},_handleDragging:function(e){var t=this._getPoint(e);this._updateValue(this._currentHandle,this._getValueFromCoord(t.pageX,t.pageY)),e.preventDefault()},_updateValue:function(e,t,i){var n=this._elements.handles.indexOf(e),o=this._values;o[n]=t;var a=this._values;this.set("_values",o);var r=this._values;(i||a.join(":")!==r.join(":"))&&this.trigger("change")},_getValueFromCoord:function(t,i,n){var o,a=this.getBoundingClientRect();if(this.orientation===e.VERTICAL){var r=a.height;o=(a.top+r-i)/r}else{var s=a.width;o=(t-a.left)/s}if(n&&(o<0||o>1))return NaN;var l=1*this.min+(this.max-this.min)*o;return this._snapValueToStep(l,this.min,this.max,this.step)},_snapValueToStep:function(e,t,i,n){var o,a=(e-t)%(n=parseFloat(n)),r=n.toString().replace(/^(?:\d+)(?:\.(\d+))?$/g,"$1").length;return(o=2*Math.abs(a)>=n?e-Math.abs(a)+n:e-a)<t?o=t:o>i&&(o=t+Math.floor((i-t)/n)*n),r>0&&(o=parseFloat(o.toFixed(r))),o},_onMouseEnter:function(e){var t=e.matchedTarget,i=this._elements.handles.indexOf(t);this.tooltips&&this._openTooltip(t,this._getLabel(this._values[i]))},_onMouseLeave:function(e){var t=e.matchedTarget;this.tooltips&&!t.classList.contains("is-dragged")&&this._closeTooltip(t)},_mouseUp:function(){this._currentHandle.classList.remove("is-dragged"),document.body.classList.remove("u-coral-closedHand"),this._closeTooltip(this._currentHandle),Coral.events.off("mousemove",this._draggingHandler),Coral.events.off("touchmove",this._draggingHandler),Coral.events.off("mouseup",this._mouseUpHandler),Coral.events.off("touchend",this._mouseUpHandler),Coral.events.off("touchcancel",this._mouseUpHandler),this._currentHandle=null,this._draggingHandler=null,this._mouseUpHandler=null},_updateFill:function(){var t=(this._values[0]-this.min)/(this.max-this.min)*100;this.orientation===e.VERTICAL?this._elements.fillHandle.style.height=t+"%":this._elements.fillHandle.style.width=t+"%"},_openTooltip:function(t,i){var n=t.querySelector("coral-tooltip"),o=this.orientation===e.VERTICAL?Coral.Overlay.placement.RIGHT:Coral.Overlay.placement.TOP;n.set({content:{textContent:i},target:t,placement:o}),n.open=!0},_updateTooltip:function(e,t){e.querySelector("coral-tooltip").content.textContent=t},_closeTooltip:function(e){var t=e.querySelector("coral-tooltip");t&&(t.open=!1)},_getLabel:function(e){for(var t,i=this.items.getAll(),n=0;n<i.length;n++)if(Coral.transform.number(i[n].value)===Coral.transform.number(e)){t=i[n];break}return t?t.content.innerHTML:e},_renderTemplate:function(){var e;e=Coral.templates.Slider.base.call(this._elements),this.appendChild(e)},_render:function(){this._renderTemplate(),this._elements.handles=Array.prototype.slice.call(this.querySelectorAll(".coral3-Slider-handle")),this._elements.inputs=Array.prototype.slice.call(this.querySelectorAll(".coral3-Slider-input")),this.setAttribute("role","presentation")}}),Coral.Slider.orientation=e}(),function(){"use strict";Coral.register({name:"Slider.Item",tagName:"coral-slider-item",className:"coral3-Slider-item",properties:{value:{reflectAttribute:!0,transform:Coral.transform.string},content:{contentZone:!0,set:function(){},get:function(){return this}}}})}(),function(){"use strict";Coral.register({name:"RangedSlider",tagName:"coral-rangedslider",className:"coral3-Slider",extend:Coral.Slider,properties:{filled:{default:!0,set:function(e){this._filled=!0}},value:Coral.property.proxy({path:"startValue"}),startValue:{attribute:"startvalue",transform:Coral.transform.string,set:function(e){var t=Coral.transform.number(e);t=this._snapValueToStep(t,this.min,this.max,this.step),e=String(t);var i=this.values;i[0]=e,this.values=i;var n=this._elements.inputs[0],o=this.getAttribute("startvalue")||this.getAttribute("value");n[o?"setAttribute":"removeAttribute"]("value",o)},get:function(){return this.values[0]}},endValue:{attribute:"endvalue",transform:Coral.transform.string,set:function(e){var t=Coral.transform.number(e);t=this._snapValueToStep(t,this.min,this.max,this.step),e=String(t);var i=this.values;i[1]=e,this.values=i;var n=this._elements.inputs[1],o=this.getAttribute("endvalue");n[o?"setAttribute":"removeAttribute"]("value",o)},get:function(){return this.values[1]}},values:Coral.property.proxy({path:"_values"})},clear:function(){this.startValue=this.min,this.endValue=this.max},reset:function(){var e=this.getAttribute("startvalue")||this.getAttribute("value"),t=this.getAttribute("endvalue");this.startValue=Coral.transform.string(e),this.endValue=Coral.transform.string(t)},_getHighestValue:function(){return Math.max.apply(null,this.values)},_getLowestValue:function(){return Math.min.apply(null,this.values)},_updateValue:function(e,t){var i=this._elements.handles.indexOf(e);0===i?(t>parseFloat(this.values[1])&&(t=this.values[1]),this._elements.rightInput.min=t,this._elements.rightHandle.setAttribute("aria-valuemin",t)):(t<parseFloat(this.values[0])&&(t=this.values[0]),this._elements.leftInput.max=t,this._elements.leftHandle.setAttribute("aria-valuemax",t));var n=[this.values[0],this.values[1]];n[i]=t;var o=this.get("values");this.set("values",n);var a=this.get("values");o.join(":")!==a.join(":")&&this.trigger("change")},_updateFill:function(){var e=100/(this.max-this.min),t=(this._getLowestValue()-this.min)*e,i=(this._getHighestValue()-this.min)*e-t;this.orientation===Coral.Slider.orientation.VERTICAL?(this._elements.fillHandle.style.bottom=t+"%",this._elements.fillHandle.style.height=i+"%"):(this._elements.fillHandle.style.left=t+"%",this._elements.fillHandle.style.width=i+"%")},_renderTemplate:function(){var e=Coral.templates.Slider.range.call(this._elements);this.appendChild(e)}})}(),window.Coral=window.Coral||{},window.Coral.strings=window.Coral.strings||{},window.Coral.strings["coralui-component-colorinput"]={"en-US":{Swatches:"Swatches",R:"R",G:"G",B:"B",A:"A",HEX:"HEX","Color Picker":"Color Picker",unset:"Not set",checked:"Checked","{value}, Color":"{value}, Color","Color not set":"Color not set"},"fr-FR":{Swatches:"Échantillons",R:"R",G:"G",B:"B",A:"A",HEX:"HEX","Color Picker":"Sélecteur de couleurs",unset:"Non défini",checked:"Activé","{value}, Color":"{value}, Couleur","Color not set":"Couleur non défini"},"de-DE":{Swatches:"Muster",R:"R",G:"G",B:"B",A:"A",HEX:"HEX","Color Picker":"Farbauswahl",unset:"Nicht gesetzt",checked:"Aktiviert","{value}, Color":"{value}, Farbe","Color not set":"Farbe nicht gesetzt"},"it-IT":{Swatches:"Campioni",R:"R",G:"G",B:"B",A:"A",HEX:"HEX","Color Picker":"Selettore colori",unset:"Non impostato",checked:"Selezionato","{value}, Color":"{value}, Colore","Color not set":"Colore non impostato"},"es-ES":{Swatches:"Muestras",R:"R",G:"G",B:"B",A:"A",HEX:"HEX","Color Picker":"Selector de colores",unset:"No establecido",checked:"Activado","{value}, Color":"{value}, Color","Color not set":"Color no establecido"},"pt-BR":{Swatches:"Amostras",R:"R",G:"G",B:"B",A:"A",HEX:"HEX","Color Picker":"Seletor de cores",unset:"Não definida",checked:"Selecionado","{value}, Color":"{value}, Cor","Color not set":"Cor não definida"},"ja-JP":{Swatches:"スウォッチ",R:"R",G:"G",B:"B",A:"A",HEX:"16 進","Color Picker":"カラー ピッカー",unset:"設定解除",checked:"選択","{value}, Color":"{value}, カラー","Color not set":"色が設定されていません"},"ko-KR":{Swatches:"견본",R:"R",G:"G",B:"B",A:"A",HEX:"HEX","Color Picker":"색 선택",unset:"설정 해제",checked:"선택됨","{value}, Color":"{value}, 색","Color not set":"색상이 설정되지 않았습니다."},"zh-CN":{Swatches:"色板",R:"R",G:"G",B:"B",A:"A",HEX:"十六进制","Color Picker":"颜色选取器",unset:"取消设置",checked:"已选中","{value}, Color":"{value}, 颜色","Color not set":"颜色未设定"},"zh-TW":{Swatches:"色票",R:"R",G:"G",B:"B",A:"A",HEX:"十六進位","Color Picker":"色彩選擇器",unset:"取消設定",checked:"已檢查","{value}, Color":"{value}, 色彩","Color not set":"顏色未設定"},"nl-NL":{Swatches:"Stalen",R:"R",G:"G",B:"B",A:"A",HEX:"HEX","Color Picker":"Kleurenkiezer",unset:"Niet ingesteld",checked:"Geselecteerd","{value}, Color":"{value}, Kleur","Color not set":"Kleur niet ingesteld"},"da-DK":{Swatches:"Farveprøver",R:"R",G:"G",B:"B",A:"A",HEX:"HEX","Color Picker":"Farvevælger",unset:"annuller indstilling",checked:"kontrolleret","{value}, Color":"{value}, Farve","Color not set":"Farve ikke indstillet"},"fi-FI":{Swatches:"Värimallit",R:"R",G:"G",B:"B",A:"A",HEX:"HEX","Color Picker":"Värimuokkain",unset:"poista asetus",checked:"valittu","{value}, Color":"{value}, väri","Color not set":"Väriä ei ole asetettu."},"nb-NO":{Swatches:"Fargekart",R:"R",G:"G",B:"B",A:"A",HEX:"HEX","Color Picker":"Fargevelger",unset:"fjern",checked:"avmerket","{value}, Color":"{value}, farge","Color not set":"Farge ikke angitt"},"sv-SE":{Swatches:"Färgrutor",R:"R",G:"G",B:"B",A:"A",HEX:"HEX","Color Picker":"Färgväljaren",unset:"ställ tillbaka",checked:"kontrollerade","{value}, Color":"{value}, Färg","Color not set":"Färg inte inställd"},"cs-CZ":{Swatches:"Vzorníky",R:"R",G:"G",B:"B",A:"A",HEX:"HEX","Color Picker":"Výběr barvy",unset:"nenastaveno",checked:"zkontrolováno","{value}, Color":"{value}, Barva","Color not set":"Barva není nastavena"},"pl-PL":{Swatches:"Próbki",R:"R",G:"G",B:"B",A:"A",HEX:"HEX","Color Picker":"Próbnik kolorów",unset:"usuń ustawienie",checked:"sprawdzono","{value}, Color":"{value}, kolor","Color not set":"Nie ustawiono koloru"},"ru-RU":{Swatches:"Цветовые образцы",R:"R",G:"G",B:"B",A:"A",HEX:"HEX","Color Picker":"Палитра цветов",unset:"не задано",checked:"проверено","{value}, Color":"{value}, цвет","Color not set":"Цвет не задан"},"tr-TR":{Swatches:"Renk Örnekleri",R:"R",G:"G",B:"B",A:"A",HEX:"HEX","Color Picker":"Renk Seçici",unset:"ayarı kaldır",checked:"denetlendi","{value}, Color":"{value}, Renk","Color not set":"Renk ayarlanmadı"}},window.Coral=window.Coral||{},window.Coral.templates=window.Coral.templates||{},window.Coral.templates.ColorInput=window.Coral.templates.ColorInput||{},window.Coral.templates.ColorInput.base=function(e){var t=document.createDocumentFragment(),i=e=void 0===e?{}:e;i=e;var n=Coral.commons.getUID();e=i;var o=document.createTextNode("\n");t.appendChild(o);var a=this.input=document.createElement("input","coral-textfield");a.setAttribute("handle","input"),a.setAttribute("is","coral-textfield"),a.className+=" coral3-ColorInput-input",a.setAttribute("type","text"),a.setAttribute("value",""),t.appendChild(a);var r=document.createTextNode("\n");t.appendChild(r);var s=document.createElement("div");s.className+=" coral3-ColorInput-buttonWrapper",s.setAttribute("role","presentation");var l=document.createTextNode("\n  ");s.appendChild(l);var c=this.colorPreview=document.createElement("button","coral-button");c.setAttribute("handle","colorPreview"),c.setAttribute("is","coral-button"),c.setAttribute("variant","default"),c.className+=" coral3-ColorInput-button coral3-ColorInput-preview",c.setAttribute("type","button"),c.setAttribute("aria-haspopup","true"),c.setAttribute("aria-expanded","false"),c.setAttribute("aria-controls",n);var d=document.createTextNode("\n    ");c.appendChild(d);var u=document.createElement("coral-button-label");u.id=n+"-coral-button-label",u.className+=" u-coral-screenReaderOnly",u.textContent=Coral.i18n.get("Color Picker"),c.appendChild(u);var h=document.createTextNode("\n  ");c.appendChild(h),s.appendChild(c);var p=document.createTextNode("\n");s.appendChild(p),t.appendChild(s);var m=document.createTextNode("\n");t.appendChild(m);var f=this.overlay=document.createElement("coral-overlay");return f.setAttribute("role","dialog"),f.setAttribute("focusonshow","on"),f.setAttribute("trapfocus","on"),f.setAttribute("handle","overlay"),f.setAttribute("alignmy","right top"),f.setAttribute("alignat","right bottom"),f.setAttribute("collision","fit"),f.setAttribute("offset","5"),f.id=n,f.setAttribute("aria-label",Coral.i18n.get("Color Picker")),t.appendChild(f),t},window.Coral.templates.ColorInput.colorProperties=function(e){var t=document.createDocumentFragment(),i=e=void 0===e?{}:e;i=e;var n=Coral.commons.getUID();e=i;var o=document.createTextNode("\n");t.appendChild(o);var a=document.createElement("div");a.className+=" coral3-ColorInput-propertiesSubview",a.setAttribute("role","group");var r=document.createTextNode("\n  ");a.appendChild(r);var s=document.createElement("div");s.className+=" coral3-ColorInput-previewView",s.setAttribute("role","presentation");var l=document.createTextNode("\n    ");s.appendChild(l);var c=document.createElement("div");c.className+=" coral3-ColorInput-preview-container",c.setAttribute("role","presentation");var d=document.createTextNode("\n      ");c.appendChild(d);var u=this.colorPreview2=document.createElement("button","coral-button");u.setAttribute("is","coral-button"),u.setAttribute("handle","colorPreview2"),u.className+=" coral3-ColorInput-preview",u.setAttribute("type","button"),u.setAttribute("aria-pressed","false"),c.appendChild(u);var h=document.createTextNode("\n    ");c.appendChild(h),s.appendChild(c);var p=document.createTextNode("\n    ");s.appendChild(p);var m=document.createElement("div");m.className+=" coral3-ColorInput-editHex",m.setAttribute("role","presentation");var f=document.createTextNode("\n      ");m.appendChild(f);var g=document.createElement("label"),v=document.createTextNode("\n        ");g.appendChild(v);var b=document.createElement("span");b.textContent="#",g.appendChild(b);var _=document.createTextNode("\n        ");g.appendChild(_);var C=this.hexInput=document.createElement("input","coral-textfield");C.setAttribute("type","text"),C.setAttribute("handle","hexInput"),C.setAttribute("is","coral-textfield"),C.setAttribute("aria-label",Coral.i18n.get("HEX")),C.setAttribute("placeholder",Coral.i18n.get("HEX")),C.setAttribute("maxlength","6"),C.setAttribute("value",""),C.setAttribute("variant","quiet"),g.appendChild(C);var y=document.createTextNode("\n      ");g.appendChild(y),m.appendChild(g);var w=document.createTextNode("\n    ");m.appendChild(w),s.appendChild(m);var A=document.createTextNode("\n  ");s.appendChild(A),a.appendChild(s);var x=document.createTextNode("\n  ");a.appendChild(x);var S=document.createElement("div");S.className+=" coral3-ColorInput-rgbaView coral3-ColorInput-editRgba",S.setAttribute("role","presentation");var T=document.createTextNode("\n    ");S.appendChild(T);var I=document.createElement("div");I.setAttribute("role","group"),I.setAttribute("labelledby",n+"-r");var E=document.createTextNode("\n      ");I.appendChild(E);var k=document.createElement("label");k.id=n+"-r",k.textContent=Coral.i18n.get("R"),I.appendChild(k);var L=document.createTextNode("\n      ");I.appendChild(L);var N=this.redSlider=document.createElement("coral-colorinput-slider");N.setAttribute("labelledby",n+"-r"),N.setAttribute("handle","redSlider"),N.setAttribute("min","0"),N.setAttribute("max","255"),N.setAttribute("value","0"),N.setAttribute("gradient","#000000 #FF0000"),I.appendChild(N);var O=document.createTextNode("\n      ");I.appendChild(O);var M=this.redInput=document.createElement("input","coral-textfield");M.setAttribute("labelledby",n+"-r"),M.setAttribute("handle","redInput"),M.setAttribute("is","coral-textfield"),M.setAttribute("type","number"),M.setAttribute("placeholder",Coral.i18n.get("R")),M.setAttribute("maxlength","3"),M.setAttribute("value",""),M.setAttribute("variant","quiet"),I.appendChild(M);var F=document.createTextNode("\n    ");I.appendChild(F),S.appendChild(I);var D=document.createTextNode("\n    ");S.appendChild(D);var P=document.createElement("div");P.setAttribute("role","group"),P.setAttribute("labelledby",n+"-g");var R=document.createTextNode("\n      ");P.appendChild(R);var B=document.createElement("label");B.id=n+"-g",B.textContent=Coral.i18n.get("G"),P.appendChild(B);var U=document.createTextNode("\n      ");P.appendChild(U);var H=this.greenSlider=document.createElement("coral-colorinput-slider");H.setAttribute("labelledby",n+"-g"),H.setAttribute("handle","greenSlider"),H.setAttribute("min","0"),H.setAttribute("max","255"),H.setAttribute("value","0"),H.setAttribute("gradient","#000000 #00FF00"),P.appendChild(H);var $=document.createTextNode("\n      ");P.appendChild($);var z=this.greenInput=document.createElement("input","coral-textfield");z.setAttribute("labelledby",n+"-g"),z.setAttribute("handle","greenInput"),z.setAttribute("is","coral-textfield"),z.setAttribute("type","number"),z.className+=" coral3-ColorInput-editRgb",z.setAttribute("placeholder",Coral.i18n.get("G")),z.setAttribute("maxlength","3"),z.setAttribute("value",""),z.setAttribute("variant","quiet"),P.appendChild(z);var V=document.createTextNode("\n    ");P.appendChild(V),S.appendChild(P);var q=document.createTextNode("\n    ");S.appendChild(q);var W=document.createElement("div");W.setAttribute("role","group"),W.setAttribute("labelledby",n+"-b");var j=document.createTextNode("\n      ");W.appendChild(j);var K=document.createElement("label");K.id=n+"-b",K.textContent=Coral.i18n.get("B"),W.appendChild(K);var Z=document.createTextNode("\n      ");W.appendChild(Z);var G=this.blueSlider=document.createElement("coral-colorinput-slider");G.setAttribute("labelledby",n+"-b"),G.setAttribute("handle","blueSlider"),G.setAttribute("min","0"),G.setAttribute("max","255"),G.setAttribute("value","0"),G.setAttribute("gradient","#000000 #0000FF"),W.appendChild(G);var Q=document.createTextNode("\n      ");W.appendChild(Q);var X=this.blueInput=document.createElement("input","coral-textfield");X.setAttribute("labelledby",n+"-b"),X.setAttribute("handle","blueInput"),X.setAttribute("is","coral-textfield"),X.setAttribute("type","number"),X.setAttribute("placeholder",Coral.i18n.get("B")),X.setAttribute("maxlength","3"),X.setAttribute("value",""),X.setAttribute("variant","quiet"),W.appendChild(X);var Y=document.createTextNode("\n    ");W.appendChild(Y),S.appendChild(W);var J=document.createTextNode("\n    ");S.appendChild(J);var ee=document.createElement("div");ee.setAttribute("role","group"),ee.setAttribute("labelledby",n+"-a");var te=document.createTextNode("\n      ");ee.appendChild(te);var ie=document.createElement("label");ie.id=n+"-a",ie.textContent=Coral.i18n.get("A"),ee.appendChild(ie);var ne=document.createTextNode("\n      ");ee.appendChild(ne);var oe=this.alphaSlider=document.createElement("coral-colorinput-slider");oe.setAttribute("labelledby",n+"-a"),oe.setAttribute("handle","alphaSlider"),oe.setAttribute("min","0"),oe.setAttribute("max","100"),oe.setAttribute("value","100"),oe.setAttribute("gradient","rgba(255,255,255,0) rgba(255,255,255,1)"),ee.appendChild(oe);var ae=document.createTextNode("\n      ");ee.appendChild(ae);var re=this.alphaInput=document.createElement("input","coral-textfield");re.setAttribute("labelledby",n+"-a"),re.setAttribute("handle","alphaInput"),re.setAttribute("is","coral-textfield"),re.setAttribute("type","number"),re.setAttribute("placeholder",Coral.i18n.get("A")),re.setAttribute("maxlength","3"),re.setAttribute("value",""),re.setAttribute("variant","quiet"),ee.appendChild(re);var se=document.createTextNode("\n    ");ee.appendChild(se),S.appendChild(ee);var le=document.createTextNode("\n  ");S.appendChild(le),a.appendChild(S);var ce=document.createTextNode("\n");a.appendChild(ce),t.appendChild(a);var de=document.createTextNode("\n");return t.appendChild(de),t},window.Coral.templates.ColorInput.defaultColorPalette=function(e){var t=this.defaultPalette=document.createElement("div");t.setAttribute("handle","defaultPalette");var i=document.createTextNode("\n  ");t.appendChild(i);var n=document.createElement("coral-colorinput-item");n.setAttribute("value",""),t.appendChild(n);var o=document.createTextNode("\n  ");t.appendChild(o);var a=document.createElement("coral-colorinput-item");a.setAttribute("value","#001F3F"),t.appendChild(a);var r=document.createTextNode("\n  ");t.appendChild(r);var s=document.createElement("coral-colorinput-item");s.setAttribute("value","#0074D9"),t.appendChild(s);var l=document.createTextNode("\n  ");t.appendChild(l);var c=document.createElement("coral-colorinput-item");c.setAttribute("value","#7FDBFF"),t.appendChild(c);var d=document.createTextNode("\n  ");t.appendChild(d);var u=document.createElement("coral-colorinput-item");u.setAttribute("value","#39CCCC"),t.appendChild(u);var h=document.createTextNode("\n  ");t.appendChild(h);var p=document.createElement("coral-colorinput-item");p.setAttribute("value","#3D9970"),t.appendChild(p);var m=document.createTextNode("\n  ");t.appendChild(m);var f=document.createElement("coral-colorinput-item");f.setAttribute("value","#2ECC40"),t.appendChild(f);var g=document.createTextNode("\n  ");t.appendChild(g);var v=document.createElement("coral-colorinput-item");v.setAttribute("value","#01FF70"),t.appendChild(v);var b=document.createTextNode("\n  ");t.appendChild(b);var _=document.createElement("coral-colorinput-item");_.setAttribute("value","#FFDC00"),t.appendChild(_);var C=document.createTextNode("\n  ");t.appendChild(C);var y=document.createElement("coral-colorinput-item");y.setAttribute("value","#FF851B"),t.appendChild(y);var w=document.createTextNode("\n  ");t.appendChild(w);var A=document.createElement("coral-colorinput-item");A.setAttribute("value","#FF4136"),t.appendChild(A);var x=document.createTextNode("\n  ");t.appendChild(x);var S=document.createElement("coral-colorinput-item");S.setAttribute("value","#85144B"),t.appendChild(S);var T=document.createTextNode("\n  ");t.appendChild(T);var I=document.createElement("coral-colorinput-item");I.setAttribute("value","#F012BE"),t.appendChild(I);var E=document.createTextNode("\n  ");t.appendChild(E);var k=document.createElement("coral-colorinput-item");k.setAttribute("value","#B10DC9"),t.appendChild(k);var L=document.createTextNode("\n  ");t.appendChild(L);var N=document.createElement("coral-colorinput-item");N.setAttribute("value","#111111"),t.appendChild(N);var O=document.createTextNode("\n  ");t.appendChild(O);var M=document.createElement("coral-colorinput-item");M.setAttribute("value","#AAAAAA"),t.appendChild(M);var F=document.createTextNode("\n  ");t.appendChild(F);var D=document.createElement("coral-colorinput-item");D.setAttribute("value","#DDDDDD"),t.appendChild(D);var P=document.createTextNode("\n");return t.appendChild(P),t},window.Coral.templates.ColorInput.sliderBase=function(e){var t=document.createDocumentFragment(),i=e=void 0===e?{}:e;i=e;var n=Coral.commons.getUID();e=i;var o=document.createTextNode("\n");t.appendChild(o);var a=this.sliderBar=document.createElement("div");a.setAttribute("handle","sliderBar"),a.className+=" coral3-ColorInput-sliderBar coral3-Slider-bar";var r=document.createTextNode("\n  ");a.appendChild(r);var s=this.fillHandle=document.createElement("div");s.setAttribute("handle","fillHandle"),s.className+=" coral3-Slider-fill is-hidden",s.setAttribute("role","presentation"),a.appendChild(s);var l=document.createTextNode("\n");a.appendChild(l),t.appendChild(a);var c=document.createTextNode("\n");t.appendChild(c);var d=this.leftHandle=document.createElement("div");d.setAttribute("handle","leftHandle"),d.className+=" coral3-ColorInput-sliderHandle coral3-Slider-handle";var u=document.createTextNode("\n  ");d.appendChild(u);var h=this.leftInput=document.createElement("input");h.setAttribute("handle","leftInput"),h.setAttribute("type","range"),h.id=n,h.className+=" coral3-Slider-input",d.appendChild(h);var p=document.createTextNode("\n  ");d.appendChild(p);var m=document.createElement("coral-tooltip");m.setAttribute("variant","inspect"),m.id=n+"-tooltip",m.setAttribute("for",n),m.setAttribute("interaction","off"),d.appendChild(m);var f=document.createTextNode("\n");d.appendChild(f),t.appendChild(d);var g=document.createTextNode("\n");return t.appendChild(g),t},window.Coral.templates.ColorInput.swatchesHeader=function(e){var t=document.createElement("div");t.className+=" coral3-ColorInput-swatchesSubview",t.setAttribute("role","presentation");var i=document.createTextNode("\n  ");t.appendChild(i);var n=document.createElement("div");n.className+=" coral3-ColorInput-swatches-header-title",n.setAttribute("role","presentation"),n.setAttribute("aria-hidden","true");var o=document.createTextNode("\n    ");n.appendChild(o);var a=this.swatchesHeaderTitle=document.createElement("span");a.setAttribute("handle","swatchesHeaderTitle"),a.id=Coral.commons.getUID(),a.setAttribute("role","heading"),a.setAttribute("aria-level","2"),a.textContent="\n      "+Coral.i18n.get("Swatches"),n.appendChild(a);var r=document.createTextNode("\n  ");n.appendChild(r),t.appendChild(n);var s=document.createTextNode("\n  ");t.appendChild(s);var l=document.createElement("div");l.className+=" coral3-ColorInput-swatches-container",l.setAttribute("role","presentation"),l.setAttribute("aria-labelledby",Coral.commons.getUID());var c=document.createTextNode("\n    ");l.appendChild(c);var d=this.swatchesContainer=document.createElement("div");d.setAttribute("handle","swatchesContainer"),d.setAttribute("role","presentation"),l.appendChild(d);var u=document.createTextNode("\n  ");l.appendChild(u),t.appendChild(l);var h=document.createTextNode("\n");return t.appendChild(h),t},function(){"use strict";var e="rgb",t="hex",i="cmyk",n="hsb",o="hsl";function a(e){return("0"+e.toString(16)).slice(-2)}function r(e,t){var i=[];return e=e.toLowerCase(),t=t.toLowerCase(),-1!==e.indexOf(t)&&(i=e.substring(e.indexOf(t)+t.length,e.lastIndexOf(")")).split(/,\s*/)),i}function s(e){var t=r(e,"rgb(");if(3!==t.length)return null;var i=parseInt(t[0],10),n=parseInt(t[1],10),o=parseInt(t[2],10);return isNaN(i)||isNaN(n)||isNaN(o)||i<0||i>255||n<0||n>255||o<0||o>255?null:{r:i,g:n,b:o}}function l(e){return e?"rgb("+e.r+","+e.g+","+e.b+")":""}function c(e){return e?"rgba("+e.r+","+e.g+","+e.b+","+e.a+")":""}function d(e){var t=r(e,"cmyk(");if(4!==t.length)return null;var i=parseFloat(t[0]),n=parseFloat(t[1]),o=parseFloat(t[2]),a=parseFloat(t[3]);return isNaN(i)||isNaN(n)||isNaN(o)||isNaN(a)||i<0||i>100||n<0||n>100||o<0||o>100||a<0||a>100?null:{c:i,m:n,y:o,k:a}}function u(e){return e?"cmyk("+parseFloat(e.c.toFixed(2))+","+parseFloat(e.m.toFixed(2))+","+parseFloat(e.y.toFixed(2))+","+parseFloat(e.k.toFixed(2))+")":""}function h(e){return 3===(e=e.replace("#","")).length&&(e=e.charAt(0)+e.charAt(0)+e.charAt(1)+e.charAt(1)+e.charAt(2)+e.charAt(2)),/^[0-9A-F]{6}$/i.test(e)?parseInt(e,16):null}function p(e){if(null!==e){var t=m(e);return"#"+a(t.r)+a(t.g)+a(t.b)}return""}function m(e){return null!==e?{r:e>>16,g:(65280&e)>>8,b:255&e}:null}function f(e){if(!e)return null;var t={r:0,g:0,b:0},i=parseFloat(e.c)/100,n=parseFloat(e.m)/100,o=parseFloat(e.y)/100,a=parseFloat(e.k)/100;return t.r=1-Math.min(1,i*(1-a)+a),t.g=1-Math.min(1,n*(1-a)+a),t.b=1-Math.min(1,o*(1-a)+a),t.r=Math.round(255*t.r),t.g=Math.round(255*t.g),t.b=Math.round(255*t.b),t}function g(e){if(!e)return null;var t={c:0,m:0,y:0,k:0};if(0===e.r&&0===e.g&&0===e.b)return t.k=100,t;var i=e.r/255,n=e.g/255,o=e.b/255;return t.k=Math.min(1-i,1-n,1-o),t.c=(1-i-t.k)/(1-t.k),t.m=(1-n-t.k)/(1-t.k),t.y=(1-o-t.k)/(1-t.k),t.c=Math.round(100*t.c),t.m=Math.round(100*t.m),t.y=Math.round(100*t.y),t.k=Math.round(100*t.k),t}function v(e){var t=r(e,"hsb(");if(3!==t.length)return null;var i=parseFloat(t[0]),n=parseFloat(t[1]),o=parseFloat(t[2]);return isNaN(i)||isNaN(n)||isNaN(o)||i<0||i>360||n<0||n>100||o<0||o>100?null:{h:i,s:n,b:o}}function b(e){return e?"hsb("+parseFloat(e.h.toFixed(2))+","+parseFloat(e.s.toFixed(2))+","+parseFloat(e.b.toFixed(2))+")":""}function _(e){if(!e)return null;var t,i,n,o,a,r,s,l,c=e.h/360,d=e.s/100,u=e.b/100;switch(r=u*(1-d),s=u*(1-(a=6*c-(o=Math.floor(6*c)))*d),l=u*(1-(1-a)*d),o%6){case 0:t=u,i=l,n=r;break;case 1:t=s,i=u,n=r;break;case 2:t=r,i=u,n=l;break;case 3:t=r,i=s,n=u;break;case 4:t=l,i=r,n=u;break;case 5:t=u,i=r,n=s}return{r:Math.round(255*t),g:Math.round(255*i),b:Math.round(255*n)}}function C(e){if(!e)return null;var t,i=e.r,n=e.g,o=e.b,a=Math.max(i,n,o),r=Math.min(i,n,o),s=a-r,l=0===a?0:s/a,c=a/255;switch(a){case r:t=0;break;case i:t=n-o+s*(n<o?6:0),t/=6*s;break;case n:t=o-i+2*s,t/=6*s;break;case o:t=i-n+4*s,t/=6*s}return{h:360*t,s:100*l,b:100*c}}function y(e){var t=r(e,"hsl(");if(3!==t.length)return null;var i=parseFloat(t[0]),n=parseFloat(t[1]),o=parseFloat(t[2]);return isNaN(i)||isNaN(n)||isNaN(o)||i<0||i>360||n<0||n>100||o<0||o>100?null:{h:i,s:n,l:o}}function w(e){return e?"hsl("+parseFloat(e.h.toFixed(2))+","+parseFloat(e.s.toFixed(2))+"%,"+parseFloat(e.l.toFixed(2))+"%)":""}function A(e){if(!e)return null;var t,i,n,o=e.h/360,a=e.s/100,r=e.l/100;if(0===a)t=i=n=r;else{var s=function(e,t,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?e+6*(t-e)*i:i<.5?t:i<2/3?e+(t-e)*(2/3-i)*6:e},l=r<.5?r*(1+a):r+a-r*a,c=2*r-l;t=s(c,l,o+1/3),i=s(c,l,o),n=s(c,l,o-1/3)}return{r:Math.round(255*t),g:Math.round(255*i),b:Math.round(255*n)}}function x(e){if(!e)return null;var t,i,n=e.r/255,o=e.g/255,a=e.b/255,r=Math.max(n,o,a),s=Math.min(n,o,a),l=(r+s)/2;if(r===s)t=i=0;else{var c=r-s;switch(i=l>.5?c/(2-r-s):c/(r+s),r){case n:t=(o-a)/c+(o<a?6:0);break;case o:t=(a-n)/c+2;break;case a:t=(n-o)/c+4}t/=6}return{h:360*t,s:100*i,l:100*l}}function S(e){return e?"hsla("+parseFloat(e.h.toFixed(2))+","+parseFloat(e.s.toFixed(2))+"%,"+parseFloat(e.l.toFixed(2))+"%,"+parseFloat(e.a.toFixed(2))+")":""}Coral.Color=function(){this._colorSpace=t,this._value="",this._alpha=1},Coral.Color.prototype={get value(){return this._value},set value(a){var c=function(e){var t=r(e,"rgba(");if(4!==t.length)return null;var i=parseInt(t[0],10),n=parseInt(t[1],10),o=parseInt(t[2],10),a=parseFloat(t[3]);if(isNaN(i)||isNaN(n)||isNaN(o)||isNaN(a))return null;if(i<0||i>255||n<0||n>255||o<0||o>255||a<0||a>1)return null;return{r:i,g:n,b:o,a:a}}(a),u=function(e){var t=r(e,"hsla(");if(4!==t.length)return null;var i=parseFloat(t[0]),n=parseFloat(t[1]),o=parseFloat(t[2]),a=parseFloat(t[3]);if(isNaN(i)||isNaN(n)||isNaN(o))return null;if(i<0||i>360||n<0||n>100||o<0||o>100||a<0||a>1)return null;return{h:i,s:n,l:o,a:a}}(a),p=s(a),m=d(a),f=v(a),g=y(a),b=h(a);null!==c?(this._colorSpace=e,this.alpha=c.a,a=l({r:c.r,g:c.g,b:c.b})):null!==u?(this._colorSpace=o,this.alpha=u.a,a=w({h:u.h,s:u.s,l:u.l})):null!==p?this._colorSpace=e:null!==m?this._colorSpace=i:null!==f?this._colorSpace=n:null!==g?this._colorSpace=o:null!==b?this._colorSpace=t:(this._colorSpace=t,a=""),this._value=a},get alpha(){return this._alpha},set alpha(e){isNaN(e)||e<0||e>1||(this._alpha=Coral.transform.number(e))},get rgb(){var a=null;if(this._colorSpace===e)a=s(this.value);else if(this._colorSpace===t){a=m(h(this.value))}else if(this._colorSpace===i){a=f(d(this.value))}else if(this._colorSpace===n){a=_(v(this.value))}else if(this._colorSpace===o){a=A(y(this.value))}return a},set rgb(e){this.value=l(e)},get rgbValue(){return l(this.rgb)},set rgbValue(e){this.value=e},get rgba(){var e=this.rgb;return e?{r:e.r,g:e.g,b:e.b,a:this.alpha}:null},set rgba(e){this.value=c(e)},get rgbaValue(){return c(this.rgba)},set rgbaValue(e){this.value=e},get hex(){return function(e){if(e)return h(a(e.r)+a(e.g)+a(e.b));return null}(this.rgb)},set hex(e){this.value=p(e)},get hexValue(){return p(this.hex)},set hexValue(e){this.value=e},get cmyk(){var a=null;if(this._colorSpace===e)a=g(s(this.value));else if(this._colorSpace===t){a=g(m(h(this.value)))}else if(this._colorSpace===i)a=d(this.value);else if(this._colorSpace===n){a=g(_(v(this.value)))}else if(this._colorSpace===o){a=g(A(y(this.value)))}return a},set cmyk(e){this.value=u(e)},get cmykValue(){return u(this.cmyk)},set cmykValue(e){this.value=e},get hsb(){var a=null;if(this._colorSpace===e)a=C(s(this.value));else if(this._colorSpace===t){a=C(m(h(this.value)))}else if(this._colorSpace===i){a=C(f(d(this.value)))}else if(this._colorSpace===n)a=v(this.value);else if(this._colorSpace===o){a=C(A(y(this.value)))}return a},set hsb(e){this.value=b(e)},get hsbValue(){return b(this.hsb)},set hsbValue(e){this.value=e},get hsl(){var a=null;if(this._colorSpace===e)a=x(s(this.value));else if(this._colorSpace===t){a=x(m(h(this.value)))}else if(this._colorSpace===i){a=x(f(d(this.value)))}else if(this._colorSpace===n){a=x(_(v(this.value)))}else this._colorSpace===o&&(a=y(this.value));return a},set hsl(e){this.value=w(e)},get hslValue(){return w(this.hsl)},set hslValue(e){this.value=e},get hsla(){var e=this.hsl;return e?{h:e.h,s:e.s,l:e.l,a:this.alpha}:null},set hsla(e){this.value=S(e)},get hslaValue(){return S(this.hsla)},set hslaValue(e){this.value=e},clone:function(){var e=new Coral.Color;return e.value=this.value,e.alpha=this.alpha,e},isSimilarTo:function(e,t){if(null===this.rgb&&(!e||null===e.rgb))return!0;if(!e||null===e.rgb||null===this.rgb)return!1;var i=1,n=.01;!1===t&&(i=0,n=0);var o=this.rgb,a=e.rgb,r=Math.abs(a.r-o.r),s=Math.abs(a.g-o.g),l=Math.abs(a.b-o.b),c=Math.abs(this.alpha-e.alpha);return r<=i&&s<=i&&l<=i&&c<=n},calculateTintColors:function(e){var t=[],i=null,n=this.rgb;if(n)for(var o=n.r,a=n.g,r=n.b,s=1,l=1;l<=e;l++)s=l/(e+1),(i=this.clone()).rgb={r:o+(255-o)*s,g:a+(255-a)*s,b:r+(255-r)*s},t.push(i);return t},calculateShadeColors:function(e){var t=[],i=null,n=this.rgb;if(n)for(var o=n.r,a=n.g,r=n.b,s=1,l=1;l<=e;l++)s=l/(e+1),(i=this.clone()).rgb={r:o*(1-s),g:a*(1-s),b:r*(1-s)},t.push(i);return t}}}(),function(){"use strict";var e={DEFAULT:"default",SWATCH:"swatch"},t={OFF:"off",SHADES:"shades",TINTS:"tints"},i={ON:"on",OFF:"off"},n={ON:"on",OFF:"off"},o={ON:"on",OFF:"off"};Coral.register({name:"ColorInput",tagName:"coral-colorinput",className:"coral3-ColorInput",mixins:[Coral.mixin.formField,Coral.mixin.selectionList({itemTagName:"coral-colorinput-item",allowSingleModeDeselect:!0,forceSelection:!1,supportMultiple:!1})],events:{"coral-collection:add":"_onItemAddedToCollection","coral-collection:remove":"_onItemRemovedFromCollection","coral-colorinput:change":"_onColorInputSelectColor","coral-overlay:beforeopen":"_beforeOverlayOpen","coral-overlay:close":"_onOverlayClose","key:down .coral3-ColorInput-input:not([readonly])":"_onKeyDown",'key:down [handle="colorPreview"]':"_onKeyDown",'click [handle="colorPreview"]':"_onColorPreviewClick","global:click":"_onGlobalClick","key:esc input":"_onKeyEsc","key:enter input":"_onKeyEsc"},properties:{variant:{default:e.DEFAULT,validate:[Coral.validate.valueMustChange,Coral.validate.enumeration(e)],sync:function(){this.classList.toggle("coral3-ColorInput--swatch",this.variant===e.SWATCH),this.variant===e.SWATCH?(this._elements.input.setAttribute("tabindex",-1),this._elements.colorPreview.removeAttribute("tabindex")):(this._elements.input.removeAttribute("tabindex"),this._elements.colorPreview.setAttribute("tabindex",-1))}},value:{default:"",validate:[],get:function(){return this._value?this._value:""},set:function(e){var t=new Coral.Color;t.value=this.value;var i=new Coral.Color;i.value=e,i.isSimilarTo(t,!1)||(this._value=e,this._selectColorInputColor(i),this.trigger("coral-colorinput:_valuechange")),this._elements.input.value=this.value},sync:function(){var e=this.valueAsColor;this._elements.colorPreview.style.backgroundColor=e?e.rgbaValue:"",this.classList.toggle("coral3-ColorInput--novalue",""===this.value)}},name:{get:function(){return this._elements.input.name},set:function(e){this._elements.input.name=e}},disabled:{sync:function(){this.classList.toggle("is-disabled",this.disabled);var e=this._elements.input,t=this._elements.colorPreview;e.disabled=this.disabled,t.disabled=this.disabled||this.readOnly,this._syncColorPreviewIcon()}},invalid:{sync:function(){this.classList.toggle("is-invalid",this.invalid),this._elements.input.invalid=this.invalid}},readOnly:{sync:function(e){var t=this._elements.input,i=this._elements.colorPreview;t.readOnly=this.readOnly,i.disabled=this.disabled||this.readOnly,this.removeAttribute("aria-readonly")}},required:{sync:function(){this._elements.input.required=this.required}},labelledBy:{sync:function(){this.labelledBy?(this.setAttribute("aria-labelledby",this.labelledBy),this._elements.colorPreview.setAttribute("aria-labelledby",[this.labelledBy,this._elements.colorPreview.label.id].join(" "))):(this.removeAttribute("aria-labelledby"),this._elements.colorPreview.removeAttribute("aria-labelledby"))}},valueAsColor:{attribute:null,get:function(){this._color||(this._color=new Coral.Color);var e=new Coral.Color;return e.value=this.value,this._color.isSimilarTo(e,!0)||(this._color.value=e.value,this._color.alpha=e.alpha),null===this._color.rgb?null:this._color.clone()},set:function(e){this._color||(this._color=new Coral.Color),e?(this._color=e,e.alpha<1?this.value=e.rgbaValue:this.value=e.value):(this._color.value="",this.value="")}},autoGenerateColors:{default:t.OFF,attribute:"autogeneratecolors",validate:[Coral.validate.valueMustChange,Coral.validate.enumeration(t)],sync:function(){this._recalculateGeneratedColors()}},showSwatches:{default:i.ON,attribute:"showswatches",validate:[Coral.validate.valueMustChange,Coral.validate.enumeration(i)],sync:function(){this._showOrHideView(this._elements.swatchesView,this._showSwatches===Coral.ColorInput.showSwatches.OFF)}},showProperties:{default:n.ON,attribute:"showproperties",validate:[Coral.validate.valueMustChange,Coral.validate.enumeration(n)],sync:function(){this._showOrHideView(this._elements.propertiesView,this._showProperties===Coral.ColorInput.showProperties.OFF)}},showDefaultColors:{default:o.ON,attribute:"showdefaultcolors",validate:[Coral.validate.valueMustChange,Coral.validate.enumeration(o)],sync:function(){var e=this._elements.defaultPalette;this._showDefaultColors===Coral.ColorInput.showDefaultColors.ON?e.parentNode||this.insertBefore(e,this.firstChild||null):e.parentNode&&e.parentNode.removeChild(e)}},placeholder:{reflectAttribute:!0,transform:Coral.transform.string,get:function(){return this._elements.input.placeholder},set:function(e){this._elements.input.placeholder=e}}},_onColorPreviewClick:function(t){this._elements.overlay.returnFocusTo(this.variant===e.SWATCH?t.matchedTarget:this._elements.input),this._elements.overlay.open=!this._elements.overlay.open},_onGlobalClick:function(e){this._elements.overlay.open&&(this.contains(e.target)||(this._elements.overlay.open=!1))},_onItemAddedToCollection:function(e){this._elements.overlay.open&&"coral-colorinput-item"===e.detail.item.tagName.toLowerCase()&&(this._elements.overlay.open=!1)},_onItemRemovedFromCollection:function(e){this._elements.overlay.open&&"coral-colorinput-item"===e.detail.item.tagName.toLowerCase()&&(this._elements.overlay.open=!1)},_onInputChange:function(e){if(e.target===this._elements.input){e.stopPropagation();var t=new Coral.Color;t.value=e.target[this._eventTargetProperty],this._setActiveColor(t)}},_onColorInputSelectColor:function(e){var t=e.detail.selection;t&&(this.value=t.value)},_onKeyDown:function(t){t.stopPropagation(),this._elements.overlay.returnFocusTo(this.variant===e.SWATCH?t.matchedTarget:this._elements.input),this._elements.overlay.open=!0},_onKeyEsc:function(){this._elements.overlay.open&&(this._elements.overlay.open=!1)},_beforeOverlayOpen:function(){this.showProperties===Coral.ColorInput.showProperties.ON?this._elements.overlay.focusOnShow=this._elements.propertiesView._elements.colorPreview2:this.showSwatches===Coral.ColorInput.showSwatches.ON&&(this._elements.overlay.focusOnShow=this._elements.overlay.querySelector("coral-colorinput-swatch[selected] > button")||"coral-colorinput-swatch > button"),this._elements.colorPreview.setAttribute("aria-expanded",!0)},_onOverlayClose:function(){this._elements.colorPreview.setAttribute("aria-expanded",!1)},_validateInputValue:function(){this.invalid=""!==this.value&&null===this.valueAsColor},_showOrHideView:function(e,t){e.hidden=t,this._elements.overlay.classList.remove("coral3-ColorInput-onlySwatchesView","coral3-ColorInput-onlyPropertiesView"),!this._elements.propertiesView.hidden&&this._elements.swatchesView.hidden?this._elements.overlay.classList.add("coral3-ColorInput-onlyPropertiesView"):this._elements.propertiesView.hidden&&!this._elements.swatchesView.hidden&&this._elements.overlay.classList.add("coral3-ColorInput-onlySwatchesView"),this.showProperties===Coral.ColorInput.showProperties.OFF&&this.showSwatches===Coral.ColorInput.showSwatches.ON?(this._elements.colorPreview.label.textContent=Coral.i18n.get("Swatches"),this._elements.overlay.setAttribute("aria-label",Coral.i18n.get("Swatches"))):(this._elements.colorPreview.label.textContent=Coral.i18n.get("Color Picker"),this._elements.overlay.setAttribute("aria-label",Coral.i18n.get("Color Picker")))},_recalculateGeneratedColors:function(){for(var e=this.querySelectorAll("coral-colorinput-item[coral-colorinput-generatedcolor]"),i=e.length,n=0;n<i;n++)e[n].remove();if(this.autoGenerateColors!==t.OFF){var o=this.items.getAll(),a=null,r=null,s=0,l=0,c=null,d=[];for(s=0;s<o.length;s++)for(a=o[s],(r=new Coral.Color).value=a.value,l=(d=this.autoGenerateColors===t.TINTS?r.calculateTintColors(5):r.calculateShadeColors(5)).length-1;l>=0;l--)(c=new Coral.ColorInput.Item).value=d[l].rgbaValue,c.setAttribute("coral-colorinput-generatedcolor",""),a.parentNode.insertBefore(c,a.nextSibling)}},_syncColorPreviewIcon:function(){var t=this._elements.colorPreview;t.icon=this.disabled&&this.variant===e.SWATCH?"lockOn":"",t.iconSize=Coral.Icon.size.SMALL},_setActiveColor:function(e){var t=this.valueAsColor?this.valueAsColor:new Coral.Color;this.valueAsColor=e,t.isSimilarTo(this.valueAsColor,!1)||(this._validateInputValue(),this.trigger("change"))},_selectColorInputColor:function(e){var t=!0;if(this.selectedItem){var i=new Coral.Color;i.value=this.selectedItem.value,t=!i.isSimilarTo(e,!0)}if(t){this.items.deselectAll();for(var n=this.items.getAll(),o=n.length,a=null,r=0;r<o;r++)if((a=new Coral.Color).value=n[r].getAttribute("value"),a.isSimilarTo(e,!0)){n[r].setAttribute("selected","true");break}}},_initialize:function(){this.setAttribute("role","combobox"),this.setAttribute("aria-expanded",!1)},_render:function(){this.appendChild(Coral.templates.ColorInput.defaultColorPalette.call(this._elements)),this.appendChild(Coral.templates.ColorInput.base.call(this._elements));var e=this._elements.overlay;e.target=this,this._elements.propertiesView=e.appendChild(new Coral.ColorInput.ColorProperties),this._elements.swatchesView=e.appendChild(new Coral.ColorInput.Swatches)}}),Coral.ColorInput.autoGenerateColors=t,Coral.ColorInput.showSwatches=i,Coral.ColorInput.showProperties=n,Coral.ColorInput.showDefaultColors=o,Coral.ColorInput.variant=e}(),function(){"use strict";Coral.register({name:"ColorInput.Item",tagName:"coral-colorinput-item",mixins:[Coral.mixin.selectionList.Item({listSelector:"coral-colorinput",alwaysEnabled:!0})],properties:{value:{default:"",reflectAttribute:!0,transform:function(e){var t=new Coral.Color;return t.value=e,null!==t.rgb?e:""}}}})}(),function(){"use strict";Coral.register({name:"ColorInput.AbstractSubview",tagName:"coral-colorinput-abstractsubview",events:{"click .coral3-ColorInput-preview":"_onPreviewClicked"},attachedCallback:function(){var e=this.closest("coral-colorinput");e&&(this.__beforeOverlayOpen=this._beforeOverlayOpen.bind(this),this.__onColorInputChange=this._onColorInputChange.bind(this),this._colorinput=e,this._colorinput.on("coral-overlay:beforeopen",this.__beforeOverlayOpen),this._colorinput.on("coral-colorinput:_valuechange",this.__onColorInputChange),this._onColorInputChange())},detachedCallback:function(){this._colorinput&&(this._colorinput.off("coral-overlay:beforeopen",this.__beforeOverlayOpen),this._colorinput.off("coral-colorinput:_valuechange",this.__onColorInputChange)),this._colorinput=null},_onPreviewClicked:function(){null!==this._colorinput.valueAsColor?(Coral.ColorInput.AbstractSubview._lastValidColor=this._colorinput.valueAsColor,this._colorinput._setActiveColor(null)):null!==Coral.ColorInput.AbstractSubview._lastValidColor&&this._colorinput._setActiveColor(Coral.ColorInput.AbstractSubview._lastValidColor)},_beforeOverlayOpen:function(){},_onColorInputChange:function(){}}),Coral.ColorInput.AbstractSubview._lastValidColor=null}(),function(){"use strict";Coral.register({name:"ColorInput.Slider",tagName:"coral-colorinput-slider",className:"coral3-ColorInput-slider coral3-Slider",extend:Coral.Slider,properties:{gradient:{default:"",sync:function(){var e=this._elements.sliderBar.style,t=this.gradient.split(" "),i=t.length;if(e.backgroundImage="none",e.filter="",!(i<2)){var n=0,o="";for(n=0;n<i;n++)o+=", "+t[n]+" "+Math.abs(100*n/(i-1))+"%";e.backgroundImage="-moz-linear-gradient(right"+o+")",e.backgroundImage="-ms-linear-gradient(right"+o+")",e.backgroundImage="-o-linear-gradient(right"+o+")",e.backgroundImage="-webkit-linear-gradient(left"+o+")",e.backgroundImage="linear-gradient(to right"+o+")",e.filter="progid:DXImageTransform.Microsoft.gradient(startColorstr='"+t[0]+"', endColorstr='"+t[1]+"', gradientType=1)"}}},labelledBy:{sync:function(){this.labelledBy&&this._updateForAttributes(this.labelledBy,this._getLabellableElement().id)}}},_getLabellableElement:function(){return this._elements.leftInput},_renderTemplate:function(){this.appendChild(Coral.templates.ColorInput.sliderBase.call(this._elements))}})}(),function(){"use strict";Coral.register({name:"ColorInput.ColorProperties",tagName:"coral-colorinput-colorproperties",className:"coral3-ColorInput-colorProperties",extend:Coral.ColorInput.AbstractSubview,events:{'change [handle="redSlider"]':"_onRedSliderChange",'change [handle="greenSlider"]':"_onGreenSliderChange",'change [handle="blueSlider"]':"_onBlueSliderChange",'change [handle="alphaSlider"]':"_onAlphaSliderChange","change .coral3-ColorInput-editHex":"_onChangeHex","change .coral3-ColorInput-editRgba":"_onChangeRgba"},_render:function(){this.appendChild(Coral.templates.ColorInput.colorProperties.call(this._elements))},_onColorInputChange:function(){var e,t=this._colorinput.valueAsColor,i=this._elements.colorPreview2;t?(e=t.rgba,i.style.backgroundColor=t.rgbValue,i.setAttribute("aria-pressed","false"),i.setAttribute("aria-label",Coral.i18n.get("{value}, Color",{value:1===parseFloat(e.a)?t.value:t.rgbaValue})),this._elements.hexInput.value=t.hexValue.substr(1)):(i.setAttribute("aria-pressed","true"),i.setAttribute("aria-label",Coral.i18n.get("Color not set")),this._elements.hexInput.value="");var n,o,a,r,s,l=["red","green","blue","alpha"],c=l.length;Coral.commons.ready(this,(function(i){for(n=0;n<c;n++)a=(o=l[n]).substr(0,1),s=(r=n===c-1)?100:127,t&&(s=e?r?parseInt(100*e[a],10):e[a]:""),i._elements[o+"Slider"].value=i._elements[o+"Input"].value=s})),i===document.activeElement&&(i.blur(),setTimeout((function(){i.focus()}),100))},_onRedSliderChange:function(e){this._elements.redInput.value=this._elements.redSlider.value,this._onChangeRgba(e)},_onGreenSliderChange:function(e){this._elements.greenInput.value=this._elements.greenSlider.value,this._onChangeRgba(e)},_onBlueSliderChange:function(e){this._elements.blueInput.value=this._elements.blueSlider.value,this._onChangeRgba(e)},_onAlphaSliderChange:function(e){this._elements.alphaInput.value=this._elements.alphaSlider.value,this._onChangeRgba(e)},_onChangeHex:function(e){e.stopPropagation();var t="#"+this._elements.hexInput.value,i=new Coral.Color;i.value=t,null===i.hex?(this._elements.hexInput.value="",null!==this._colorinput.valueAsColor&&(Coral.ColorInput.AbstractSubview._lastValidColor=this._colorinput.valueAsColor),this._colorinput._setActiveColor(null)):this._colorinput._setActiveColor(i)},_onChangeRgba:function(e){e.stopPropagation();var t=parseInt(this._elements.redInput.value,10),i=parseInt(this._elements.greenInput.value,10),n=parseInt(this._elements.blueInput.value,10),o=parseInt(this._elements.alphaInput.value,10),a=!0;if((isNaN(t)||t<0||t>255)&&(a=!1,this._elements.redInput.value=""),(isNaN(i)||i<0||i>255)&&(a=!1,this._elements.greenInput.value=""),(isNaN(n)||n<0||n>255)&&(a=!1,this._elements.blueInput.value=""),(isNaN(o)||o<0||o>100)&&(a=!1,this._elements.alphaInput.value=""),a){var r=new Coral.Color;r.rgba={r:t,g:i,b:n,a:o/100},this._colorinput._setActiveColor(r)}}})}(),function(){"use strict";Coral.register({name:"ColorInput.Swatches",tagName:"coral-colorinput-swatches",className:"coral3-ColorInput-swatches",extend:Coral.ColorInput.AbstractSubview,mixins:[Coral.mixin.selectionList({itemTagName:"coral-colorinput-swatch",allowSingleModeDeselect:!0,forceSelection:!1,supportMultiple:!1})],events:{"click coral-colorinput-swatch":"_onSwatchClicked","keydown .coral3-ColorInput-swatch":"_onKeyDown","capture:focus coral-colorinput-swatch":"_onFocus"},_render:function(){this.appendChild(Coral.templates.ColorInput.swatchesHeader.call(this._elements)),this.setAttribute("aria-labelledby",this._elements.swatchesHeaderTitle.id)},_beforeOverlayOpen:function(){var e=this._colorinput.items.getAll(),t=!1;if(this._cachedColorElements){if(this._cachedColorElements.length!==e.length)t=!0;else if(this._cachedColorElements.length===e.length)for(var i=0;i<e.length;i++)if(this._cachedColorElements[i]!==e[i]){t=!0;break}}else t=!0;this._cachedColorElements=e,t&&this._layoutColorSwatch(),this._ensureKeyboardAccess()},_onColorInputChange:function(){this._ensureKeyboardAccess()},_ensureKeyboardAccess:function(){if(!this.querySelector("coral-colorinput-swatch[selected]")){var e=this.querySelector("coral-colorinput-swatch");e&&(e.tabIndex=0)}},_layoutColorSwatch:function(){this._elements.swatchesContainer.innerHtml="";for(var e=this._colorinput.items.getAll(),t=e.length,i=!1,n=0;n<t;n++){var o=e[n],a=new Coral.ColorInput.Swatch;this._elements.swatchesContainer.appendChild(a),a.targetColor=o,o.selected&&(a.selected=o.selected,i=!0),a.setAttribute("aria-selected",a.selected),a.tabIndex=a.selected?0:-1}i||this._ensureKeyboardAccess()},_onSwatchClicked:function(e){e.stopPropagation();var t=e.target.closest("coral-colorinput-swatch");if(!t.selected){var i=new Coral.Color;i.value=t.targetColor?t.targetColor.value:"",this._colorinput._setActiveColor(i),t.selected=!0}t.firstChild.focus()},_onKeyDown:function(e){var t=this._colorinput._elements.overlay;if(t.open){var i=this.items.getAll(),n=!0,o=i.indexOf(e.matchedTarget);switch(e.which){case 13:Coral.commons.nextFrame((function(){t.open=!1}));break;case 37:o-=1;break;case 38:o-=4;break;case 39:o+=1;break;case 40:o+=4;break;default:n=!1}if(n){if(e.preventDefault(),o<0||o>=i.length)return;var a=i[o],r=new Coral.Color;r.value=a.targetColor?a.targetColor.value:"",this._colorinput._setActiveColor(r),a.selected=!0,a.firstChild.focus()}}},_onFocus:function(e){for(var t=this.items.getAll(),i=0;i<t.length;i++){var n=t[i];n.contains(e.matchedTarget)||(n.tabIndex=-1)}e.matchedTarget.tabIndex=0}})}(),function(){"use strict";Coral.register({name:"ColorInput.Swatch",tagName:"coral-colorinput-swatch",className:"coral3-ColorInput-swatch",extend:Coral.ColorInput.AbstractSubview,mixins:[Coral.mixin.selectionList.Item({listSelector:"coral-colorinput-swatches",alwaysEnabled:!0})],properties:{targetColor:{default:null,attribute:"targetcolor",set:function(e){"string"==typeof e&&(e=this.querySelector(e)),this._targetColor=e},sync:function(){var e="",t="";if(this._targetColor){var i=new Coral.Color;i.value=this._targetColor.value,e=i.rgbaValue,t=i.hexValue}e?(this._elements.colorButton.style.backgroundColor=e,this._elements.colorButton.label.textContent=t,this.setAttribute("aria-value",t)):(this._elements.colorButton.classList.add("coral3-ColorInput-swatch-novalue"),this._elements.colorButton.label.textContent=Coral.i18n.get("unset"),this.setAttribute("aria-value",""))}},disabled:Coral.property.proxy({path:"_elements.colorButton.disabled"}),selected:{sync:function(){this.selected?this._elements.colorButton.setAttribute("aria-label",Coral.i18n.get("checked")+" "+this._elements.colorButton.label.textContent):this._elements.colorButton.removeAttribute("aria-label")}},tabIndex:Coral.property.proxy({path:"_elements.colorButton.tabIndex"})},_render:function(){this._elements.colorButton=new Coral.Button,this._elements.colorButton.icon="check",this._elements.colorButton.type="button",this._elements.colorButton.setAttribute("role","presentation"),this._elements.colorButton.label.classList.add("u-coral-screenReaderOnly"),this.appendChild(this._elements.colorButton)},_onColorInputChange:function(){this.targetColor&&(this.selected=this.targetColor.selected)}})}(),window.Coral=window.Coral||{},window.Coral.strings=window.Coral.strings||{},window.Coral.strings["coralui-component-columnview"]={"en-US":{", checked":", checked",", unchecked":", unchecked"},"de-DE":{", checked":", markiert",", unchecked":", nicht markiert"},"fr-FR":{", checked":", cochée",", unchecked":", pas cochée"},"it-IT":{", checked":", selezionata",", unchecked":", non selezionata"},"ja-JP":{", checked":"、チェック",", unchecked":"、未チェック"},"es-ES":{", checked":", marcada",", unchecked":", desmarcada"},"ko-KR":{", checked":", 선택됨",", unchecked":", 선택되지 않은"},"zh-CN":{", checked":"，选中",", unchecked":"，未选中"},"zh-TW":{", checked":"，選中",", unchecked":"，未選中"},"pt-BR":{", checked":", marcada",", unchecked":", desmarcada"},"nl-NL":{", checked":", geselecteerd",", unchecked":", neit geselecteerd"},"da-DK":{", checked":", valgte",", unchecked":", ikke valgt"},"fi-FI":{", checked":", valittu",", unchecked":", valittuna"},"nb-NO":{", checked":", valgt",", unchecked":", ikke valgt"},"sv-SE":{", checked":", markerad",", unchecked":", avmarkerad"},"cs-CZ":{", checked":", vybráno",", unchecked":", není vybráno"},"pl-PL":{", checked":", zaznaczone",", unchecked":", nie zaznaczone"},"ru-RU":{", checked":", выбранный",", unchecked":", неотобранный"},"tr-TR":{", checked":", seçilmiş",", unchecked":", seçilmemiş"}},window.Coral=window.Coral||{},window.Coral.templates=window.Coral.templates||{},window.Coral.templates.ColumnView=window.Coral.templates.ColumnView||{},window.Coral.templates.ColumnView.loadIndicator=function(e){var t=document.createElement("div");t.className+=" coral3-ColumnView-column-loading";var i=document.createTextNode("\n  ");t.appendChild(i);var n=document.createElement("coral-wait");n.setAttribute("centered",""),t.appendChild(n);var o=document.createTextNode("\n");return t.appendChild(o),t},function(){"use strict";function e(e){return e.hasAttribute("coral-interactive")||null!==e.closest("[coral-interactive]")}var t={NONE:"none",SINGLE:"single",MULTIPLE:"multiple"};Coral.register({name:"ColumnView",tagName:"coral-columnview",className:"coral3-ColumnView",events:{"global:keyup":"_onGlobalKeyUp","global:keydown":"_onGlobalKeyDown","key:up":"_onKeyUp","key:down":"_onKeyDown","key:right":"_onKeyRight","key:left":"_onKeyLeft","key:shift+up":"_onKeyShiftAndUp","key:shift+down":"_onKeyShiftAndDown","key:space":"_onKeySpace","key:control+a":"_onKeyCtrlA","key:command+a":"_onKeyCtrlA","key:control+shift+a":"_onKeyCtrlShiftA","key:command+shift+a":"_onKeyCtrlShiftA","key:esc":"_onKeyCtrlShiftA","capture:focus coral-columnview-item":"_onItemFocus","mousedown coral-columnview-item":"_onItemMouseDown","mouseup coral-columnview-item":"_onItemMouseUp","coral-columnview-column:_loaditems":"_onColumnLoadItems","coral-columnview-column:_activeitemchanged":"_onColumnActiveItemChanged","coral-columnview-column:_selecteditemchanged":"_onColumnSelectedItemChanged"},properties:{columns:{get:function(){return this._columns||(this._columns=new Coral.ColumnView.Collection({host:this,itemTagName:"coral-columnview-column"})),this._columns},set:function(){}},items:{get:function(){return this._items||(this._items=new Coral.ColumnView.Collection({host:this,itemTagName:"coral-columnview-item"})),this._items},set:function(){}},selectionMode:{default:t.NONE,attribute:"selectionmode",validate:[Coral.validate.valueMustChange,Coral.validate.enumeration(t)],set:function(e){this._selectionMode=e,this.columns.getAll().forEach((function(t){t.setAttribute("_selectionmode",e)}))},sync:function(){this.classList.remove(this._className+"--selection"),this.selectionMode!==Coral.ColumnView.selectionMode.NONE&&this.classList.add(this._className+"--selection"),this.setAttribute("aria-multiselectable",this.selectionMode===Coral.ColumnView.selectionMode.MULTIPLE)}},selectedItem:{get:function(){return this.selectionMode!==t.NONE?this.items.getFirstSelected():null},set:function(){}},selectedItems:{get:function(){return this.selectionMode!==t.NONE?this.items.getSelected():[]},set:function(){}},activeItem:{get:function(){return this.items.getLastActive()},set:function(){}}},_onColumnActiveItemChanged:function(e){if(e.stopImmediatePropagation(),!this._bulkSelectionChange){var t=e.target;if(this._handleKeyboardMultiselect(null),this._bulkSelectionChange=!0,e.detail.activeItem){this.items.deselectAll();for(var i=t.nextElementSibling;i;)Array.prototype.forEach.call(i.querySelectorAll("coral-columnview-item[active]"),(function(e){e.removeAttribute("active")})),i=i.nextElementSibling}else this._afterItemSelectedInColumn(t);this._bulkSelectionChange=!1,this._validateColumnViewChange()}},_onColumnLoadItems:function(e){e.stopImmediatePropagation(),this._updateAriaLevel(e.target),this._ensureTabbableItem(),this.trigger("coral-columnview:loaditems",{column:e.target,start:e.detail.start,item:e.detail.item})},_onItemAdd:function(){this._ensureTabbableItem()},_onItemRemoved:function(){this._ensureTabbableItem()},_ensureTabbableItem:function(){var e=this;e._vent.off("coral-collection:add",e._onItemAdd),e._vent.off("coral-collection:remove",e._onItemRemoved),e._timeout&&(cancelAnimationFrame(e._timeout),clearTimeout(e._timeout)),this._timeout=Coral.commons.nextFrame((function(){if(e.selectedItem||e.activeItem)e.selectedItem&&0!==e.selectedItem.tabIndex?e.selectedItem.tabIndex=0:e.activeItem&&0!==e.activeItem.tabIndex&&(e.activeItem.tabIndex=0);else{var t=e.items._getSelectableItems();t.length?(t[0].tabIndex=0,e._vent.on("coral-collection:remove",e._onItemRemoved)):(e._vent.off("coral-collection:remove",e._onItemRemoved),e._vent.on("coral-collection:add",e._onItemAdd))}}))},_onColumnSelectedItemChanged:function(e){e.stopImmediatePropagation(),this._bulkSelectionChange||this.selectionMode===t.NONE||(this._bulkSelectionChange=!0,this._oldSelection.forEach((function(t){-1===e.detail.selection.indexOf(t)&&t.removeAttribute("selected")})),this._bulkSelectionChange=!1,this._validateColumnViewChange())},_onGlobalKeyUp:function(e){16===e.keyCode&&this.classList.remove("is-unselectable")},_onGlobalKeyDown:function(t){16!==t.keyCode||e(t.target)||this.classList.add("is-unselectable")},_onKeyShiftAndUp:function(i){if(!this._getRealMatchedTarget(i).closest("coral-columnview-preview")&&!e(i.target))if(i.preventDefault(),this.selectionMode!==t.NONE){var n=this._oldSelection;if(this._isKeyBoardMultiselect=!0,0===n.length){var o=this.activeItem;o&&o.setAttribute("selected","")}var a,r=this._items._getSelectedItems(),s=this._lastSelected;if(s){if(s.item){if((a=s.item).matches(":first-child"))return void(this._isKeyBoardMultiselect=!1);s.direction&&"up"!==s.direction?(a!==s.firstSelectedItem?a.removeAttribute("selected"):s.direction="up",(a=a.previousElementSibling).setAttribute("selected","")):(a=a.previousElementSibling).setAttribute("selected","")}}else(a=r[0].previousElementSibling).setAttribute("selected","");this._lastSelected={item:a,direction:s&&s.direction?s.direction:"up",firstSelectedItem:s&&s.firstSelectedItem?s.firstSelectedItem:a.nextElementSibling},a&&a!==document.activeElement&&a.focus(),this._isKeyBoardMultiselect=!1}else this._onKeyUp(i)},_onKeyShiftAndDown:function(i){if(!this._getRealMatchedTarget(i).closest("coral-columnview-preview")&&!e(i.target))if(i.preventDefault(),this.selectionMode!==t.NONE){var n=this._oldSelection;if(this._isKeyBoardMultiselect=!0,0===n.length){var o=this.activeItem;o&&o.setAttribute("selected","")}var a,r=this._items._getSelectedItems(),s=this._lastSelected;if(s){if(s.item){if((a=s.item).matches(":last-child"))return void(this._isKeyBoardMultiselect=!1);s.direction&&"down"!==s.direction?(a!==s.firstSelectedItem?a.removeAttribute("selected"):s.direction="down",(a=a.nextElementSibling).setAttribute("selected","")):(a=a.nextElementSibling).setAttribute("selected","")}}else(a=r[r.length-1].nextElementSibling).setAttribute("selected","");this._lastSelected={item:a,direction:s&&s.direction?s.direction:"down",firstSelectedItem:s&&s.firstSelectedItem?s.firstSelectedItem:a.previousElementSibling},a&&a!==document.activeElement&&a.focus(),this._isKeyBoardMultiselect=!1}else this._onKeyDown(i)},_onKeyUp:function(i){var n=this._getRealMatchedTarget(i);if(!n.closest("coral-columnview-preview")&&!e(i.target)){i.preventDefault();var o,a=this._oldSelection;if(0!==a.length){var r=n;(o=r.previousElementSibling)||(o=r)}else o=null===this._oldActiveItem?this.items._getSelectableItems().pop():this._oldActiveItem.previousElementSibling;o&&o!==document.activeElement&&(o.focus(),this.selectionMode!==t.NONE&&0!==a.length&&o.parentElement===a[0].parentElement||o.click())}},_onKeyDown:function(i){var n=this._getRealMatchedTarget(i);if(!n.closest("coral-columnview-preview")&&!e(i.target)){i.preventDefault();var o,a=this._oldSelection;if(0!==a.length){var r=n;(o=r.nextElementSibling)||(o=r)}else o=null===this._oldActiveItem?this.items._getSelectableItems()[0]:this._oldActiveItem.nextElementSibling;o&&o!==document.activeElement&&(o.focus(),this.selectionMode!==t.NONE&&0!==a.length&&o.parentElement===a[0].parentElement||o.click())}},_onKeyRight:function(t){var i=this._getRealMatchedTarget(t);if(i.variant!==Coral.ColumnView.Item.variant.DRILLDOWN)return!1;if(!e(t.target)){var n;t.preventDefault();var o=this._oldSelection;if(i?n=i.closest("coral-columnview-column").nextElementSibling:0!==o.length&&(n=o[0].closest("coral-columnview-column").nextElementSibling),n){var a=this;Coral.commons.ready(n,(function(){a._focusAndActivateFirstSelectableItem(n)}))}}},_onKeyLeft:function(i){if(!e(i.target)){var n;i.preventDefault();var o=this._oldSelection;if(0!==o.length)n=o[0].closest("coral-columnview-column").previousElementSibling;else if(this.activeItem){var a=this.activeItem.closest("coral-columnview-column");n=i.target.closest("coral-columnview-preview")?a:a.previousElementSibling}if(n&&"CORAL-COLUMNVIEW-COLUMN"===n.tagName){var r=this;Coral.commons.ready(n,(function(){var e=n.activeItem||n.items._getSelectedItems()[0]||n.items._getSelectableItems()[0];e&&e!==document.activeElement&&(e.focus(),r.selectionMode!==t.NONE&&0!==o.length||e.click())}))}}},_onKeySpace:function(i){var n=this._getRealMatchedTarget(i);if(!n.closest("coral-columnview-preview")&&!e(i.target)){i.preventDefault();var o,a=this._oldSelection;if(0!==a.length)(o=n).hasAttribute("selected","")?1===a.length?o.setAttribute("active",""):o.removeAttribute("selected",""):o.setAttribute("selected","");else{var r=this.activeItem||n;r&&this.selectionMode!==t.NONE&&(r.setAttribute("selected",""),o=r)}}},_onKeyCtrlA:function(e){e.preventDefault();var i=this._getRealMatchedTarget(e);i.closest("coral-columnview-preview")||(this.selectionMode===t.MULTIPLE?i.closest("coral-columnview-column").items._selectAll():this.selectionMode===t.SINGLE&&(i.hasAttribute("selected")||i.setAttribute("selected","")))},_onKeyCtrlShiftA:function(e){e.preventDefault();var i=this._getRealMatchedTarget(e);i.closest("coral-columnview-preview")||this.selectionMode!==t.NONE&&(i.closest("coral-columnview-column").items.deselectAndDeactivateAllExcept(e.target),i.hasAttribute("active")||i.setAttribute("active",""))},_arraysAreDifferent:function(e,t){var i=[];return t.length===e.length&&(i=t.filter((function(t){return-1===e.indexOf(t)}))),t.length!==e.length||0!==i.length},_handleKeyboardMultiselect:function(e){this._isKeyBoardMultiselect||(this._lastSelected=void 0,e&&(this._lastSelected={item:e,direction:null,firstSelectedItem:e}))},_scrollColumnIntoView:function(e,t,i){var n=0;if(this.contains(e)){var o=this;if(e.getBoundingClientRect().left+e.offsetWidth>=this.offsetWidth){for(var a=e.nextElementSibling;a;)a.parentNode.removeChild(a),a=e.nextElementSibling;(function e(t,i,n,o){if(n<=0)o&&o();else{var a=(i-t.scrollLeft)/n*10;window.setTimeout((function(){t.scrollLeft=t.scrollLeft+a,t.scrollLeft===i?o&&o():e(t,i,n-10)}),10)}})(this,n=this.scrollWidth-this.offsetWidth,n-this.scrollLeft,(function(){t&&o._removeEmptyColumnsWithSmoothTransition(i)}))}else t&&this._removeEmptyColumnsWithSmoothTransition(i)}},_afterItemSelectedInColumn:function(e){this._emptyColumnsNextToColumn(e),this._scrollColumnIntoView(e,!0,!0)},_emptyColumnsNextToColumn:function(e){if(null!==e)for(var t=e.nextElementSibling;t&&t.innerHTML.length;)t.innerHTML="",t=t.nextElementSibling},_removeEmptyColumnsWithSmoothTransition:function(e){var t=Array.prototype.filter.call(this.querySelectorAll("coral-columnview-column, coral-columnview-preview"),(function(e){return!e.firstChild})),i=this;t.length?t.forEach((function(n,o){n.style.visibility="hidden",n.classList.add("is-collapsing"),Coral.commons.transitionEnd(n,(function(){n.remove(),o===t.length-1&&e&&i._validateNavigation(i.columns.last())})),n.style.width=0})):e&&i._validateNavigation(i.columns.last())},_triggerCollectionEvents:function(e,t){for(var i,n=e.length,o=0;o<n;o++)i=e[o],this.activeItem&&(this.activeItem.setAttribute("aria-owns",i.id),i.setAttribute("aria-labelledby",this.activeItem.id),"CORAL-COLUMNVIEW-PREVIEW"===i.tagName&&this.activeItem.setAttribute("aria-describedby",i.id)),"CORAL-COLUMNVIEW-COLUMN"===i.tagName&&(i.setAttribute("_selectionmode",this.selectionMode),this.trigger("coral-collection:add",{item:i}),this._updateAriaLevel(i));for(var a=t.length,r=0;r<a;r++)"CORAL-COLUMNVIEW-COLUMN"===(i=t[r]).tagName&&this.trigger("coral-collection:remove",{item:i})},_setStateFromDOM:function(){if(this._oldActiveItem=this.activeItem,this._oldSelection=this.selectedItems,this._ensureTabbableItem(),this.columns){var e=this.columns.getAll(),t=this;e.forEach((function(e){t._updateAriaLevel(e)}))}},_handleMutation:function(e){for(var t=e.length,i=0;i<t;i++){var n=e[i];this._triggerCollectionEvents(n.addedNodes,n.removedNodes)}this._setStateFromDOM()},_validateColumnViewChange:function(){var e=this.activeItem,i=this._oldActiveItem||null;if(e!==i&&(this.trigger("coral-columnview:activeitemchange",{activeItem:e,oldActiveItem:i}),this._oldActiveItem=e),this.selectionMode!==t.NONE){var n=this.selectedItems,o=this._oldSelection||[],a=n.filter((function(e){return-1===o.indexOf(e)}));this._handleKeyboardMultiselect(a.length>0?a[0]:null),this._arraysAreDifferent(n,o)&&(this.trigger("coral-columnview:change",{selection:n,oldSelection:o}),this._oldSelection=n,this._announceActiveElementState())}},_onItemFocus:function(t){if(!e(t.target)){var i=this._getRealMatchedTarget(t);this.activeItem||this._oldSelection.length||i._flagMouseDown||i.setAttribute("active",""),this._items._getSelectableItems().forEach((function(e){e.tabIndex=e===i?0:-1}))}},_onItemMouseDown:function(t){e(t.target)||(this._getRealMatchedTarget(t)._flagMouseDown=!0)},_onItemMouseUp:function(t){e(t.target)||delete this._getRealMatchedTarget(t)._flagMouseDown},_updateAriaLevel:function(e){var t=this.columns.getAll().indexOf(e),i=t+1;e.items&&e.items.getAll().filter((function(t,i){return t.setAttribute("aria-posinset",i+1),t.setAttribute("aria-setsize",e.items.length),!t.hasAttribute("aria-level")})).forEach((function(e){e.setAttribute("aria-level",i)})),0!==t?e.hasAttribute("aria-labelledby")?e.getAttribute("aria-label")===(this.getAttribute("aria-label")||"…")&&e.removeAttribute("aria-label"):e.hasAttribute("aria-label")||e.setAttribute("aria-label",this.getAttribute("aria-label")||"…"):e.setAttribute("role","presentation")},_announceActiveElementState:function(){var e=this._elements.accessibilityState;function t(){e.hidden=!0,e.setAttribute("aria-live","off"),e.innerHTML=""}t(),(this._addTimeout||this._removeTimeout)&&(clearTimeout(this._addTimeout),clearTimeout(this._removeTimeout));var i=this;this._addTimeout=setTimeout((function(){var n=document.activeElement;if(i.contains(n)&&"CORAL-COLUMNVIEW-ITEM"===n.tagName){var o=document.createElement("span"),a=document.createElement("span"),r=!n.hasAttribute("lang")&&n.closest("[lang]")?n.closest("[lang]").getAttribute("lang"):n.getAttribute("lang");r&&r!==Coral.i18n.locale&&a.setAttribute("lang",r),a.innerText=n._elements.content.innerText,o.appendChild(a),o.appendChild(document.createTextNode(Coral.i18n.get(n.selected?", checked":", unchecked"))),e.hidden=!1,e.setAttribute("aria-live","assertive"),e.appendChild(o),i._removeTimeout=setTimeout(t,2e3)}}),20)},_initialize:function(){this.setAttribute("role","tree"),this.setAttribute("tabindex","-1");var e=this._elements.accessibilityState=document.createElement("span");e.className="u-coral-screenReaderOnly",e.setAttribute("role","presentation"),e.setAttribute("aria-live","off"),e.setAttribute("aria-atomic","true"),e.hidden=!0,this.insertBefore(e,this.firstChild),this._bulkSelectionChange=!1,this._observer=new MutationObserver(this._handleMutation.bind(this)),this._observer.observe(this,{childList:!0}),this._setStateFromDOM(),this._vent.on("coral-collection:add",this._onItemAdd)},_focusAndActivateFirstSelectableItem:function(e){var i,n=this.selectedItems;e.items?i=e.items._getSelectableItems()[0]:"CORAL-COLUMNVIEW-PREVIEW"===e.tagName&&(i=n[0]||this.activeItem),i&&document.activeElement!==i&&(i.focus(),this.selectionMode!==t.NONE&&0!==this._oldSelection.length&&0!==n.length&&i.parentElement===n[0].parentElement||i.click())},focus:function(){var e=this.selectedItems[0]||this.activeItem;e&&e!==document.activeElement&&e.focus()},setNextColumn:function(e,t,i){i=void 0===i||i;var n=t||null,o=!1;if(null!==n&&this.contains(n)){var a=n.nextElementSibling;if(a){o=a.contains(document.activeElement),this._emptyColumnsNextToColumn(n);var r=a.nextElementSibling;this.removeChild(a),this.insertBefore(e,r)}else this.appendChild(e)}else this.appendChild(e);var s=this;Coral.commons.ready(e,(function(){i&&s._scrollColumnIntoView(e,!0,!1),s._validateNavigation(e),o&&s._focusAndActivateFirstSelectableItem(e)}))},_validateNavigation:function(e){"CORAL-COLUMNVIEW-PREVIEW"===e.tagName&&0!==this._oldSelection.length||this.trigger("coral-columnview:navigate",{activeItem:this.activeItem,column:e})},_getRealMatchedTarget:function(e){return"CORAL-COLUMNVIEW"!==e.matchedTarget.nodeName?e.matchedTarget:e.matchedTarget.contains(document.activeElement)&&"CORAL-COLUMNVIEW-ITEM"===document.activeElement.nodeName?document.activeElement:e.matchedTarget.selectedItem?e.matchedTarget.selectedItem:e.matchedTarget.activeItem?e.matchedTarget.activeItem:void 0}}),Coral.ColumnView.selectionMode=t,Coral.ColumnView.isInteractiveTarget=e}(),function(){"use strict";var e=function(e){this._host=e.host,this._target=e.target||this._host,this._itemTagName=e.itemTagName};(e.prototype=Object.create(Coral.Collection.prototype)).add=function(e,t){if(!(e instanceof HTMLElement)){var i=e;(e=document.createElement(this._itemTagName)).set(i,!0)}return this._target.insertBefore(e,t),e},e.prototype.getAll=function(){return Array.prototype.slice.call(this._host.getElementsByTagName(this._itemTagName))},e.prototype.getSelected=function(){return this._getSelectedItems()},e.prototype.getFirstSelected=function(){return this._getSelectedItems()[0]||null},e.prototype.getLastSelected=function(){return this._getSelectedItems().pop()||null},e.prototype.getFirstActive=function(){return this._getActiveItems()[0]||null},e.prototype.getLastActive=function(){return this._getActiveItems().pop()||null},e.prototype._selectAll=function(){this._getAllItems().forEach((function(e){e.hasAttribute("selected")||e.setAttribute("selected","")}))},e.prototype.deselectAll=function(){this._getAllItems().forEach((function(e){e.hasAttribute("selected")&&e.removeAttribute("selected")}))},e.prototype.deselectAllExcept=function(e){this._getAllItems().forEach((function(t){t.hasAttribute("selected")&&t!==e&&t.removeAttribute("selected")}))},e.prototype.deselectAllExceptLast=function(){this._getAllItems().filter((function(e){return e.hasAttribute("selected")})).slice(0,-1).forEach((function(e){e.removeAttribute("selected")}))},e.prototype.deselectAndDeactivateAll=function(){this._getAllItems().forEach((function(e){(e.hasAttribute("selected")||e.hasAttribute("active"))&&(e.removeAttribute("active"),e.removeAttribute("selected"))}))},e.prototype.deselectAndDeactivateAllExcept=function(e){this._getAllItems().forEach((function(t){(t.hasAttribute("selected")||t.hasAttribute("active"))&&(t.removeAttribute("selected"),t!==e&&t.removeAttribute("active"))}))},e.prototype.deactivateAll=function(e){this._getAllItems().forEach((function(e){e.hasAttribute("active")&&e.removeAttribute("active")}))},e.prototype.deactivateAllExcept=function(e){this._getAllItems().forEach((function(t){t.hasAttribute("active")&&t!==e&&t.removeAttribute("active")}))},e.prototype.deactivateAllExceptFirst=function(){this._getAllItems().filter((function(e){return e.hasAttribute("active")})).slice(1).forEach((function(e){e.removeAttribute("active")}))},e.prototype._getAllItems=function(){return this.getAll()},e.prototype._getSelectableItems=function(){return this.getAll().filter((function(e){return!(e.hasAttribute("disabled")||e.hasAttribute("hidden"))}))},e.prototype._getSelectedItems=function(){return this.getAll().filter((function(e){return e.hasAttribute("selected")&&!e.hasAttribute("disabled")}))},e.prototype._getActiveItems=function(){return this.getAll().filter((function(e){return e.hasAttribute("active")&&!e.hasAttribute("disabled")}))},Coral.ColumnView.Collection=e}(),function(){"use strict";var e=Coral.ColumnView.isInteractiveTarget;Coral.register({name:"ColumnView.Column",tagName:"coral-columnview-column",className:"coral3-ColumnView-column",events:{"capture:scroll coral-columnview-column-content":"_onContentScroll","click coral-columnview-column-content":"_onColumnContentClick","click coral-columnview-item":"_onItemClick","click coral-columnview-item-thumbnail":"_onItemThumbnailClick","coral-columnview-item:_activechanged coral-columnview-item":"_onItemActiveChange","coral-columnview-item:_selectedchanged coral-columnview-item":"_onItemSelectedChange"},properties:{activeItem:{get:function(){return this.items.getFirstActive()},set:function(){}},content:Coral.property.contentZone({handle:"content",tagName:"coral-columnview-column-content",defaultContentZone:!0,insert:function(e){this.appendChild(e)}}),items:{get:function(){return this._items||(this._items=new Coral.ColumnView.Collection({host:this,target:this.content,itemTagName:"coral-columnview-item"})),this._items},set:function(){}},selectedItem:{get:function(){return this._selectionMode!==Coral.ColumnView.selectionMode.NONE?this.items.getFirstSelected():null},set:function(){}},selectedItems:{get:function(){return this._selectionMode!==Coral.ColumnView.selectionMode.NONE?this.items.getSelected():[]},set:function(){}},_selectionMode:{attribute:"_selectionmode",validate:[Coral.validate.valueMustChange,Coral.validate.enumeration(Coral.ColumnView.selectionMode)],set:function(e){this.__selectionMode=e,this._setStateFromDOM()}},_lastSelectedItems:{get:function(){return this.__lastSelectedItems||this.selectedItems},set:function(e){this.__lastSelectedItems=e}}},_onItemClick:function(t){e(t.target)||(t.matchedTarget.hasAttribute("active")?this._onItemActiveChange(t):t.matchedTarget.setAttribute("active",""))},_onItemThumbnailClick:function(e){if(this._selectionMode&&this._selectionMode!==Coral.ColumnView.selectionMode.NONE){e.stopPropagation();var t=e.matchedTarget.parentElement,i=t.hasAttribute("selected");if(!i&&e.shiftKey&&this._selectionMode===Coral.ColumnView.selectionMode.MULTIPLE){var n=this._lastSelectedItems[this._lastSelectedItems.length-1];if(n){for(var o=this.items.getAll(),a=o.indexOf(n),r=o.indexOf(t),s=r<a,l=[],c=a;r!==c;)c=s?c-1:c+1,l.push(o[c]);l.forEach((function(e){e!==t&&e.set("selected",!0,!0)}))}}t[i?"removeAttribute":"setAttribute"]("selected",""),i&&!this._lastSelectedItems.length&&t.setAttribute("active","")}},_onItemActiveChange:function(e){if(e.stopImmediatePropagation(),!this._bulkSelectionChange){var t=e.matchedTarget;this._bulkSelectionChange=!0,this.items.deselectAndDeactivateAllExcept(t),this._bulkSelectionChange=!1,this._validateColumnChange(t),this._loadItems(0,t)}},_onItemSelectedChange:function(e){e.stopImmediatePropagation();var t=e.target,i=t.selected;if(i)this._lastSelectedItems.push(t);else{var n=this._lastSelectedItems.indexOf(t);-1!==n&&(this._lastSelectedItems=this._lastSelectedItems.splice(n,1))}this._bulkSelectionChange||(i&&(this._bulkSelectionChange=!0,this.items.deactivateAll(),this._selectionMode===Coral.ColumnView.selectionMode.SINGLE&&this.items.deselectAllExcept(t),this._bulkSelectionChange=!1),this._validateColumnChange())},_tryToLoadAdditionalItems:function(){if(!this._bulkCollectionChange){this._bulkCollectionChange=!0;var e=this;setTimeout((function(){e._bulkCollectionChange=!1,e._loadFittingAdditionalItems()}),0)}},_onContentScroll:function(e){clearTimeout(this._scrollTimeout),this._scrollTimeout=setTimeout(this._onDebouncedScroll,100)},_onColumnContentClick:function(t){if(t.target===t.matchedTarget&&!e(t.target)){if(t.preventDefault(),this._bulkSelectionChange)return!1;this._bulkSelectionChange=!0,this.items.deselectAndDeactivateAll(),this._bulkSelectionChange=!1,this._validateColumnChange()}},_onDebouncedScroll:function(){this.content.scrollTop+this.offsetHeight>=this.content.scrollHeight-20&&this._loadItems(this.items.length,void 0)},_arraysAreDifferent:function(e,t){var i=[];return t.length===e.length&&(i=t.filter((function(t){return-1===e.indexOf(t)}))),t.length!==e.length||0!==i.length},_validateColumnChange:function(e){var t=this.activeItem,i=this._oldActiveItem||null;t===i&&e!==t||(this.trigger("coral-columnview-column:_activeitemchanged",{activeItem:t,oldActiveItem:i}),this._oldActiveItem=t);var n=this.selectedItems,o=this._oldSelection;this._arraysAreDifferent(n,o)&&(this.trigger("coral-columnview-column:_selecteditemchanged",{selection:n,oldSelection:o}),this._oldSelection=n)},_loadFittingAdditionalItems:function(){var e=this.items.length;48*e<=this.offsetHeight&&this._loadItems(e,void 0)},_loadItems:function(e,t){t&&!t.hasAttribute("active")||this.trigger("coral-columnview-column:_loaditems",{start:e,item:t})},attachedCallback:function(){Coral.Component.prototype.attachedCallback.call(this);var e=this;setTimeout((function(){Coral.commons.ready(e,(function(){e._loadFittingAdditionalItems()}))}),0)},_setStateFromDOM:function(){this._selectionMode&&(this._selectionMode===Coral.ColumnView.selectionMode.SINGLE?this.items.deselectAllExceptLast():this._selectionMode===Coral.ColumnView.selectionMode.NONE&&this.items.deselectAll(),this.items.deactivateAllExceptFirst())},_handleMutation:function(e){for(var t=e.length,i=0;i<t;i++){var n=e[i];this._triggerCollectionEvents(n.addedNodes,n.removedNodes)}this._setStateFromDOM(),this._validateColumnChange(),this._tryToLoadAdditionalItems()},_triggerCollectionEvents:function(e,t){for(var i,n=e.length,o=0;o<n;o++)"CORAL-COLUMNVIEW-ITEM"===(i=e[o]).tagName&&this.trigger("coral-collection:add",{item:i});for(var a=t.length,r=0;r<a;r++)"CORAL-COLUMNVIEW-ITEM"===(i=t[r]).tagName&&this.trigger("coral-collection:remove",{item:i})},_render:function(){var e=this.querySelector("coral-columnview-column-content");if(null===e)for(e=document.createElement("coral-columnview-column-content");this.firstChild;)e.appendChild(this.firstChild);e.setAttribute("role","presentation"),this.content=e},_initialize:function(){this.hasAttribute("role")||this.setAttribute("role","group"),this.id=this.id||Coral.commons.getUID(),this._bulkSelectionChange=!1,this._onDebouncedScroll=this._onDebouncedScroll.bind(this),this._observer=new MutationObserver(this._handleMutation.bind(this)),this._observer.observe(this._elements.content,{childList:!0}),this._setStateFromDOM(),this._oldSelection=this.selectedItems,this._oldActiveItem=this.activeItem}}),Coral.ColumnView.Column.Content=function(){return document.createElement("coral-columnview-column-content")}}(),function(){"use strict";var e={DEFAULT:"default",DRILLDOWN:"drilldown"},t=[];for(var i in e)t.push("coral3-ColumnView-item--"+e[i]);Coral.register({name:"ColumnView.Item",tagName:"coral-columnview-item",className:"coral3-ColumnView-item",properties:{content:Coral.property.contentZone({handle:"content",tagName:"coral-columnview-item-content",defaultContentZone:!0,insert:function(e){this.appendChild(e)}}),thumbnail:Coral.property.contentZone({handle:"thumbnail",tagName:"coral-columnview-item-thumbnail",insert:function(e){this.insertBefore(e,this.content||null)}}),variant:{default:e.DEFAULT,validate:[Coral.validate.valueMustChange,Coral.validate.enumeration(e)],sync:function(){this.classList.remove.apply(this.classList,t),this.variant!==Coral.ColumnView.Item.variant.DEFAULT&&(this.classList.add(this._className+"--"+this.variant),this.variant===Coral.ColumnView.Item.variant.DRILLDOWN?this.setAttribute("aria-expanded",this.active):this.removeAttribute("aria-expanded"))}},icon:{default:"",transform:Coral.transform.string,sync:function(){this.icon&&(this._elements.icon||(this._elements.icon=document.createElement("coral-icon")),this._elements.icon.icon=this.icon,this._elements.icon.size=Coral.Icon.size.SMALL,this._elements.thumbnail.innerHTML="",this._elements.thumbnail.appendChild(this._elements.icon))}},selected:{default:!1,reflectAttribute:!0,transform:Coral.transform.boolean,attributeTransform:Coral.transform.booleanAttr,trigger:"coral-columnview-item:_selectedchanged",sync:function(){this.classList.toggle("is-selected",this.selected),this.setAttribute("aria-selected",this.selected),this.variant===Coral.ColumnView.Item.variant.DRILLDOWN&&this.setAttribute("aria-expanded",this.active),this.selected?(this.removeAttribute("aria-owns"),this.removeAttribute("aria-describedby"),this._elements.accessibilityState.innerHTML=Coral.i18n.get(", checked")):this._elements.accessibilityState.innerHTML=""}},active:{default:!1,reflectAttribute:!0,transform:Coral.transform.boolean,attributeTransform:Coral.transform.booleanAttr,trigger:"coral-columnview-item:_activechanged",sync:function(){this.classList.toggle("is-active",this.active),this.variant===Coral.ColumnView.Item.variant.DRILLDOWN&&this.setAttribute("aria-expanded",this.active),this.active||(this.removeAttribute("aria-owns"),this.removeAttribute("aria-describedby"))}}},_render:function(){var e=this.querySelector("coral-columnview-item-thumbnail")||new Coral.ColumnView.Item.Thumbnail,t=this.querySelector("coral-columnview-item-content");if(e.parentNode||this.insertBefore(e,this.firstChild||null),null===t)for(t=new Coral.ColumnView.Item.Content;this.firstChild;)t.appendChild(this.firstChild);this.thumbnail=e,this.content=t;var i=this.thumbnail.querySelector("img:not([alt])");i&&i.setAttribute("alt",""),e.id=e.id||Coral.commons.getUID(),t.id=t.id||Coral.commons.getUID();var n=this._elements.accessibilityState||this.querySelector("coral-columnview-item-accessibilitystate")||new Coral.ColumnView.Item.AccessibilityState;n.classList.contains("u-coral-screenReaderOnly")||n.classList.toggle("u-coral-screenReaderOnly"),n.setAttribute("lang",Coral.i18n.locale),n.id=n.id||Coral.commons.getUID(),n.parentNode||this.appendChild(n),this._elements.accessibilityState=n,this.setAttribute("aria-labelledby",e.id+" "+t.id+" "+n.id)},_initialize:function(){this.setAttribute("role","treeitem"),this.id=this.id||Coral.commons.getUID(),this.tabIndex=this.active||this.selected?0:-1}}),Coral.ColumnView.Item.variant=e,Coral.ColumnView.Item.Content=function(){return document.createElement("coral-columnview-item-content")},Coral.ColumnView.Item.Thumbnail=function(){return document.createElement("coral-columnview-item-thumbnail")},Coral.ColumnView.Item.AccessibilityState=function(){var e=document.createElement("coral-columnview-item-accessibilitystate");return e.className="u-coral-screenReaderOnly",e}}(),function(){"use strict";Coral.register({name:"ColumnView.Preview",tagName:"coral-columnview-preview",className:"coral3-ColumnView-column",properties:{content:Coral.property.contentZone({handle:"content",tagName:"coral-columnview-preview-content",defaultContentZone:!0,insert:function(e){this.appendChild(e)}})},_render:function(){this.setAttribute("role","group"),this.id=this.id||Coral.commons.getUID();var e=this.querySelector("coral-columnview-preview-content");if(null===e)for(e=document.createElement("coral-columnview-preview-content");this.firstChild;)e.appendChild(this.firstChild);this.content=e,this._makeAccessible()},_makeAccessible:function(){this.content.setAttribute("role","presentation");var e,t,i,n=this.content.querySelectorAll("coral-columnview-preview-label + coral-columnview-preview-value"),o=n.length,a=this.parentElement&&"CORAL-COLUMNVIEW"===this.parentElement.tagName&&this.parentElement.selectedItems.length?-1:0;for(e=0;e<o;e++)(i=(t=n[e]).previousElementSibling).id=i.id||Coral.commons.getUID(),i.setAttribute("aria-hidden","true"),t.setAttribute("aria-labelledby",i.id),t.setAttribute("role","textbox"),t.setAttribute("tabindex",a),t.setAttribute("aria-readonly","true"),window.cvox&&t.setAttribute("aria-valuetext",t.textContent);for(o=(n=this.content.querySelectorAll("coral-columnview-preview-separator")).length,e=0;e<o;e++)(t=n[e]).setAttribute("role","separator"),t.setAttribute("aria-orientation","horizontal");for(o=(n=this.content.querySelectorAll("coral-columnview-preview-asset > img:not([alt])")).length,e=0;e<o;e++)(t=n[e]).setAttribute("alt","")}}),Coral.ColumnView.Preview.Content=function(){return document.createElement("coral-columnview-preview-content")},Coral.ColumnView.Preview.Asset=function(){return document.createElement("coral-columnview-preview-asset")},Coral.ColumnView.Preview.Label=function(){return document.createElement("coral-columnview-preview-label")},Coral.ColumnView.Preview.Value=function(){return document.createElement("coral-columnview-preview-value")},Coral.ColumnView.Preview.Separator=function(){return document.createElement("coral-columnview-preview-separator")}}(),window.Coral=window.Coral||{},window.Coral.templates=window.Coral.templates||{},window.Coral.templates.CycleButton=window.Coral.templates.CycleButton||{},window.Coral.templates.CycleButton.base=function(e){var t=document.createDocumentFragment(),i=e=void 0===e?{}:e;(i=e).buttonId=i.id+"-button",i.menuId=i.id+"-menu",e=i;var n=document.createTextNode("\n");t.appendChild(n);var o=this.button=document.createElement("button","coral-button");o.id=e.buttonId,o.setAttribute("handle","button"),o.className+=" coral3-CycleButton-button",o.setAttribute("is","coral-button"),o.setAttribute("variant","quiet"),o.setAttribute("iconsize","S"),o.setAttribute("tracking","off");var a=document.createTextNode("\n  ");o.appendChild(a);var r=this.openIcon=document.createElement("coral-icon");r.setAttribute("handle","openIcon"),r.setAttribute("icon","chevronDown"),r.setAttribute("size","xs"),r.className+=" coral3-CycleButton-openIcon",r.setAttribute("tracking","off"),r.setAttribute("alt",""),r.setAttribute("aria-hidden","true"),o.appendChild(r);var s=document.createTextNode("\n");o.appendChild(s),t.appendChild(o);var l=document.createTextNode("\n");t.appendChild(l);var c=this.overlay=document.createElement("coral-overlay");c.setAttribute("role","menu"),c.id=e.menuId,c.setAttribute("handle","overlay"),c.className+=" coral3-CycleButton-overlay",c.setAttribute("returnfocus","on"),c.setAttribute("focusonshow","on"),c.setAttribute("trapfocus","on"),c.setAttribute("placement","bottom"),c.setAttribute("tracking","off");var d=document.createTextNode("\n  ");c.appendChild(d);var u=this.selectList=document.createElement("coral-selectlist");u.setAttribute("role","group"),u.setAttribute("handle","selectList"),u.setAttribute("interaction","off"),u.setAttribute("tracking","off"),c.appendChild(u);var h=document.createTextNode("\n  ");c.appendChild(h);var p=this.separator=document.createElement("div");p.setAttribute("role","separator"),p.setAttribute("handle","separator"),p.className+=" coral3-CycleButton-separator",p.setAttribute("style","height: 1px; margin-top: -1px"),p.setAttribute("hidden",""),c.appendChild(p);var m=document.createTextNode("\n  ");c.appendChild(m);var f=this.actionList=document.createElement("coral-buttonlist");f.setAttribute("role","presentation"),f.setAttribute("handle","actionList"),f.setAttribute("tracking","off"),f.setAttribute("interaction","off"),f.setAttribute("hidden",""),c.appendChild(f);var g=document.createTextNode("\n");return c.appendChild(g),t.appendChild(c),t},function(){"use strict";var e=/[\t\n\r ]+/g,t={ICON:"icon",TEXT:"text",ICON_TEXT:"icontext"};Coral.register({name:"CycleButton",tagName:"coral-cyclebutton",className:"coral3-CycleButton",mixins:[Coral.mixin.selectionList({itemTagName:"coral-cyclebutton-item",supportMultiple:!1,forceSelection:!0,role:"presentation"})],events:{'click button[is="coral-button"]':"_onMouseDown","click :not(coral-cyclebutton-action)":"_onItemClick",'click button[is="coral-buttonlist-item"]':"_onActionClick","key:down [aria-expanded=false]":"_onItemClick","coral-selectlist:change":"_onSelectListChange","coral-cyclebutton-item:_iconchanged coral-cyclebutton-item[selected]":"_onSelectedItemPropertyChange","coral-cyclebutton-item:_displaymodechanged coral-cyclebutton-item[selected]":"_onSelectedItemPropertyChange","global:click":"_onGlobalClick","global:touchstart":"_onGlobalClick","global:key:escape":"_onEscapeKey","key:down coral-selectlist-item, [coral-list-item]":"_focusNextItem","key:right coral-selectlist-item, [coral-list-item]":"_focusNextItem","key:left coral-selectlist-item, [coral-list-item]":"_focusPreviousItem","key:up coral-selectlist-item, [coral-list-item]":"_focusPreviousItem","key:pageup coral-selectlist-item, [coral-list-item]":"_focusPreviousItem","key:pagedown coral-selectlist-item, [coral-list-item]":"_focusNextItem","key:home coral-selectlist-item, [coral-list-item]":"_focusFirstItem","key:end coral-selectlist-item, [coral-list-item]":"_focusLastItem","capture:focus coral-selectlist-item, [coral-list-item]":"_onItemFocus","capture:blur coral-selectlist-item, [coral-list-item]":"_onItemBlur","coral-overlay:open":"_onOverlayOpen","coral-overlay:close":"_onOverlayClose"},properties:{icon:{default:"",sync:function(){this.selectedItem&&this._renderSelectedItem(this.selectedItem)}},threshold:{default:3,transform:Coral.transform.number,validate:[Coral.validate.valueMustChange,function(e,t){return null!==e&&e>-1}],sync:function(){this._checkExtended()}},actions:{set:function(){},get:function(){return this._actions||(this._actions=new Coral.Collection({host:this,itemTagName:"coral-cyclebutton-action",itemSelector:"coral-cyclebutton-action"})),this._actions}},displayMode:{default:t.ICON,attribute:"displaymode",reflectAttribute:!0,validate:[Coral.validate.valueMustChange,Coral.validate.enumeration(t)],sync:function(){this.selectedItem&&this._renderSelectedItem(this.selectedItem)}},ariaLabel:{default:"",attribute:"aria-label",transform:Coral.transform.string,sync:function(){if(!this.ariaLabelledby){var e=this._hasMenuItemRadioGroup();this.ariaLabel?(this._elements.button.setAttribute("aria-labelledby",this.id+" "+this._elements.button.id),this._elements.overlay.setAttribute("aria-labelledby",this.id),e?this._elements.selectList.setAttribute("aria-labelledby",this.id):this._elements.selectList.removeAttribute("aria-labelledby")):(this._elements.button.removeAttribute("aria-labelledby"),this._elements.overlay.setAttribute("aria-labelledby",this._elements.button.id),e?this._elements.selectList.setAttribute("aria-labelledby",this._elements.button.id):this._elements.selectList.removeAttribute("aria-labelledby"))}}},ariaLabelledby:{default:"",attribute:"aria-labelledby",transform:Coral.transform.string,sync:function(){!this.ariaLabelledby&&this.ariaLabel||(this._elements.button.setAttribute("aria-labelledby",this.ariaLabelledby+" "+this._elements.button.id),this._elements.overlay.setAttribute("aria-labelledby",this.ariaLabelledby||this._elements.button.id),this._hasMenuItemRadioGroup?this._elements.selectList.setAttribute("aria-labelledby",this.ariaLabelledby||this._elements.button.id):this._elements.selectList.removeAttribute("aria-labelledby"))}}},_hasMenuItemRadioGroup:function(){return this.items.getAll().length>0&&this.actions.getAll().length>0},_onEscapeKey:function(e){this._elements.overlay._isTopOverlay()&&this._hideOverlay()},_onGlobalClick:function(e){if(this._elements.overlay.open){var t=this._elements.overlay.contains(e.target),i=this.contains(e.target);t||i||this._hideOverlay()}},_onItemAttached:function(){this._checkExtended()},_onItemDetached:function(){this._checkExtended()},_onMouseDown:function(e){e.preventDefault(),this._trackEvent("click","cyclebutton",e)},_onItemClick:function(e){e.preventDefault();var t=this.items.getAll(),i=t.length;e.matchedTarget!==this._elements.button&&"coral-cyclebutton-item"!==e.matchedTarget.tagName.toLowerCase()||(this._isExtended()?this._elements.overlay.open?this._hideOverlay():(this._showOverlay(),this._focusItem(this.selectedItem._elements.selectListItem)):i>1&&(this._selectCycleItem(this.selectedItem.nextElementSibling||t[0]),this._elements.button.blur(),this._focusItem(this._elements.button)))},_renderSelectedItem:function(i){if(i){var n=this.displayMode,o=i.icon||this.icon||"";if(i.displayMode!==Coral.CycleButton.Item.displayMode.INHERIT&&(n=i.displayMode),i.content.textContent.trim()&&o.trim()||(n=t.ICON_TEXT),n===t.ICON){this._elements.button.icon=o,this._elements.button.label.innerHTML="";var a=i.content.textContent.replace(e," ");this._elements.button.setAttribute("aria-label",a),this._elements.button.setAttribute("title",a)}else n===t.TEXT&&(this._elements.button.icon=""),n===t.ICON_TEXT&&(this._elements.button.icon=o),this._elements.button.label.innerHTML=i.content.innerHTML,this._elements.button.removeAttribute("aria-label"),this._elements.button.removeAttribute("title");this._elements.button._elements.icon&&(this._elements.button._elements.icon.set({alt:null},!0),this._elements.button._elements.icon.setAttribute("aria-hidden",!0))}},_onItemSelected:function(e){e&&this._renderSelectedItem(e),this._elements.overlay.open&&this._hideOverlay()},_onSelectedItemPropertyChange:function(e){e.stopImmediatePropagation(),this._renderSelectedItem(e.target)},_onSelectListChange:function(e){e.stopImmediatePropagation(),e.preventDefault();var t,i=e.detail.selection;i&&(t=i._elements.originalItem,this._selectCycleItem(t),this._focusItem(this._elements.button),this._hideOverlay()),this._trackEvent("selected","cyclebutton-item",e,t)},_onActionClick:function(e){e.stopPropagation();var t=e.matchedTarget;t._elements.originalItem.trigger("click").defaultPrevented||this._hideOverlay(),this._trackEvent("selected","cyclebutton-action",e,t)},_isExtended:function(){var e=this.actions.getAll().length>0;return this.threshold>0&&this.items.getAll().length>=this.threshold||e},_checkExtended:function(){var e=this._isExtended();this.classList.toggle("coral3-CycleButton--extended",e),e?(this._elements.button.setAttribute("aria-controls",this._elements.overlay.id),this._elements.button.setAttribute("aria-haspopup",!0),this._elements.button.setAttribute("aria-expanded",!1)):(this._elements.button.removeAttribute("aria-controls"),this._elements.button.removeAttribute("aria-haspopup"),this._elements.button.removeAttribute("aria-expanded")),this._elements.selectList.removeAttribute("aria-multiselectable")},_focusItem:function(e){e&&e.focus()},_focusPreviousItem:function(e){e.preventDefault();var t=this._getSelectableItems();if(t.length>1){var i=t.indexOf(e.target);i>0&&this._focusItem(t[i-1])}},_focusNextItem:function(e){e.preventDefault();var t=this._getSelectableItems();if(t.length>1){var i=t.indexOf(e.target);i<t.length-1&&this._focusItem(t[i+1])}},_focusFirstItem:function(e){e&&e.preventDefault(),this._focusItem(this._getSelectableItems()[0])},_focusLastItem:function(e){e&&e.preventDefault();var t=this._getSelectableItems();this._focusItem(t[t.length-1])},_getSelectableItems:function(){var e=this.items.getAll(),t=this.actions.getAll();return e.concat(t).map((function(e){return e._elements.selectListItem||e._elements.buttonListItem})).filter((function(e){return!e.hasAttribute("hidden")&&!e.hasAttribute("disabled")&&null!==e.offsetParent&&(e.offsetWidth>0||e.offsetHeight>0)}))},_onItemFocus:function(){this._elements.selectList.classList.toggle("is-focused",!0)},_onItemBlur:function(){this._elements.selectList.classList.toggle("is-focused",!1)},_onOverlayClose:function(){this._elements.button.setAttribute("aria-expanded",!1)},_onOverlayOpen:function(){this._elements.button.setAttribute("aria-expanded",!0),this.selectedItem?this._focusItem(this.selectedItem._elements.selectListItem):this._focusFirstItem()},_hideOverlay:function(){this._elements.overlay.hide()},_getSelectListItem:function(e){var t=new Coral.SelectList.Item;if(t.trackingElement=e.trackingElement,t.content.innerHTML=e.content.innerHTML,e.icon){var i=(new Coral.Icon).set({icon:e.icon,size:Coral.Icon.size.SMALL,tracking:Coral.Component.tracking.OFF,alt:null},!0);i.setAttribute("aria-hidden",!0),t.content.insertBefore(i,t.content.firstChild)}return t.set({disabled:e.disabled,selected:e.selected},!0),t.setAttribute("role",e.role),t.setAttribute("aria-checked",e.selected),t._elements.originalItem=e,e._elements.selectListItem=t,t},_getActionListItem:function(e){var t=new Coral.ButtonList.Item;return t.icon=e.icon,t.trackingElement=e.trackingElement,t.content.innerHTML=e.content.innerHTML,t.set({disabled:e.disabled,tabIndex:-1},!0),t.setAttribute("role",e.role),t._elements.originalItem=e,e._elements.buttonListItem=t,t},_populateLists:function(){var e,t,i=this._elements.selectList,n=this._elements.actionList,o=this.items.getAll(),a=this.actions.getAll(),r=o.length,s=a.length;i.items.clear(),n.items.clear();for(var l=0;l<r;l++){var c=o[l];e=this._getSelectListItem(c),i.items.add(e)}if(s>0){for(var d=0;d<s;d++){var u=a[d];t=this._getActionListItem(u),n.items.add(t),t._elements.icon&&(t._elements.icon.set({alt:null},!0),t._elements.icon.setAttribute("aria-hidden",!0))}this._elements.actionList.removeAttribute("hidden"),r>0&&this._elements.separator.removeAttribute("hidden")}else this._elements.actionList.setAttribute("hidden",""),this._elements.separator.setAttribute("hidden","")},_selectCycleItem:function(e){e.selected=!0},_showOverlay:function(){this._populateLists();var e=this;Coral.commons.nextFrame((function(){e._elements.overlay.show()}))},_render:function(){this.id||(this.id=Coral.commons.getUID());for(var e=this.querySelectorAll("[handle]"),t=0;t<e.length;++t){var i=e[t];i.parentNode===this&&this.removeChild(i)}this.insertBefore(Coral.templates.CycleButton.base.call(this._elements,{id:this.id}),this.firstChild),this._elements.overlay.target=this._elements.button,this._elements.overlay.returnFocusTo(this._elements.button);for(var n=this._elements.overlay.querySelectorAll("[coral-tabcapture]"),o=0;o<n.length;o++)n[o].setAttribute("role","presentation")},_initialize:function(){this._elements.button.setAttribute("aria-expanded",!1),this._checkExtended();var e=this;Coral.commons.nextFrame((function(){e._onItemSelected(e.selectedItem),e.removeAttribute("role")}));["down","right","up","left","pagedown","pageup","home","end"].forEach((function(t){e._elements.selectList._keys.off(t)}))}}),Coral.CycleButton.displayMode=t}(),function(){"use strict";var e={ICON:"icon",TEXT:"text",ICON_TEXT:"icontext",INHERIT:"inherit"};Coral.register({name:"CycleButton.Item",tagName:"coral-cyclebutton-item",mixins:[Coral.mixin.selectionList.Item({listSelector:"coral-cyclebutton",role:"menuitemradio"})],properties:{icon:{default:"",reflectAttribute:!0,trigger:"coral-cyclebutton-item:_iconchanged"},content:{contentZone:!0,get:function(){return this},set:function(){}},displayMode:{default:e.INHERIT,attribute:"displaymode",reflectAttribute:!0,trigger:"coral-cyclebutton-item:_displaymodechanged",validate:[Coral.validate.valueMustChange,Coral.validate.enumeration(e)]},trackingElement:{set:function(e){this._trackingElement=e},get:function(){return void 0===this._trackingElement?this.content.textContent.replace(/\s{2,}/g," ").trim()||this.icon:this._trackingElement},attribute:"trackingelement",transform:Coral.transform.string},selected:{default:!1,reflectAttribute:!0,transform:Coral.transform.boolean,attributeTransform:Coral.transform.booleanAttr,validate:[Coral.validate.valueMustChange,function(e){return!e||!this.disabled}],trigger:function(e,t){var i=this._getSelectionList();if(i){var n=e?i._onItemSelected:i._onItemDeselected;n&&"[object Function]"===Object.prototype.toString.call(n)&&n.call(i,this)}return!1},set:function(e,t){this._selected=e},sync:function(){this.classList.toggle("is-selected",this.selected),this.setAttribute("aria-checked",this.selected)}},role:{default:"menuitemradio",reflectAttribute:!0}}}),Coral.CycleButton.Item.displayMode=e}(),function(){"use strict";Coral.register({name:"CycleButton.Action",tagName:"coral-cyclebutton-action",properties:{icon:{default:"",reflectAttribute:!0},content:{contentZone:!0,get:function(){return this},set:function(){}},trackingElement:{set:function(e){this._trackingElement=e},get:function(){return void 0===this._trackingElement?this.content.textContent.replace(/\s{2,}/g," ").trim()||this.icon:this._trackingElement},attribute:"trackingelement",transform:Coral.transform.string},role:{default:"menuitem",reflectAttribute:!0}}})}(),window.Coral=window.Coral||{},window.Coral.strings=window.Coral.strings||{},window.Coral.strings["coralui-component-datepicker"]={"en-US":{Time:"Time",Calendar:"Calendar"},"de-DE":{Time:"Zeit",Calendar:"Kalender"},"fr-FR":{Time:"Heure",Calendar:"Calendrier"},"it-IT":{Time:"Ora",Calendar:"Calendario"},"ja-JP":{Time:"時間",Calendar:"カレンダー"},"es-ES":{Time:"Hora",Calendar:"Calendario"},"ko-KR":{Time:"시간",Calendar:"달력"},"zh-CN":{Time:"时间",Calendar:"日历"},"zh-TW":{Time:"時間",Calendar:"日曆"},"pt-BR":{Time:"Hora",Calendar:"Calendário"},"nl-NL":{Time:"Tijd",Calendar:"Kalender"},"da-DK":{Time:"Tid",Calendar:"Kalender"},"fi-FI":{Time:"Aika",Calendar:"Kalenteri"},"nb-NO":{Time:"Klokkeslett",Calendar:"Kalender"},"sv-SE":{Time:"Tid",Calendar:"Kalender"},"cs-CZ":{Time:"Čas",Calendar:"Kalendář"},"pl-PL":{Time:"Czas",Calendar:"Kalendarz"},"ru-RU":{Time:"Время",Calendar:"Календарь"},"tr-TR":{Time:"Zaman",Calendar:"Takvim"}},window.Coral=window.Coral||{},window.Coral.templates=window.Coral.templates||{},window.Coral.templates.Datepicker=window.Coral.templates.Datepicker||{},window.Coral.templates.Datepicker.base=function(e){var t=document.createDocumentFragment(),i=this.hiddenInput=document.createElement("input");i.setAttribute("type","hidden"),i.setAttribute("handle","hiddenInput"),t.appendChild(i);var n=document.createTextNode("\n");t.appendChild(n);var o=this.input=document.createElement("input","coral-textfield");o.setAttribute("is","coral-textfield"),o.setAttribute("type","text"),o.setAttribute("handle","input"),o.className+=" coral-InputGroup-input",o.setAttribute("role","textbox"),o.setAttribute("tracking","off"),t.appendChild(o);var a=document.createTextNode("\n");t.appendChild(a);var r=this.toggleButtonContainer=document.createElement("div");r.className+=" coral-InputGroup-button",r.setAttribute("handle","toggleButtonContainer");var s=document.createTextNode("\n  ");r.appendChild(s);var l=this.toggle=document.createElement("button","coral-button");l.setAttribute("is","coral-button"),l.setAttribute("type","button"),l.setAttribute("icon","calendar"),l.setAttribute("iconsize","S"),l.setAttribute("handle","toggle"),l.setAttribute("aria-haspopup","dialog"),l.setAttribute("aria-label",Coral.i18n.get("Calendar")),l.setAttribute("title",Coral.i18n.get("Calendar")),l.setAttribute("tracking","off"),r.appendChild(l);var c=document.createTextNode("\n");r.appendChild(c),t.appendChild(r);var d=document.createTextNode("\n");t.appendChild(d);var u=this.popover=document.createElement("coral-popover");return u.setAttribute("handle","popover"),u.id=Coral.commons.getUID(),u.setAttribute("alignmy","right top"),u.setAttribute("alignat","right bottom"),u.setAttribute("collision","fit"),u.setAttribute("tracking","off"),t.appendChild(u),t},window.Coral.templates.Datepicker.popovercontent=function(e){var t=document.createDocumentFragment(),i=e=void 0===e?{}:e;i=e;var n=Coral.commons.getUID();e=i;var o=document.createTextNode("\n");t.appendChild(o);var a=this.calendar=document.createElement("coral-calendar");a.setAttribute("handle","calendar"),a.className+=" u-coral-borderless",a.setAttribute("aria-labelledby",n+"-calendar");var r=document.createTextNode("\n  ");a.appendChild(r);var s=document.createElement("span");s.id=n+"-calendar",s.className+=" u-coral-screenReaderOnly",s.setAttribute("hidden",""),s.textContent=Coral.i18n.get("Calendar"),a.appendChild(s);var l=document.createTextNode("\n");a.appendChild(l),t.appendChild(a);var c=document.createTextNode("\n");t.appendChild(c);var d=this.clockContainer=document.createElement("div");d.className+=" coral3-Datepicker-clockContainer",d.setAttribute("handle","clockContainer");var u=document.createTextNode("\n  ");d.appendChild(u);var h=this.clock=document.createElement("coral-clock");h.setAttribute("handle","clock"),h.setAttribute("aria-labelledby",n+"-clock");var p=document.createTextNode("\n    ");h.appendChild(p);var m=document.createElement("span");m.id=n+"-clock",m.className+=" u-coral-screenReaderOnly",m.setAttribute("hidden",""),m.textContent=Coral.i18n.get("Time"),h.appendChild(m);var f=document.createTextNode("\n  ");h.appendChild(f),d.appendChild(h);var g=document.createTextNode("\n");return d.appendChild(g),t.appendChild(d),t},function(){"use strict";var e={DEFAULT:"default",QUIET:"quiet"},t=[];for(var i in e)t.push("coral-InputGroup--"+e[i]);var n={DATE:"date",DATETIME:"datetime",TIME:"time"},o=null!==navigator.userAgent.match(/iPhone|iPad|iPod|Android/i),a={date:"YYYY-MM-DD",datetime:"YYYY-MM-DD[T]HH:mmZ",time:"HH:mm"};Coral.register({name:"Datepicker",tagName:"coral-datepicker",className:"coral-InputGroup",mixins:[Coral.mixin.formField],events:{'change coral-datepicker > input[is="coral-textfield"]':"_onInputChange",'click coral-calendar [handle="table"] a':"_onCalendarDayClick","change coral-calendar,coral-clock":"_onChange",'coral-overlay:beforeopen [handle="popover"]':"_onPopoverBeforeOpen",'coral-overlay:open [handle="popover"]':"_onPopoverOpenOrClose",'coral-overlay:close [handle="popover"]':"_onPopoverOpenOrClose","key:esc coral-clock input[is=coral-textfield]":"_onEscapeKey",'key:alt+down [handle="input"],[handle="toggle"]':"_onAltDownKey",'key:down [handle="toggle"]':"_onAltDownKey"},properties:{type:{default:n.DATE,reflectAttribute:!0,validate:[Coral.validate.valueMustChange,Coral.validate.enumeration(n)],sync:function(){var e=this.type===n.TIME,t=this.type===n.DATE;this._elements.toggle.icon=e?"clock":"calendar";var i=e?Coral.i18n.get("Time"):Coral.i18n.get("Calendar");this._elements.toggle.setAttribute("aria-label",i),this._elements.toggle.setAttribute("title",i),this._elements.clockContainer.style.display=t?"none":"",this._elements.clockContainer.setAttribute("aria-hidden",t),this._elements.calendar.style.display=e?"none":"",this._elements.calendar.setAttribute("aria-hidden",e)},alsoSync:["_useNativeInput"]},displayFormat:{attribute:"displayformat",transform:function(e){return""===(e=Coral.transform.string(e).trim())?a[this.type]:e},get:function(){return this._useNativeInput&&this.type!==n.DATETIME||void 0===this._displayFormat?a[this.type]:this._displayFormat},set:function(e){this._displayFormat=e,this._elements.clock.displayFormat=e},sync:function(){this._elements.input.value=this._getValueAsString(this._value,this.displayFormat)}},valueFormat:{attribute:"valueformat",transform:function(e){return""===(e=Coral.transform.string(e).trim())?a[this.type]:e},get:function(){return void 0===this._valueFormat?a[this.type]:this._valueFormat},set:function(e){this._valueFormat=e,this._elements.calendar.valueFormat=e,this._elements.hiddenInput.value=this.value}},valueAsDate:{attribute:null,transform:function(e){return e instanceof Date?moment(e):""},get:function(){var e=this._value;return"date"===this.type&&e&&(e=e.startOf("day")),e?e.toDate():null},set:function(e){this.value=e}},min:{get:function(){return this._elements.calendar.min},set:function(e){this._elements.calendar.min=e}},max:{get:function(){return this._elements.calendar.max},set:function(e){this._elements.calendar.max=e}},headerFormat:Coral.property.proxyAttr({handle:"calendar",attribute:"headerformat"}),startDay:Coral.property.proxyAttr({handle:"calendar",attribute:"startday"}),value:{transform:function(e){return function(e,t){if("today"===e)return moment();if(moment.isMoment(e))return e.isValid()?e.clone():null;var i=moment(e,e instanceof Date?null:t);return i.isValid()?i:null}(e,this.valueFormat)},get:function(){return this._getValueAsString(this._value,this.valueFormat)},set:function(e){this._value=e,this._elements.calendar.valueAsDate=this.valueAsDate,this._elements.clock.valueAsDate=this.valueAsDate,this._elements.input.value=this._getValueAsString(this._value,this.displayFormat),this._elements.hiddenInput.value=this.value}},name:{get:function(e){return this._elements.hiddenInput.name},set:function(e){this._elements.hiddenInput.name=e}},disabled:{set:function(e){this._disabled=e,this.classList.toggle("is-disabled",this.disabled),this._elements.input.disabled=this.disabled,this._elements.hiddenInput.disabled=this.disabled,this._elements.toggle.disabled=this.disabled}},invalid:{sync:function(){var e=this.invalid;this.classList.toggle("is-invalid",e),this._elements.input.invalid=e,this._elements.input.setAttribute("aria-invalid",e)}},readOnly:{set:function(e){this._readOnly=e,this._elements.hiddenInput.readOnly=this.readOnly,this._elements.input.readOnly=this.readOnly,this._elements.toggle.disabled=this.readOnly}},required:{set:function(e){this._required=e,this._elements.input.required=this.required}},labelled:{get:function(){return this._getLabellableElement().getAttribute("aria-label")},sync:function(){this[this.labelled?"setAttribute":"removeAttribute"]("aria-label",this.labelled),this._elements.popover[this.labelled?"setAttribute":"removeAttribute"]("aria-label",this.labelled)}},labelledBy:{sync:function(){this[this.labelledBy?"setAttribute":"removeAttribute"]("aria-labelledby",this.labelledBy),this._elements.popover[this.labelledBy?"setAttribute":"removeAttribute"]("aria-labelledby",this.labelledBy)}},placeholder:{reflectAttribute:!0,transform:Coral.transform.string,get:function(){return this._elements.input.placeholder},set:function(e){this._elements.input.placeholder=e}},variant:{default:e.DEFAULT,validate:[Coral.validate.valueMustChange,Coral.validate.enumeration(e)],set:function(t){this._variant=t,this._elements.toggle.variant=t===e.DEFAULT?Coral.Button.variant.DEFAULT:Coral.Button.variant.QUIET,this._elements.input.variant=t},sync:function(){this.classList.remove.apply(this.classList,t),this.variant!==Coral.Datepicker.variant.DEFAULT&&this.classList.add(this._className+"--"+this.variant)}},_useNativeInput:{attribute:null,sync:function(){this._useNativeInput&&this.type!==n.DATETIME?(this._elements.toggle.hidden=!0,this._elements.input.setAttribute("type",this.type),this._elements.input.removeAttribute("role"),this._elements.input.removeAttribute("aria-autocomplete"),this._elements.input.removeAttribute("aria-haspopup"),this._elements.input.removeAttribute("aria-expanded"),this._elements.input.removeAttribute("aria-controls")):(this._elements.toggle.hidden=!1,this._elements.input.setAttribute("type","text"),this._elements.popover.parentNode!==this&&this.insertBefore(this._elements.popover,this.firstChild),this.setAttribute("role","group"),this._elements.input.setAttribute("role","combobox"),this._elements.input.setAttribute("aria-autocomplete","none"),this._elements.input.setAttribute("aria-haspopup","dialog"),this._elements.input.setAttribute("aria-expanded",this._elements.popover.open),this._elements.input.setAttribute("aria-controls",this._elements.popover.id),this._elements.toggle.setAttribute("aria-haspopup","dialog"),this._elements.toggle.setAttribute("aria-expanded",this._elements.popover.open),this._elements.toggle.setAttribute("aria-controls",this._elements.popover.id))}}},_getLabellableElement:function(){return this._elements.input},_render:function(){for(var e=this.querySelectorAll("[handle]"),t=0;t<e.length;++t){var i=e[t];i.parentNode===this&&this.removeChild(i)}this.appendChild(Coral.templates.Datepicker.base.call(this._elements)),this._calendarFragment=Coral.templates.Datepicker.popovercontent.call(this._elements),this._elements.popover.target=this._elements.toggle},_renderCalendar:function(){""===this._elements.popover.content.innerHTML&&(this._elements.popover.content.appendChild(this._calendarFragment),this._calendarFragment=void 0)},_initialize:function(){this._useNativeInput=o},_onPopoverBeforeOpen:function(){this._elements.popover.returnFocusTo(this._elements.input),this._elements.calendar._validateCalendar(),this._renderCalendar()},_onPopoverOpenOrClose:function(e){var t=this;this._elements.popover.open?(Coral.commons.nextFrame((function(){t.type===n.TIME?t._elements.clock.focus():t._elements.calendar.focus()})),this._elements.input.setAttribute("aria-expanded","true"),this._elements.toggle.setAttribute("aria-expanded","true"),this._trackEvent("open","datepicker",e)):(this._elements.input.setAttribute("aria-expanded","false"),this._elements.toggle.setAttribute("aria-expanded","false"),this._trackEvent("close","datepicker",e))},_onCalendarDayClick:function(e){this._elements.popover.open=!1,this._trackEvent("click","datepicker",e)},_onInputChange:function(e){e.stopPropagation(),this.value=moment(e.target.value,this.displayFormat),this._validateValue(),this.trigger("change"),this._trackEvent("change","datepicker",e)},_onChange:function(e){e.stopPropagation(),this.value=this._mergeCalendarAndClockDates(!0),this._validateValue(),this.trigger("change")},_onEscapeKey:function(e){this._elements.popover.open=!1},_onAltDownKey:function(e){e.preventDefault(),this._elements.popover.open||(this._elements.popover.open=!0)},_validateValue:function(){this._elements.calendar._validateCalendar(),this.type===n.DATE?this.invalid=this._elements.calendar.invalid:this.type===n.TIME?this.invalid=this._elements.clock.invalid:this.invalid=this._elements.calendar.invalid||this._elements.clock.invalid},_mergeCalendarAndClockDates:function(e){var t=moment(this._elements.calendar.valueAsDate),i=this._elements.clock.valueAsDate;return e&&t&&!i&&this.type===n.DATETIME&&(i=moment().toDate()),i&&(t.isValid()||(t=moment()),t.hours(i.getHours()),t.minutes(i.getMinutes())),t},_getValueAsString:function(e,t){return e&&e.isValid()?e.format(t):""}}),Coral.Datepicker.variant=e,Coral.Datepicker.type=n}(),window.Coral=window.Coral||{},window.Coral.templates=window.Coral.templates||{},window.Coral.templates.Drawer=window.Coral.templates.Drawer||{},window.Coral.templates.Drawer.base=function(e){var t=document.createDocumentFragment(),i=this.slider=document.createElement("div");i.setAttribute("handle","slider"),i.className+=" coral3-Drawer-slider";var n=document.createTextNode("\n  ");i.appendChild(n);var o=this.contentWrapper=document.createElement("div");o.setAttribute("handle","contentWrapper"),o.className+=" coral3-Drawer-content",i.appendChild(o);var a=document.createTextNode("\n");i.appendChild(a),t.appendChild(i);var r=document.createTextNode("\n");t.appendChild(r);var s=document.createElement("div");s.className+=" coral3-Drawer-toggle";var l=document.createTextNode("\n  ");s.appendChild(l);var c=this.toggle=document.createElement("button","coral-button");c.className+=" coral3-Drawer-toggleButton",c.setAttribute("type","button"),c.setAttribute("handle","toggle"),c.setAttribute("is","coral-button"),c.setAttribute("variant","minimal"),c.setAttribute("icon","chevronDown"),c.setAttribute("iconSize","XS"),c.setAttribute("aria-label","coral-drawer"),s.appendChild(c);var d=document.createTextNode("\n");return s.appendChild(d),t.appendChild(s),t},function(){"use strict";var e={DOWN:"down",UP:"up"},t=[];for(var i in e)t.push("coral3-Drawer--"+e[i]);Coral.register({name:"Drawer",tagName:"coral-drawer",className:"coral3-Drawer",events:{"click .coral3-Drawer-toggleButton:not(:disabled)":"_onClick"},properties:{disabled:{default:!1,reflectAttribute:!0,transform:Coral.transform.boolean,attributeTransform:Coral.transform.booleanAttr,sync:function(){this.setAttribute("aria-disabled",this.disabled),this.classList.toggle("is-disabled",this.disabled),this._elements.toggle.disabled=this.disabled}},content:Coral.property.contentZone({handle:"content",tagName:"coral-drawer-content",defaultContentZone:!0,insert:function(e){this._elements.contentWrapper.appendChild(e)}}),direction:{default:e.DOWN,validate:[Coral.validate.valueMustChange,Coral.validate.enumeration(e)],sync:function(){this.classList.remove.apply(this.classList,t),this.classList.add(this._className+"--"+this.direction),this._updateIcon()}},open:{default:!1,reflectAttribute:!0,transform:Coral.transform.boolean,attributeTransform:Coral.transform.booleanAttr,sync:function(){var e=this;e.setAttribute("aria-expanded",e.open),e._updateIcon();var t=e._elements.slider;e._animate?(Coral.commons.transitionEnd(t,(function(){e.open&&(t.style.height=""),e.trigger("coral-drawer:"+(e.open?"open":"close"))})),e.open||(t.style.height=t.scrollHeight+"px"),Coral.commons.nextFrame((function(){t.style.height=e.open?t.scrollHeight+"px":0}))):(e._animate=!0,e.open||(t.style.height=0))}}},_onClick:function(){this.open=!this.open},_updateIcon:function(){this.direction===e.UP?this._elements.toggle.icon=this.open?"chevronDown":"chevronUp":this.direction===e.DOWN&&(this._elements.toggle.icon=this.open?"chevronUp":"chevronDown")},_render:function(){var e=document.createDocumentFragment();e.appendChild(Coral.templates.Drawer.base.call(this._elements));var t=this.querySelector("coral-drawer-content")||document.createElement("coral-drawer-content");for(this.content=t;this.firstChild;)t.appendChild(this.firstChild);this.appendChild(e)}}),Coral.register({name:"Drawer.Content",tagName:"coral-drawer-content"}),Coral.Drawer.direction=e}(),window.Coral=window.Coral||{},window.Coral.templates=window.Coral.templates||{},window.Coral.templates.FileUpload=window.Coral.templates.FileUpload||{},window.Coral.templates.FileUpload.base=function(e){var t=this.input=document.createElement("input");return t.setAttribute("handle","input"),t.className+=" coral3-FileUpload-input is-unselectable",t.setAttribute("tabindex","-1"),t.setAttribute("name",""),t.setAttribute("type","file"),t.setAttribute("accept",""),t},function(){"use strict";var e=["loadstart","progress","load","error","loadend","readystatechange","abort","timeout"],t={POST:"POST",PUT:"PUT",PATCH:"PATCH"},i=Coral.validate.enumeration(t),n=function(e){return"string"==typeof e?e.toUpperCase():e};Coral.register({name:"FileUpload",tagName:"coral-fileupload",className:"coral3-FileUpload",mixins:[Coral.mixin.formField],events:{"click [coral-fileupload-submit]":"_onSubmitButtonClick","click [coral-fileupload-clear]":"clear","click [coral-fileupload-select]":"_showFileDialog","click [coral-fileupload-abort]":"abort","click [coral-fileupload-abortfile]":"_onAbortFileClick","click [coral-fileupload-removefile]":"_onRemoveFileClick","click [coral-fileupload-uploadfile]":"_onUploadFileClick","dragenter [coral-fileupload-dropzone]":"_onDragAndDrop","dragover [coral-fileupload-dropzone]":"_onDragAndDrop",'dragleave [handle="input"]':"_onDragAndDrop",'drop [handle="input"]':"_onDragAndDrop","capture:focus [coral-fileupload-select]":"_onButtonFocusIn",'capture:focus [handle="input"]':"_onInputFocusIn",'capture:blur [handle="input"]':"_onInputFocusOut"},properties:{disabled:{set:function(e){this._disabled=e,this._elements.input.disabled=this.disabled},sync:function(){this.classList.toggle("is-disabled",this.disabled),this._setElementState()}},invalid:{set:function(e){this._invalid=e,this._elements.input.setAttribute("aria-invalid",this.invalid)},sync:function(){this.classList.toggle("is-invalid",this.invalid),this._setElementState()}},readOnly:{set:function(e){this._readOnly=e,this._elements.input.disabled=this.readOnly},sync:function(){this.classList.toggle("is-readOnly",this.readOnly),this._setElementState()}},required:{set:function(e){this._elements.input.required=e},get:function(){return this._elements.input.required},sync:function(){this.classList.toggle("is-required",this.required),this._setElementState()}},value:{set:function(e){if(""!==e&&null!==e)throw new Error("Coral.FileUpload accepts a filename, which may only be programmatically set to the empty string.");this._clearQueue(),this._clearFileInputValue()},get:function(){var e=this._uploadQueue?this._getQueueItem(0):null;return e?"C:\\fakepath\\"+e.file.name:""}},values:{validate:[Coral.validate.valueMustChange,function(e){return Array.isArray(e)}],set:function(e){e.length?this.value=e[0]:this.value=""},get:function(){var e=this._uploadQueue.map((function(e){return"C:\\fakepath\\"+e.file.name}));return e.length&&!this.multiple&&(e=[e[0]]),e}},labelledBy:{sync:function(){var e=this.labelledBy,t=[],i=this.querySelector("[coral-fileupload-select]");i&&t.push(i.id),e&&t.unshift(e),this._elements.input.setAttribute("aria-labelledby",t.join(" "))}},name:{get:function(){return this._elements.input.name},set:function(e){this._elements.input.name=e}},parameters:{default:function(){return[]},attribute:null,validate:[Coral.validate.valueMustChange,function(e,t){return Array.isArray(e)&&e.every((function(e){return e&&e.name}))}],sync:function(){this.async||(Array.prototype.forEach.call(this.querySelectorAll('input[type="hidden"]'),(function(e){e.parentNode.removeChild(e)})),this.parameters.forEach(function(e){var t=document.createElement("input");t.type="hidden",t.name=e.name,t.value=e.value,this.appendChild(t)}.bind(this)))}},async:{default:!1,reflectAttribute:!0,transform:Coral.transform.boolean,attributeTransform:Coral.transform.booleanAttr,set:function(e){this._async=e,this._async||this._syncProp("parameters"),this._uploadQueue&&(this._clearQueue(),this._clearFileInputValue())}},action:{default:"",attribute:"action",transform:Coral.transform.string,attributeTransform:Coral.transform.string,set:function(e){this._action=e,this._buttonAction=null}},method:{default:t.POST,transform:n,validate:[Coral.validate.valueMustChange,i],set:function(e){this._method=e,this._buttonMethod=null}},multiple:Coral.property.proxy({reflectAttribute:!0,transform:Coral.transform.boolean,attributeTransform:Coral.transform.booleanAttr,path:"_elements.input.multiple"}),sizeLimit:{default:0,attribute:"sizelimit",transform:Coral.transform.number,attributeTransform:Coral.transform.number},accept:Coral.property.proxy({reflectAttribute:!0,path:"_elements.input.accept"}),autoStart:{default:!1,attribute:"autostart",reflectAttribute:!0,transform:Coral.transform.boolean,attributeTransform:Coral.transform.booleanAttr},uploadQueue:{attribute:null,set:function(){}}},_onButtonFocusIn:function(e){var t=this._elements.input,i=e.matchedTarget;i.parentNode.insertBefore(t,i.nextElementSibling),window.setTimeout((function(){t.focus()}),100)},_onInputFocusIn:function(e){var t=this.querySelector("[coral-fileupload-select]");t&&(t.tabIndex=-1,t.setAttribute("aria-hidden",!0),t.classList.add("is-focused"))},_onInputFocusOut:function(e){var t=this.querySelector("[coral-fileupload-select].is-focused");t.classList.remove("is-focused"),Coral.commons.nextFrame((function(){t.tabIndex=0,t.removeAttribute("aria-hidden")}))},_onAbortFileClick:function(e){if(!this.async)throw new Error("Coral.FileUpload does not support aborting file(s) upload on synchronous mode.");var t=e.target.getAttribute("coral-fileupload-abortfile");t&&this._abortFile(t)},_onRemoveFileClick:function(e){if(!this.async)throw new Error("Coral.FileUpload does not support removing a file from the queue on synchronous mode.");var t=e.target.getAttribute("coral-fileupload-removefile");t&&this._clearFile(t)},_onUploadFileClick:function(e){if(!this.async)throw new Error("Coral.FileUpload does not support uploading a file from the queue on synchronous mode.");var t=e.target.getAttribute("coral-fileupload-uploadfile");t&&this.upload(t)},_onDragAndDrop:function(e){"dragenter"===e.type||"dragover"===e.type?this._addDragClass():"dragleave"!==e.type&&"drop"!==e.type||this._removeDragClass(),this.trigger("coral-fileupload:"+e.type)},_addDragClass:function(){clearTimeout(this._removeClassTimeout),this._removeClassTimeout=setTimeout(this._doAddDragClass,10)},_doAddDragClass:function(){this.classList.add("is-dragging");var e=this.querySelector("[coral-fileupload-dropzone]");e&&e.classList.add("is-dragging"),this._elements.input.classList.remove("is-unselectable")},_removeDragClass:function(){clearTimeout(this._removeClassTimeout),this._removeClassTimeout=setTimeout(this._doRemoveDragClass,10)},_doRemoveDragClass:function(){this.classList.remove("is-dragging");var e=this.querySelector("[coral-fileupload-dropzone]");e&&e.classList.remove("is-dragging"),this._elements.input.classList.add("is-unselectable")},_onSubmitButtonClick:function(e){var t=e.matchedTarget;this._buttonAction=t.getAttribute("formaction")||null;var o=n(t.getAttribute("formmethod"));this._buttonMethod=o&&i(o)?o:null,this.upload()},_onInputChange:function(e){if(e.stopPropagation(),!this.disabled){var t=this,i=[],n=[];if(e.target.files&&e.target.files.length)this._clearQueue(),i=e.target.files,this.multiple||(i=[i[0]]);else{if(!(e.dataTransfer&&e.dataTransfer.files&&e.dataTransfer.files.length))return;this._clearQueue(),i=e.dataTransfer.files,this.multiple||(i=[i[0]])}for(var o=0;o<i.length;o++)n.push(new Coral.FileUpload.Item(i[o]));n.forEach((function(e){t._getQueueItemByFilename(e.file.name)||(t.sizeLimit&&e.file.size>t.sizeLimit?t.trigger("coral-fileupload:filesizeexceeded",{item:e}):t.accept&&!e._isMimeTypeAllowed(t.accept)?t.trigger("coral-fileupload:filemimetyperejected",{item:e}):(t._uploadQueue.push(e),t.trigger("coral-fileupload:fileadded",{item:e})))})),this.autoStart&&this.upload(),this._triggerChangeEvent&&this.trigger("change"),this.async&&this._clearFileInputValue()}},_setElementState:function(){Array.prototype.forEach.call(this.querySelectorAll("[coral-fileupload-select],[coral-fileupload-dropzone],[coral-fileupload-submit],[coral-fileupload-clear],[coral-fileupload-abort],[coral-fileupload-abortfile],[coral-fileupload-removefile],[coral-fileupload-uploadfile]"),function(e){e.classList.toggle("is-invalid",this.invalid),e.classList.toggle("is-disabled",this.disabled),e.classList.toggle("is-required",this.required),e.classList.toggle("is-readOnly",this.readOnly),e[this.disabled||this.readOnly?"setAttribute":"removeAttribute"]("disabled","")}.bind(this))},_clearQueue:function(){this._uploadQueue.slice().forEach(function(e){this._clearFile(e.file.name)}.bind(this))},clear:function(e){if(this.async)"string"==typeof e?this._clearFile(e):this._clearQueue();else{if("string"==typeof e)throw new Error("Coral.FileUpload does not support removing a file from the queue on synchronous mode.");this._clearQueue(),this._clearFileInputValue()}},_clearFileInputValue:function(){this._elements.input.value=""},_clearFile:function(e){var t=this._getQueueItemByFilename(e);t&&(this._abortFile(e),this._uploadQueue.splice(this._getQueueIndex(e),1),this.trigger("coral-fileupload:fileremoved",{item:t}))},_uploadFile:function(e){var t=this._getQueueItemByFilename(e);t&&(this._abortFile(e),this._ajaxUpload(t))},upload:function(e){if(this.async)if("string"==typeof e)this._uploadFile(e);else{var t=this;t._uploadQueue.forEach((function(e){t._abortFile(e.file.name),t._ajaxUpload(e)}))}else{if("string"==typeof e)throw new Error("Coral.FileUpload does not support uploading a file from the queue on synchronous mode.");var i=this.closest("form");i||((i=document.createElement("form")).method=this.method.toLowerCase(),i.enctype="multipart/form-data",i.action=this.action,i.hidden=!0,i.appendChild(this._elements.input),Array.prototype.forEach.call(this.querySelectorAll('input[type="hidden"]'),(function(e){i.appendChild(e)})),this.appendChild(i));var n=document.createElement("input");n.type="hidden",n.name="_charset_",n.value="utf-8",i.submit()}},_showFileDialog:function(e){this._elements.input.click()},_abortFile:function(e){var t=this._getQueueItemByFilename(e);t&&t._xhr&&(t._xhr.abort(),t._xhr=null)},abort:function(e){if(!this.async)throw new Error("Coral.FileUpload does not support aborting file(s) upload on synchronous mode.");if("string"==typeof e)this._abortFile(e);else{var t=this;t._uploadQueue.forEach((function(e){t._abortFile(e.file.name)}))}},_ajaxUpload:function(t){var i=this,n=this._buttonAction||this.action,o=this._buttonMethod?this._buttonMethod.toUpperCase():this.method,a=i.parameters.concat(t.parameters),r=new FormData;a.forEach((function(e){r.append(e.name,e.value)})),r.append("_charset_","utf-8"),r.append(this.name,t._originalFile),t._xhr=new XMLHttpRequest,t._xhr.open(o,n),t._xhr.timeout=t.timeout,t._xhr.responseType=t.responseType,t._xhr.withCredentials=t.withCredentials,e.forEach((function(e){var a="progress"===e;(a?t._xhr.upload:t._xhr).addEventListener(e,(function(r){var s={item:t,action:n,method:o};a&&(s.lengthComputable=r.lengthComputable,s.loaded=r.loaded,s.total=r.total),i.trigger("coral-fileupload:"+e,s)}))})),t._xhr.send(r)},_getLabellableElement:function(){return this},_getQueueItemByFilename:function(e){return this._getQueueItem(this._getQueueIndex(e))},_getQueueItem:function(e){return e>-1?this._uploadQueue[e]:null},_getQueueIndex:function(e){var t=-1;return this._uploadQueue.some((function(i,n){if(i.file.name===e)return t=n,!0})),t},_getTargetChangeInput:function(){return this._elements.input},_positionInputOnDropZone:function(){var e=this._elements.input,t=this.querySelector("[coral-fileupload-dropzone]");if(t){var i=t.getBoundingClientRect();e.style.top=parseInt(t.offsetTop,10)+"px",e.style.left=parseInt(t.offsetLeft,10)+"px",e.style.width=parseInt(i.width,10)+"px",e.style.height=parseInt(i.height,10)+"px"}else e.style.width="0",e.style.height="0"},_initialize:function(){this._uploadQueue=[],this._doAddDragClass=this._doAddDragClass.bind(this),this._doRemoveDragClass=this._doRemoveDragClass.bind(this),this._positionInputOnDropZone=this._positionInputOnDropZone.bind(this),Coral.commons.nextFrame(function(){Coral.commons.addResizeListener(this,this._positionInputOnDropZone)}.bind(this));var e=this.querySelector("[coral-fileupload-select]");e&&(e.id=e.id||Coral.commons.getUID()),this._queueSync(["labelledBy"]),this._observer=new MutationObserver(this._positionInputOnDropZone),this._observer.observe(this,{childList:!0,attributes:!0,attributeFilter:["coral-fileupload-dropzone"],subtree:!0})},_render:function(){var e=[];Array.prototype.forEach.call(this.querySelectorAll('input[type="hidden"]'),(function(t){e.push({name:t.name,value:t.value})})),this.parameters=e;var t=this.querySelector('[handle="input"]');t&&t.parentNode.removeChild(t);var i=this.querySelector("object");i&&i.parentNode.removeChild(i),this.appendChild(Coral.templates.FileUpload.base.call(this._elements))}}),Coral.FileUpload.method=t}(),function(){"use strict";var e={TEXT:"text",ARRAY_BUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",JSON:"json"},t=/(.+)\/(.+)$/,i=/\.(.+)$/,n=/.*/,o={".123":"application/vnd.lotus-1-2-3",".3dml":"text/vnd.in3d.3dml",".3g2":"video/3gpp2",".3gp":"video/3gpp",".a":"application/octet-stream",".aab":"application/x-authorware-bin",".aac":"audio/x-aac",".aam":"application/x-authorware-map",".aas":"application/x-authorware-seg",".abw":"application/x-abiword",".acc":"application/vnd.americandynamics.acc",".ace":"application/x-ace-compressed",".acu":"application/vnd.acucobol",".acutc":"application/vnd.acucorp",".adp":"audio/adpcm",".aep":"application/vnd.audiograph",".afm":"application/x-font-type1",".afp":"application/vnd.ibm.modcap",".ai":"application/postscript",".aif":"audio/x-aiff",".aifc":"audio/x-aiff",".aiff":"audio/x-aiff",".air":"application/vnd.adobe.air-application-installer-package+zip",".ami":"application/vnd.amiga.ami",".apk":"application/vnd.android.package-archive",".application":"application/x-ms-application",".apr":"application/vnd.lotus-approach",".asc":"application/pgp-signature",".asf":"video/x-ms-asf",".asm":"text/x-asm",".aso":"application/vnd.accpac.simply.aso",".asx":"video/x-ms-asf",".atc":"application/vnd.acucorp",".atom":"application/atom+xml",".atomcat":"application/atomcat+xml",".atomsvc":"application/atomsvc+xml",".atx":"application/vnd.antix.game-component",".au":"audio/basic",".avi":"video/x-msvideo",".aw":"application/applixware",".azf":"application/vnd.airzip.filesecure.azf",".azs":"application/vnd.airzip.filesecure.azs",".azw":"application/vnd.amazon.ebook",".bat":"application/x-msdownload",".bcpio":"application/x-bcpio",".bdf":"application/x-font-bdf",".bdm":"application/vnd.syncml.dm+wbxml",".bh2":"application/vnd.fujitsu.oasysprs",".bin":"application/octet-stream",".bmi":"application/vnd.bmi",".bmp":"image/bmp",".book":"application/vnd.framemaker",".box":"application/vnd.previewsystems.box",".boz":"application/x-bzip2",".bpk":"application/octet-stream",".btif":"image/prs.btif",".bz":"application/x-bzip",".bz2":"application/x-bzip2",".c":"text/x-c",".c4d":"application/vnd.clonk.c4group",".c4f":"application/vnd.clonk.c4group",".c4g":"application/vnd.clonk.c4group",".c4p":"application/vnd.clonk.c4group",".c4u":"application/vnd.clonk.c4group",".cab":"application/vnd.ms-cab-compressed",".car":"application/vnd.curl.car",".cat":"application/vnd.ms-pki.seccat",".cc":"text/x-c",".cct":"application/x-director",".ccxml":"application/ccxml+xml",".cdbcmsg":"application/vnd.contact.cmsg",".cdf":"application/x-netcdf",".cdkey":"application/vnd.mediastation.cdkey",".cdx":"chemical/x-cdx",".cdxml":"application/vnd.chemdraw+xml",".cdy":"application/vnd.cinderella",".cer":"application/pkix-cert",".cgm":"image/cgm",".chat":"application/x-chat",".chm":"application/vnd.ms-htmlhelp",".chrt":"application/vnd.kde.kchart",".cif":"chemical/x-cif",".cii":"application/vnd.anser-web-certificate-issue-initiation",".cil":"application/vnd.ms-artgalry",".cla":"application/vnd.claymore",".class":"application/java-vm",".clkk":"application/vnd.crick.clicker.keyboard",".clkp":"application/vnd.crick.clicker.palette",".clkt":"application/vnd.crick.clicker.template",".clkw":"application/vnd.crick.clicker.wordbank",".clkx":"application/vnd.crick.clicker",".clp":"application/x-msclip",".cmc":"application/vnd.cosmocaller",".cmdf":"chemical/x-cmdf",".cml":"chemical/x-cml",".cmp":"application/vnd.yellowriver-custom-menu",".cmx":"image/x-cmx",".cod":"application/vnd.rim.cod",".com":"application/x-msdownload",".conf":"text/plain",".cpio":"application/x-cpio",".cpp":"text/x-c",".cpt":"application/mac-compactpro",".crd":"application/x-mscardfile",".crl":"application/pkix-crl",".crt":"application/x-x509-ca-cert",".csh":"application/x-csh",".csml":"chemical/x-csml",".csp":"application/vnd.commonspace",".css":"text/css",".cst":"application/x-director",".csv":["text/csv","application/vnd.ms-excel"],".cu":"application/cu-seeme",".curl":"text/vnd.curl",".cww":"application/prs.cww",".cxt":"application/x-director",".cxx":"text/x-c",".daf":"application/vnd.mobius.daf",".dataless":"application/vnd.fdsn.seed",".davmount":"application/davmount+xml",".dcr":"application/x-director",".dcurl":"text/vnd.curl.dcurl",".dd2":"application/vnd.oma.dd2+xml",".ddd":"application/vnd.fujixerox.ddd",".deb":"application/x-debian-package",".def":"text/plain",".deploy":"application/octet-stream",".der":"application/x-x509-ca-cert",".dfac":"application/vnd.dreamfactory",".dic":"text/x-c",".diff":"text/plain",".dir":"application/x-director",".dis":"application/vnd.mobius.dis",".dist":"application/octet-stream",".distz":"application/octet-stream",".djv":"image/vnd.djvu",".djvu":"image/vnd.djvu",".dll":"application/x-msdownload",".dmg":"application/octet-stream",".dms":"application/octet-stream",".dna":"application/vnd.dna",".doc":"application/msword",".docm":"application/vnd.ms-word.document.macroenabled.12",".docx":"application/vnd.openxmlformats-officedocument.wordprocessingml.document",".dot":"application/msword",".dotm":"application/vnd.ms-word.template.macroenabled.12",".dotx":"application/vnd.openxmlformats-officedocument.wordprocessingml.template",".dp":"application/vnd.osgi.dp",".dpg":"application/vnd.dpgraph",".dsc":"text/prs.lines.tag",".dtb":"application/x-dtbook+xml",".dtd":"application/xml-dtd",".dts":"audio/vnd.dts",".dtshd":"audio/vnd.dts.hd",".dump":"application/octet-stream",".dvi":"application/x-dvi",".dwf":"model/vnd.dwf",".dwg":"image/vnd.dwg",".dxf":"image/vnd.dxf",".dxp":"application/vnd.spotfire.dxp",".dxr":"application/x-director",".ecelp4800":"audio/vnd.nuera.ecelp4800",".ecelp7470":"audio/vnd.nuera.ecelp7470",".ecelp9600":"audio/vnd.nuera.ecelp9600",".ecma":"application/ecmascript",".edm":"application/vnd.novadigm.edm",".edx":"application/vnd.novadigm.edx",".efif":"application/vnd.picsel",".ei6":"application/vnd.pg.osasli",".elc":"application/octet-stream",".eml":"message/rfc822",".emma":"application/emma+xml",".eol":"audio/vnd.digital-winds",".eot":"application/vnd.ms-fontobject",".eps":"application/postscript",".epub":"application/epub+zip",".es3":"application/vnd.eszigno3+xml",".esf":"application/vnd.epson.esf",".et3":"application/vnd.eszigno3+xml",".etx":"text/x-setext",".exe":"application/x-msdownload",".ext":"application/vnd.novadigm.ext",".ez":"application/andrew-inset",".ez2":"application/vnd.ezpix-album",".ez3":"application/vnd.ezpix-package",".f":"text/x-fortran",".f4v":"video/x-f4v",".f77":"text/x-fortran",".f90":"text/x-fortran",".fbs":"image/vnd.fastbidsheet",".fdf":"application/vnd.fdf",".fe_launch":"application/vnd.denovo.fcselayout-link",".fg5":"application/vnd.fujitsu.oasysgp",".fgd":"application/x-director",".fh":"image/x-freehand",".fh4":"image/x-freehand",".fh5":"image/x-freehand",".fh7":"image/x-freehand",".fhc":"image/x-freehand",".fig":"application/x-xfig",".fli":"video/x-fli",".flo":"application/vnd.micrografx.flo",".flv":"video/x-flv",".flw":"application/vnd.kde.kivio",".flx":"text/vnd.fmi.flexstor",".fly":"text/vnd.fly",".fm":"application/vnd.framemaker",".fnc":"application/vnd.frogans.fnc",".for":"text/x-fortran",".fpx":"image/vnd.fpx",".frame":"application/vnd.framemaker",".fsc":"application/vnd.fsc.weblaunch",".fst":"image/vnd.fst",".ftc":"application/vnd.fluxtime.clip",".fti":"application/vnd.anser-web-funds-transfer-initiation",".fvt":"video/vnd.fvt",".fzs":"application/vnd.fuzzysheet",".g3":"image/g3fax",".gac":"application/vnd.groove-account",".gdl":"model/vnd.gdl",".geo":"application/vnd.dynageo",".gex":"application/vnd.geometry-explorer",".ggb":"application/vnd.geogebra.file",".ggt":"application/vnd.geogebra.tool",".ghf":"application/vnd.groove-help",".gif":"image/gif",".gim":"application/vnd.groove-identity-message",".gmx":"application/vnd.gmx",".gnumeric":"application/x-gnumeric",".gph":"application/vnd.flographit",".gqf":"application/vnd.grafeq",".gqs":"application/vnd.grafeq",".gram":"application/srgs",".gre":"application/vnd.geometry-explorer",".grv":"application/vnd.groove-injector",".grxml":"application/srgs+xml",".gsf":"application/x-font-ghostscript",".gtar":"application/x-gtar",".gtm":"application/vnd.groove-tool-message",".gtw":"model/vnd.gtw",".gv":"text/vnd.graphviz",".gz":"application/x-gzip",".h":"text/x-c",".h261":"video/h261",".h263":"video/h263",".h264":"video/h264",".hbci":"application/vnd.hbci",".hdf":"application/x-hdf",".hh":"text/x-c",".hlp":"application/winhlp",".hpgl":"application/vnd.hp-hpgl",".hpid":"application/vnd.hp-hpid",".hps":"application/vnd.hp-hps",".hqx":"application/mac-binhex40",".htke":"application/vnd.kenameaapp",".htm":"text/html",".html":"text/html",".hvd":"application/vnd.yamaha.hv-dic",".hvp":"application/vnd.yamaha.hv-voice",".hvs":"application/vnd.yamaha.hv-script",".icc":"application/vnd.iccprofile",".ice":"x-conference/x-cooltalk",".icm":"application/vnd.iccprofile",".ico":"image/x-icon",".ics":"text/calendar",".ief":"image/ief",".ifb":"text/calendar",".ifm":"application/vnd.shana.informed.formdata",".iges":"model/iges",".igl":"application/vnd.igloader",".igs":"model/iges",".igx":"application/vnd.micrografx.igx",".iif":"application/vnd.shana.informed.interchange",".imp":"application/vnd.accpac.simply.imp",".ims":"application/vnd.ms-ims",".in":"text/plain",".ipk":"application/vnd.shana.informed.package",".irm":"application/vnd.ibm.rights-management",".irp":"application/vnd.irepository.package+xml",".iso":"application/octet-stream",".itp":"application/vnd.shana.informed.formtemplate",".ivp":"application/vnd.immervision-ivp",".ivu":"application/vnd.immervision-ivu",".jad":"text/vnd.sun.j2me.app-descriptor",".jam":"application/vnd.jam",".jar":"application/java-archive",".java":"text/x-java-source",".jisp":"application/vnd.jisp",".jlt":"application/vnd.hp-jlyt",".jnlp":"application/x-java-jnlp-file",".joda":"application/vnd.joost.joda-archive",".jpe":"image/jpeg",".jpeg":"image/jpeg",".jpg":"image/jpeg",".jpgm":"video/jpm",".jpgv":"video/jpeg",".jpm":"video/jpm",".js":"application/javascript",".json":"application/json",".kar":"audio/midi",".karbon":"application/vnd.kde.karbon",".kfo":"application/vnd.kde.kformula",".kia":"application/vnd.kidspiration",".kil":"application/x-killustrator",".kml":"application/vnd.google-earth.kml+xml",".kmz":"application/vnd.google-earth.kmz",".kne":"application/vnd.kinar",".knp":"application/vnd.kinar",".kon":"application/vnd.kde.kontour",".kpr":"application/vnd.kde.kpresenter",".kpt":"application/vnd.kde.kpresenter",".ksh":"text/plain",".ksp":"application/vnd.kde.kspread",".ktr":"application/vnd.kahootz",".ktz":"application/vnd.kahootz",".kwd":"application/vnd.kde.kword",".kwt":"application/vnd.kde.kword",".latex":"application/x-latex",".lbd":"application/vnd.llamagraphics.life-balance.desktop",".lbe":"application/vnd.llamagraphics.life-balance.exchange+xml",".les":"application/vnd.hhe.lesson-player",".lha":"application/octet-stream",".link66":"application/vnd.route66.link66+xml",".list":"text/plain",".list3820":"application/vnd.ibm.modcap",".listafp":"application/vnd.ibm.modcap",".log":"text/plain",".lostxml":"application/lost+xml",".lrf":"application/octet-stream",".lrm":"application/vnd.ms-lrm",".ltf":"application/vnd.frogans.ltf",".lvp":"audio/vnd.lucent.voice",".lwp":"application/vnd.lotus-wordpro",".lzh":"application/octet-stream",".m13":"application/x-msmediaview",".m14":"application/x-msmediaview",".m1v":"video/mpeg",".m2a":"audio/mpeg",".m2v":"video/mpeg",".m3a":"audio/mpeg",".m3u":"audio/x-mpegurl",".m4u":"video/vnd.mpegurl",".m4v":"video/x-m4v",".ma":"application/mathematica",".mag":"application/vnd.ecowin.chart",".maker":"application/vnd.framemaker",".man":"text/troff",".mathml":"application/mathml+xml",".mb":"application/mathematica",".mbk":"application/vnd.mobius.mbk",".mbox":"application/mbox",".mc1":"application/vnd.medcalcdata",".mcd":"application/vnd.mcd",".mcurl":"text/vnd.curl.mcurl",".mdb":"application/x-msaccess",".mdi":"image/vnd.ms-modi",".me":"text/troff",".mesh":"model/mesh",".mfm":"application/vnd.mfmp",".mgz":"application/vnd.proteus.magazine",".mht":"message/rfc822",".mhtml":"message/rfc822",".mid":"audio/midi",".midi":"audio/midi",".mif":"application/vnd.mif",".mime":"message/rfc822",".mj2":"video/mj2",".mjp2":"video/mj2",".mlp":"application/vnd.dolby.mlp",".mmd":"application/vnd.chipnuts.karaoke-mmd",".mmf":"application/vnd.smaf",".mmr":"image/vnd.fujixerox.edmics-mmr",".mny":"application/x-msmoney",".mobi":"application/x-mobipocket-ebook",".mov":"video/quicktime",".movie":"video/x-sgi-movie",".mp2":"audio/mpeg",".mp2a":"audio/mpeg",".mp3":"audio/mpeg",".mp4":"video/mp4",".mp4a":"audio/mp4",".mp4s":"application/mp4",".mp4v":"video/mp4",".mpa":"video/mpeg",".mpc":"application/vnd.mophun.certificate",".mpe":"video/mpeg",".mpeg":"video/mpeg",".mpg":"video/mpeg",".mpg4":"video/mp4",".mpga":"audio/mpeg",".mpkg":"application/vnd.apple.installer+xml",".mpm":"application/vnd.blueice.multipass",".mpn":"application/vnd.mophun.application",".mpp":"application/vnd.ms-project",".mpt":"application/vnd.ms-project",".mpy":"application/vnd.ibm.minipay",".mqy":"application/vnd.mobius.mqy",".mrc":"application/marc",".ms":"text/troff",".mscml":"application/mediaservercontrol+xml",".mseed":"application/vnd.fdsn.mseed",".mseq":"application/vnd.mseq",".msf":"application/vnd.epson.msf",".msh":"model/mesh",".msi":"application/x-msdownload",".msl":"application/vnd.mobius.msl",".msty":"application/vnd.muvee.style",".mts":"model/vnd.mts",".mus":"application/vnd.musician",".musicxml":"application/vnd.recordare.musicxml+xml",".mvb":"application/x-msmediaview",".mwf":"application/vnd.mfer",".mxf":"application/mxf",".mxl":"application/vnd.recordare.musicxml",".mxml":"application/xv+xml",".mxs":"application/vnd.triscape.mxs",".mxu":"video/vnd.mpegurl",".n-gage":"application/vnd.nokia.n-gage.symbian.install",".nb":"application/mathematica",".nc":"application/x-netcdf",".ncx":"application/x-dtbncx+xml",".ngdat":"application/vnd.nokia.n-gage.data",".nlu":"application/vnd.neurolanguage.nlu",".nml":"application/vnd.enliven",".nnd":"application/vnd.noblenet-directory",".nns":"application/vnd.noblenet-sealer",".nnw":"application/vnd.noblenet-web",".npx":"image/vnd.net-fpx",".nsf":"application/vnd.lotus-notes",".nws":"message/rfc822",".o":"application/octet-stream",".oa2":"application/vnd.fujitsu.oasys2",".oa3":"application/vnd.fujitsu.oasys3",".oas":"application/vnd.fujitsu.oasys",".obd":"application/x-msbinder",".obj":"application/octet-stream",".oda":"application/oda",".odb":"application/vnd.oasis.opendocument.database",".odc":"application/vnd.oasis.opendocument.chart",".odf":"application/vnd.oasis.opendocument.formula",".odft":"application/vnd.oasis.opendocument.formula-template",".odg":"application/vnd.oasis.opendocument.graphics",".odi":"application/vnd.oasis.opendocument.image",".odp":"application/vnd.oasis.opendocument.presentation",".ods":"application/vnd.oasis.opendocument.spreadsheet",".odt":"application/vnd.oasis.opendocument.text",".oga":"audio/ogg",".ogg":"audio/ogg",".ogv":"video/ogg",".ogx":"application/ogg",".onepkg":"application/onenote",".onetmp":"application/onenote",".onetoc":"application/onenote",".onetoc2":"application/onenote",".opf":"application/oebps-package+xml",".oprc":"application/vnd.palm",".org":"application/vnd.lotus-organizer",".osf":"application/vnd.yamaha.openscoreformat",".osfpvg":"application/vnd.yamaha.openscoreformat.osfpvg+xml",".otc":"application/vnd.oasis.opendocument.chart-template",".otf":"application/x-font-otf",".otg":"application/vnd.oasis.opendocument.graphics-template",".oth":"application/vnd.oasis.opendocument.text-web",".oti":"application/vnd.oasis.opendocument.image-template",".otm":"application/vnd.oasis.opendocument.text-master",".otp":"application/vnd.oasis.opendocument.presentation-template",".ots":"application/vnd.oasis.opendocument.spreadsheet-template",".ott":"application/vnd.oasis.opendocument.text-template",".oxt":"application/vnd.openofficeorg.extension",".p":"text/x-pascal",".p10":"application/pkcs10",".p12":"application/x-pkcs12",".p7b":"application/x-pkcs7-certificates",".p7c":"application/pkcs7-mime",".p7m":"application/pkcs7-mime",".p7r":"application/x-pkcs7-certreqresp",".p7s":"application/pkcs7-signature",".pas":"text/x-pascal",".pbd":"application/vnd.powerbuilder6",".pbm":"image/x-portable-bitmap",".pcf":"application/x-font-pcf",".pcl":"application/vnd.hp-pcl",".pclxl":"application/vnd.hp-pclxl",".pct":"image/x-pict",".pcurl":"application/vnd.curl.pcurl",".pcx":"image/x-pcx",".pdb":"application/vnd.palm",".pdf":"application/pdf",".pfa":"application/x-font-type1",".pfb":"application/x-font-type1",".pfm":"application/x-font-type1",".pfr":"application/font-tdpfr",".pfx":"application/x-pkcs12",".pgm":"image/x-portable-graymap",".pgn":"application/x-chess-pgn",".pgp":"application/pgp-encrypted",".pic":"image/x-pict",".pkg":"application/octet-stream",".pki":"application/pkixcmp",".pkipath":"application/pkix-pkipath",".pl":"text/plain",".plb":"application/vnd.3gpp.pic-bw-large",".plc":"application/vnd.mobius.plc",".plf":"application/vnd.pocketlearn",".pls":"application/pls+xml",".pml":"application/vnd.ctc-posml",".png":"image/png",".pnm":"image/x-portable-anymap",".portpkg":"application/vnd.macports.portpkg",".pot":"application/vnd.ms-powerpoint",".potm":"application/vnd.ms-powerpoint.template.macroenabled.12",".potx":"application/vnd.openxmlformats-officedocument.presentationml.template",".ppa":"application/vnd.ms-powerpoint",".ppam":"application/vnd.ms-powerpoint.addin.macroenabled.12",".ppd":"application/vnd.cups-ppd",".ppm":"image/x-portable-pixmap",".pps":"application/vnd.ms-powerpoint",".ppsm":"application/vnd.ms-powerpoint.slideshow.macroenabled.12",".ppsx":"application/vnd.openxmlformats-officedocument.presentationml.slideshow",".ppt":"application/vnd.ms-powerpoint",".pptm":"application/vnd.ms-powerpoint.presentation.macroenabled.12",".pptx":"application/vnd.openxmlformats-officedocument.presentationml.presentation",".pqa":"application/vnd.palm",".prc":"application/x-mobipocket-ebook",".pre":"application/vnd.lotus-freelance",".prf":"application/pics-rules",".ps":"application/postscript",".psb":"application/vnd.3gpp.pic-bw-small",".psd":"image/vnd.adobe.photoshop",".psf":"application/x-font-linux-psf",".ptid":"application/vnd.pvi.ptid1",".pub":"application/x-mspublisher",".pvb":"application/vnd.3gpp.pic-bw-var",".pwn":"application/vnd.3m.post-it-notes",".pwz":"application/vnd.ms-powerpoint",".py":"text/x-python",".pya":"audio/vnd.ms-playready.media.pya",".pyc":"application/x-python-code",".pyo":"application/x-python-code",".pyv":"video/vnd.ms-playready.media.pyv",".qam":"application/vnd.epson.quickanime",".qbo":"application/vnd.intu.qbo",".qfx":"application/vnd.intu.qfx",".qps":"application/vnd.publishare-delta-tree",".qt":"video/quicktime",".qwd":"application/vnd.quark.quarkxpress",".qwt":"application/vnd.quark.quarkxpress",".qxb":"application/vnd.quark.quarkxpress",".qxd":"application/vnd.quark.quarkxpress",".qxl":"application/vnd.quark.quarkxpress",".qxt":"application/vnd.quark.quarkxpress",".ra":"audio/x-pn-realaudio",".ram":"audio/x-pn-realaudio",".rar":"application/x-rar-compressed",".ras":"image/x-cmu-raster",".rcprofile":"application/vnd.ipunplugged.rcprofile",".rdf":"application/rdf+xml",".rdz":"application/vnd.data-vision.rdz",".rep":"application/vnd.businessobjects",".res":"application/x-dtbresource+xml",".rgb":"image/x-rgb",".rif":"application/reginfo+xml",".rl":"application/resource-lists+xml",".rlc":"image/vnd.fujixerox.edmics-rlc",".rld":"application/resource-lists-diff+xml",".rm":"application/vnd.rn-realmedia",".rmi":"audio/midi",".rmp":"audio/x-pn-realaudio-plugin",".rms":"application/vnd.jcp.javame.midlet-rms",".rnc":"application/relax-ng-compact-syntax",".roff":"text/troff",".rpm":"application/x-rpm",".rpss":"application/vnd.nokia.radio-presets",".rpst":"application/vnd.nokia.radio-preset",".rq":"application/sparql-query",".rs":"application/rls-services+xml",".rsd":"application/rsd+xml",".rss":"application/rss+xml",".rtf":"application/rtf",".rtx":"text/richtext",".s":"text/x-asm",".saf":"application/vnd.yamaha.smaf-audio",".sbml":"application/sbml+xml",".sc":"application/vnd.ibm.secure-container",".scd":"application/x-msschedule",".scm":"application/vnd.lotus-screencam",".scq":"application/scvp-cv-request",".scs":"application/scvp-cv-response",".scurl":"text/vnd.curl.scurl",".sda":"application/vnd.stardivision.draw",".sdc":"application/vnd.stardivision.calc",".sdd":"application/vnd.stardivision.impress",".sdkd":"application/vnd.solent.sdkm+xml",".sdkm":"application/vnd.solent.sdkm+xml",".sdp":"application/sdp",".sdw":"application/vnd.stardivision.writer",".see":"application/vnd.seemail",".seed":"application/vnd.fdsn.seed",".sema":"application/vnd.sema",".semd":"application/vnd.semd",".semf":"application/vnd.semf",".ser":"application/java-serialized-object",".setpay":"application/set-payment-initiation",".setreg":"application/set-registration-initiation",".sfd-hdstx":"application/vnd.hydrostatix.sof-data",".sfs":"application/vnd.spotfire.sfs",".sgl":"application/vnd.stardivision.writer-global",".sgm":"text/sgml",".sgml":"text/sgml",".sh":"application/x-sh",".shar":"application/x-shar",".shf":"application/shf+xml",".si":"text/vnd.wap.si",".sic":"application/vnd.wap.sic",".sig":"application/pgp-signature",".silo":"model/mesh",".sis":"application/vnd.symbian.install",".sisx":"application/vnd.symbian.install",".sit":"application/x-stuffit",".sitx":"application/x-stuffitx",".skd":"application/vnd.koan",".skm":"application/vnd.koan",".skp":"application/vnd.koan",".skt":"application/vnd.koan",".sl":"text/vnd.wap.sl",".slc":"application/vnd.wap.slc",".sldm":"application/vnd.ms-powerpoint.slide.macroenabled.12",".sldx":"application/vnd.openxmlformats-officedocument.presentationml.slide",".slt":"application/vnd.epson.salt",".smf":"application/vnd.stardivision.math",".smi":"application/smil+xml",".smil":"application/smil+xml",".snd":"audio/basic",".snf":"application/x-font-snf",".so":"application/octet-stream",".spc":"application/x-pkcs7-certificates",".spf":"application/vnd.yamaha.smaf-phrase",".spl":"application/x-futuresplash",".spot":"text/vnd.in3d.spot",".spp":"application/scvp-vp-response",".spq":"application/scvp-vp-request",".spx":"audio/ogg",".src":"application/x-wais-source",".srx":"application/sparql-results+xml",".sse":"application/vnd.kodak-descriptor",".ssf":"application/vnd.epson.ssf",".ssml":"application/ssml+xml",".stc":"application/vnd.sun.xml.calc.template",".std":"application/vnd.sun.xml.draw.template",".stf":"application/vnd.wt.stf",".sti":"application/vnd.sun.xml.impress.template",".stk":"application/hyperstudio",".stl":"application/vnd.ms-pki.stl",".str":"application/vnd.pg.format",".stw":"application/vnd.sun.xml.writer.template",".sus":"application/vnd.sus-calendar",".susp":"application/vnd.sus-calendar",".sv4cpio":"application/x-sv4cpio",".sv4crc":"application/x-sv4crc",".svd":"application/vnd.svd",".svg":"image/svg+xml",".svgz":"image/svg+xml",".swa":"application/x-director",".swf":"application/x-shockwave-flash",".swi":"application/vnd.arastra.swi",".sxc":"application/vnd.sun.xml.calc",".sxd":"application/vnd.sun.xml.draw",".sxg":"application/vnd.sun.xml.writer.global",".sxi":"application/vnd.sun.xml.impress",".sxm":"application/vnd.sun.xml.math",".sxw":"application/vnd.sun.xml.writer",".t":"text/troff",".tao":"application/vnd.tao.intent-module-archive",".tar":"application/x-tar",".tcap":"application/vnd.3gpp2.tcap",".tcl":"application/x-tcl",".teacher":"application/vnd.smart.teacher",".tex":"application/x-tex",".texi":"application/x-texinfo",".texinfo":"application/x-texinfo",".text":"text/plain",".tfm":"application/x-tex-tfm",".tgz":"application/x-gzip",".tif":"image/tiff",".tiff":"image/tiff",".tmo":"application/vnd.tmobile-livetv",".torrent":"application/x-bittorrent",".tpl":"application/vnd.groove-tool-template",".tpt":"application/vnd.trid.tpt",".tr":"text/troff",".tra":"application/vnd.trueapp",".trm":"application/x-msterminal",".tsv":"text/tab-separated-values",".ttc":"application/x-font-ttf",".ttf":"application/x-font-ttf",".twd":"application/vnd.simtech-mindmapper",".twds":"application/vnd.simtech-mindmapper",".txd":"application/vnd.genomatix.tuxedo",".txf":"application/vnd.mobius.txf",".txt":"text/plain",".u32":"application/x-authorware-bin",".udeb":"application/x-debian-package",".ufd":"application/vnd.ufdl",".ufdl":"application/vnd.ufdl",".umj":"application/vnd.umajin",".unityweb":"application/vnd.unity",".uoml":"application/vnd.uoml+xml",".uri":"text/uri-list",".uris":"text/uri-list",".urls":"text/uri-list",".ustar":"application/x-ustar",".utz":"application/vnd.uiq.theme",".uu":"text/x-uuencode",".vcd":"application/x-cdlink",".vcf":"text/x-vcard",".vcg":"application/vnd.groove-vcard",".vcs":"text/x-vcalendar",".vcx":"application/vnd.vcx",".vis":"application/vnd.visionary",".viv":"video/vnd.vivo",".vor":"application/vnd.stardivision.writer",".vox":"application/x-authorware-bin",".vrml":"model/vrml",".vsd":"application/vnd.visio",".vsf":"application/vnd.vsf",".vss":"application/vnd.visio",".vst":"application/vnd.visio",".vsw":"application/vnd.visio",".vtu":"model/vnd.vtu",".vxml":"application/voicexml+xml",".w3d":"application/x-director",".wad":"application/x-doom",".wav":"audio/x-wav",".wax":"audio/x-ms-wax",".wbmp":"image/vnd.wap.wbmp",".wbs":"application/vnd.criticaltools.wbs+xml",".wbxml":"application/vnd.wap.wbxml",".wcm":"application/vnd.ms-works",".wdb":"application/vnd.ms-works",".wiz":"application/msword",".wks":"application/vnd.ms-works",".wm":"video/x-ms-wm",".wma":"audio/x-ms-wma",".wmd":"application/x-ms-wmd",".wmf":"application/x-msmetafile",".wml":"text/vnd.wap.wml",".wmlc":"application/vnd.wap.wmlc",".wmls":"text/vnd.wap.wmlscript",".wmlsc":"application/vnd.wap.wmlscriptc",".wmv":"video/x-ms-wmv",".wmx":"video/x-ms-wmx",".wmz":"application/x-ms-wmz",".wpd":"application/vnd.wordperfect",".wpl":"application/vnd.ms-wpl",".wps":"application/vnd.ms-works",".wqd":"application/vnd.wqd",".wri":"application/x-mswrite",".wrl":"model/vrml",".wsdl":"application/wsdl+xml",".wspolicy":"application/wspolicy+xml",".wtb":"application/vnd.webturbo",".wvx":"video/x-ms-wvx",".x32":"application/x-authorware-bin",".x3d":"application/vnd.hzn-3d-crossword",".xap":"application/x-silverlight-app",".xar":"application/vnd.xara",".xbap":"application/x-ms-xbap",".xbd":"application/vnd.fujixerox.docuworks.binder",".xbm":"image/x-xbitmap",".xdm":"application/vnd.syncml.dm+xml",".xdp":"application/vnd.adobe.xdp+xml",".xdw":"application/vnd.fujixerox.docuworks",".xenc":"application/xenc+xml",".xer":"application/patch-ops-error+xml",".xfdf":"application/vnd.adobe.xfdf",".xfdl":"application/vnd.xfdl",".xht":"application/xhtml+xml",".xhtml":"application/xhtml+xml",".xhvml":"application/xv+xml",".xif":"image/vnd.xiff",".xla":"application/vnd.ms-excel",".xlam":"application/vnd.ms-excel.addin.macroenabled.12",".xlb":"application/vnd.ms-excel",".xlc":"application/vnd.ms-excel",".xlm":"application/vnd.ms-excel",".xls":"application/vnd.ms-excel",".xlsb":"application/vnd.ms-excel.sheet.binary.macroenabled.12",".xlsm":"application/vnd.ms-excel.sheet.macroenabled.12",".xlsx":"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",".xlt":"application/vnd.ms-excel",".xltm":"application/vnd.ms-excel.template.macroenabled.12",".xltx":"application/vnd.openxmlformats-officedocument.spreadsheetml.template",".xlw":"application/vnd.ms-excel",".xml":"application/xml",".xo":"application/vnd.olpc-sugar",".xop":"application/xop+xml",".xpdl":"application/xml",".xpi":"application/x-xpinstall",".xpm":"image/x-xpixmap",".xpr":"application/vnd.is-xpr",".xps":"application/vnd.ms-xpsdocument",".xpw":"application/vnd.intercon.formnet",".xpx":"application/vnd.intercon.formnet",".xsl":"application/xml",".xslt":"application/xslt+xml",".xsm":"application/vnd.syncml+xml",".xspf":"application/xspf+xml",".xul":"application/vnd.mozilla.xul+xml",".xvm":"application/xv+xml",".xvml":"application/xv+xml",".xwd":"image/x-xwindowdump",".xyz":"chemical/x-xyz",".zaz":"application/vnd.zzazz.deck+xml",".zip":"application/zip",".zir":"application/vnd.zul",".zirz":"application/vnd.zul",".zmm":"application/vnd.handheld-entertainment+xml"};Coral.FileUpload.Item=function(e){this._originalFile=e,this._xhr=null,this._parameters=[],this._withCredentials=!1,this._timeout=0,this._responseType=Coral.FileUpload.Item.responseType.TEXT,this._readyState=0,this._response=null,this._responseText="",this._responseXML=null,this._status=0,this._statusText=""},Coral.FileUpload.Item.prototype={},Object.defineProperty(Coral.FileUpload.Item.prototype,"file",{get:function(){return this._originalFile},set:function(e){}}),Object.defineProperty(Coral.FileUpload.Item.prototype,"parameters",{get:function(){return this._parameters},set:function(e){Coral.validate.valueMustChange(e,this._parameters)&&(Array.isArray(e)&&e.every((function(e){return e&&e.name}))&&(this._parameters=e))}}),Object.defineProperty(Coral.FileUpload.Item.prototype,"withCredentials",{get:function(){return this._withCredentials},set:function(e){e=Coral.transform.boolean(e),Coral.validate.valueMustChange(e,this._withCredentials)&&(this._withCredentials=e)}}),Object.defineProperty(Coral.FileUpload.Item.prototype,"timeout",{get:function(){return this._timeout},set:function(e){if(Coral.validate.valueMustChange(e,this._timeout)){var t=Coral.transform.number(e);null!==t&&(this._timeout=t,this._xhr&&(this._xhr.timeout=t))}}}),Object.defineProperty(Coral.FileUpload.Item.prototype,"responseType",{get:function(){return this._responseType},set:function(t){Coral.validate.valueMustChange(t,this._responseType)&&Coral.validate.enumeration(e)(t)&&(this._responseType=t,this._xhr&&(this._xhr.responseType=t))}}),Object.defineProperty(Coral.FileUpload.Item.prototype,"readyState",{get:function(){return this._xhr?this._xhr.readyState:this._readyState},set:function(e){}}),Object.defineProperty(Coral.FileUpload.Item.prototype,"response",{get:function(){return this._xhr?this._xhr.response:this._response},set:function(e){}}),Object.defineProperty(Coral.FileUpload.Item.prototype,"responseText",{get:function(){return this._xhr?this._xhr.responseText:this._responseText},set:function(e){}}),Object.defineProperty(Coral.FileUpload.Item.prototype,"responseXML",{get:function(){return this._xhr?this._xhr.responseXML:this._responseXML},set:function(e){}}),Object.defineProperty(Coral.FileUpload.Item.prototype,"status",{get:function(){return this._xhr?this._xhr.status:this._status},set:function(e){}}),Object.defineProperty(Coral.FileUpload.Item.prototype,"statusText",{get:function(){return this._xhr?this._xhr.statusText:this._statusText},set:function(e){}}),Coral.FileUpload.Item.prototype._isMimeTypeAllowed=function(e){var a=!1,r=this.file.type||"application/unknown";return!!r.match(t)&&e.split(",").some(function(e){if("*"===(e=e.trim())||".*"===e||"*/*"===e||"application/unknown"===r)a=!0;else if(e.match(t))a="audio/*"===e?0===r.indexOf("audio/*".slice(0,-1)):"image/*"===e?0===r.indexOf("image/*".slice(0,-1)):"video/*"===e?0===r.indexOf("video/*".slice(0,-1)):r===e;else if(e.match(i)){var s=o[e];a=Array.isArray(s)?s.some((function(e){return r===e})):r===o[e]}else e.match(n)&&(a=r.split("/")[0]===e);return a}.bind(this))},Coral.FileUpload.Item.responseType=e}(),function(){"use strict";var e={ON:"on",OFF:"off"};function t(e){return e&&"CORAL-MASONRY-ITEM"===e.tagName&&!e._removing}function i(e){return e._removing||!e.parentNode}function n(e,t){var i=e.getBoundingClientRect(),n=t.getBoundingClientRect();return{left:n.left-i.left,top:n.top-i.top}}function o(e,t,i,n,o,a){return Math.sqrt(Math.pow((i-e)/o,2)+Math.pow((n-t)/a,2))}function a(e){var i=e.previousElementSibling;return t(i)?i:null}function r(e){this._masonry=e}document.addEventListener("error",(function(e){var t=e.target;t&&"IMG"===t.tagName&&(t._loadError=!0)}),!0),Coral.register({name:"Masonry",tagName:"coral-masonry",className:"coral3-Masonry",events:{resize:"_onResize","global:resize":"_onWindowResize","global:load":"_updateLoaded","capture:load img":"_updateLoaded","capture:error img":"_updateLoaded","coral-dragaction:dragstart coral-masonry-item":"_onItemDragStart","coral-dragaction:dragover coral-masonry-item":"_onItemDragMove","coral-dragaction:dragend coral-masonry-item":"_onItemDragEnd","capture:focus coral-masonry-item":"_onItemFocus"},properties:{items:{get:function(){return this._items},set:function(){}},layout:{default:"",reflectAttribute:!0,get:function(){return this._layoutName},set:function(e){var t=Coral.Masonry&&Coral.Masonry._layouts;t?(""===e&&(e=Object.keys(t)[0]),e!==this._layoutName&&(t[e]?(this._layoutName=e,this._scheduleLayout("new layout")):window.console)):window.setTimeout(function(){this.layout=e}.bind(this),0)}},layoutInstance:{get:function(){return this._layout},set:function(){}},selectedItem:{get:function(){for(var e=this.items.getAll(),t=0;t<e.length;t++){var i=e[t];if(i.selected)return i}return null},set:function(){}},selectedItems:{get:function(){for(var e=[],t=this.items.getAll(),i=0;i<t.length;i++){var n=t[i];n.selected&&e.push(n)}return e},set:function(){}},spacing:{default:null,transform:function(e){var t=Coral.transform.number(e);return null!==t?Math.max(0,t):null},sync:function(){this._scheduleLayout("spacing")}},orderable:{default:!1,transform:Coral.transform.boolean,attributeTransform:Coral.transform.booleanAttr,sync:function(){this._updateDragActions()}},ariaGrid:{attribute:"ariagrid",default:e.OFF,reflectAttribute:!0,validate:[Coral.validate.valueMustChange,Coral.validate.enumeration(e)],sync:function(){this._shouldActivateAriaGrid()?this._activateAriaGrid():this._deactiveateAriaGrid()}},ariaLabel:{attribute:"aria-label",reflectAttribute:!0,transform:Coral.transform.string,attributeTransform:Coral.transform.string,sync:function(){this._shouldActivateAriaGrid()&&this.parentNode[this.ariaLabel?"setAttribute":"removeAttribute"]("aria-label",this.ariaLabel)}},ariaLabelledby:{attribute:"aria-labelledby",reflectAttribute:!0,transform:Coral.transform.string,attributeTransform:Coral.transform.string,sync:function(){this._shouldActivateAriaGrid()&&this.parentNode[this.ariaLabelledby?"setAttribute":"removeAttribute"]("aria-labelledby",this.ariaLabelledby)}}},selectAll:function(){this._setAllSelected(!0)},deselectAll:function(){this._setAllSelected(!1)},_setAllSelected:function(e){for(var t=this.items.getAll(),i=0;i<t.length;i++){var n=t[i];n.selected!==e&&(n.selected=e)}},_scheduleLayout:function(e){this._forceDebounce||this._layoutScheduled||(Coral.commons.nextFrame(function(){this._layoutScheduled&&(this._doLayout(e),this._layoutScheduled=!1)}.bind(this)),this._layoutScheduled=!0)},_scheduleDebouncedLayout:function(e,t){t&&this._layouted&&(this._forceDebounce=!0),window.clearTimeout(this._debounceId),this._debounceId=window.setTimeout(function(){this._forceDebounce=!1,this._scheduleLayout("window resize")}.bind(this),500)},_onResize:function(){this._componentReady&&(this._layouted?this._scheduleDebouncedLayout("resize",!1):this._doLayout("became visible"))},_onWindowResize:function(){this._scheduleDebouncedLayout("window resize",!0)},_doLayout:function(e){var t=!!this.offsetParent,n=Coral.Masonry._layouts[this.layout];if(!this._forceDebounce&&n&&t){var o;this._layout?this._layout.name!==this.layout&&(this._layout.destroy(),this._layout=new n(this)):this._layout=new n(this);var a=this._newItems;for(o=0;o<a.length;o++)a[o]._insert();for(this._layout.layout(),this._layouted=!0,o=0;o<a.length;o++)a[o].classList.add("is-managed");a.length=0,this.classList.toggle("is-loaded",this._loaded);var r=this._tabbableItem;r&&!i(r)||this._setTabbableItem(this.items.first());var s=this._focusedItem;s&&(i(s)&&this._focusedItemNext?this._focusedItemNext.focus():s!==document.activeElement&&(this._focusedItem=null,this._focusedItemNext=null)),this._updateAreaGridIndexes(),this._observer.takeRecords()}},_initialize:function(){this._loaded=!1,this._layouted=!1,this._layoutScheduled=!1,this._forceDebounce=!1,this._debounceId=null,this._items=new Coral.Collection({host:this,itemTagName:"CORAL-MASONRY-ITEM",filter:t}),this._newItems=[],this._tabbableItem=null,this._observer=new MutationObserver(this._scheduleLayout.bind(this,"mutation")),this._observer.observe(this,{childList:!0,subtree:!0,characterData:!0,attributes:!0})},attachedCallback:function(){Coral.Component.prototype.attachedCallback.call(this),this._saveAriaGridParentRole(),this._attaching=!0,Coral.commons.nextFrame(function(){this._attaching=!1,this._updateLoaded()}.bind(this))},detachedCallback:function(){this._restoreAriaGridParentRole(),Coral.Component.prototype.detachedCallback.call(this)},_updateLoaded:function(){if(!this._loaded&&"complete"===document.readyState){for(var e=!0,t=this.querySelectorAll("img"),i=0;i<t.length;i++){var n=t[i];if(n.src&&!n.complete&&!n._loadError){e=!1;break}}this._loaded=e}this._scheduleLayout()},_onItemAdded:function(e){e._updateDragAction(this.orderable),this._newItems.push(e),this._attaching&&null===e.nextElementSibling&&this._doLayout("last item attached"),this.trigger("coral-collection:add",{item:e})},_onItemRemoved:function(e){e._updateDragAction(!1),e.classList.remove("is-managed"),this.trigger("coral-collection:remove",{item:e})},_onItemFocus:function(e){var i=e.target;i===e.matchedTarget&&(this._setTabbableItem(i),this._focusedItem=i,this._focusedItemNext=[i.nextElementSibling,i.previousElementSibling].filter(t)[0])},_setTabbableItem:function(e){this._tabbableItem&&this._tabbableItem._setTabbable(!1),e&&e._setTabbable(!0),this._tabbableItem=e},_updateDragActions:function(){for(var e=this.items.getAll(),t=0;t<e.length;t++)e[t]._updateDragAction(this.orderable)},_onItemDragStart:function(e){var t=e.target;if(t===e.matchedTarget){this._layout.detach(t),t._oldBefore=a(t);var i=t._dropPlaceholder=new Coral.Masonry.Item,n=document.createElement("div");n.style.width=t.clientWidth+"px",n.style.height=t.clientHeight+"px",i.appendChild(n),i.classList.add("coral3-Masonry-item--placeholder"),this.insertBefore(i,t)}},_onItemDragMove:function(e){var t=e.target,i=t._dropPlaceholder;if(t===e.matchedTarget&&i){var o=t._prevDragPos,a=n(this,t);if(!o||!this._isApproachingPlaceholder(a,o,i)){var r=this._layout.itemAt(a.left,a.top);r&&r!==i&&(i.compareDocumentPosition(r)&document.DOCUMENT_POSITION_PRECEDING?r.parentNode.insertBefore(i,r):r.parentNode.insertBefore(i,r.nextSibling))}t._prevDragPos=a}},_isApproachingPlaceholder:function(e,t,i){var a=n(this,i),r=i.offsetWidth,s=i.offsetHeight,l=a.left+r/2,c=a.top+s/2;return o(l,c,e.left,e.top,r,s)<=o(l,c,t.left,t.top,r,s)},_onItemDragEnd:function(e){var t=e.target,i=t._dropPlaceholder;t===e.matchedTarget&&i&&(this.replaceChild(t,i),t.trigger("coral-masonry:order",{item:t,oldBefore:t._oldBefore,before:a(t)},!0,!1),this._layout.reattach(t),t.classList.add("is-dropping"),Coral.commons.transitionEnd(t,(function(){t.classList.remove("is-dropping")}))),t._oldBefore=null,t._dropPlaceholder=null,t._prevDragPos=null},_shouldActivateAriaGrid:function(){return this.ariaGrid===e.ON&&this.parentElement&&"grid"!==this.parentElement.getAttribute("role")},_shouldDeactivateAriaGrid:function(){return this.ariaGrid===e.OFF&&this.parentElement&&"grid"===this.parentElement.getAttribute("role")},_isActiveAriaGrid:function(){return this.ariaGrid===e.ON&&this.parentElement&&"grid"===this.parentElement.getAttribute("role")},_activateAriaGrid:function(){this._shouldActivateAriaGrid()&&(this._saveAriaGridParentRole(),this.parentElement.setAttribute("role","grid"),this.setAttribute("role","row"),this.ariaLabel&&this.parentNode.setAttribute("aria-label",this.ariaLabel),this.ariaLabelledby&&this.parentNode.setAttribute("aria-labelledby",this.ariaLabelledby),this._updateAreaGridIndexes())},_deactiveateAriaGrid:function(){if(this._shouldDeactivateAriaGrid()){this.parentElement.removeAttribute("role"),this.parentElement.removeAttribute("aria-colcount"),this.removeAttribute("role");for(var e=this.items.getAll(),t=0;t<e.length;t++)e[t].removeAttribute("role"),e[t].removeAttribute("aria-colindex");this._restoreAriaGridParentRole()}},_updateAreaGridIndexes:function(){if(this._isActiveAriaGrid()){var e=this.items.getAll(),t=e.length;this.parentElement.setAttribute("aria-colcount",t);for(var i=0;i<t;i++)e[i].setAttribute("role","gridcell"),e[i].setAttribute("aria-colindex",i+1)}},_saveAriaGridParentRole:function(){this.parentElement&&"grid"!==this.parentElement.getAttribute("role")&&(this._parent=this.parentElement,this._parentRole=this._parent.getAttribute("role")),this._saveAriaLabelOrAriaLabelledby()},_saveAriaLabelOrAriaLabelledby:function(){this.parentElement&&(this.parentElement.getAttribute("aria-label")!==this.ariaLabel&&(this._parentAriaLabel=this.parentElement.getAttribute("aria-label")),this.parentElement.getAttribute("aria-labelledby")!==this.ariaLabelledby&&(this._parentAriaLabelledby=this.parentElement.getAttribute("aria-labelledby")))},_restoreAriaGridParentRole:function(){this._parent&&this._parentRole&&(this._parent.setAttribute("role",this._parentRole),this._parent=void 0,this._parentRole=void 0),this._restoreAriaLabelOrAriaLabelledby()},_restoreAriaLabelOrAriaLabelledby:function(){this.parentElement&&(void 0!==this._parentAriaLabel&&(this.parentElement[this._parentAriaLabel?"setAttribute":"removeAttribute"]("aria-label",this._parentAriaLabel),this._parentAriaLabel=void 0),void 0!==this._parentAriaLabelledby&&(this.parentElement[this._parentAriaLabelledby?"setAttribute":"removeAttribute"]("aria-labelledby",this._parentAriaLabelledby),this._parentAriaLabelledby=void 0))}}),r.prototype={layout:function(){},destroy:function(){},detach:function(e){},reattach:function(e){},itemAt:function(e,t){}},Coral.Masonry.Layout=r,Coral.Masonry._layouts={},Coral.Masonry.registerLayout=function(e,t){t.prototype.name=e,Coral.Masonry._layouts[e]=t},Coral.Masonry.ariaGrid=e}(),function(){"use strict";Coral.register({name:"Masonry.Item",tagName:"coral-masonry-item",className:"coral3-Masonry-item",properties:{content:{contentZone:!0,set:function(){},get:function(){return this}},removing:{get:function(){return this._removing},set:function(){}},_removing:{default:!1,sync:function(){this.classList.toggle("is-removing",this._removing)}},selected:{default:!1,reflectAttribute:!0,transform:Coral.transform.boolean,attributeTransform:Coral.transform.booleanAttr,sync:function(){this.classList.toggle("is-selected",this.selected),this.setAttribute("aria-selected",this.selected)}}},_initialize:function(){this._masonry=null,this.setAttribute("tabindex","-1"),this._dragAction=null},attachedCallback:function(){if(Coral.Component.prototype.attachedCallback.call(this),!this._removing){var e=this.parentNode;e&&"CORAL-MASONRY"===e.tagName&&e!==this._masonry&&(this._masonry=e,this.classList.add("is-beforeInserting"),e._onItemAdded(this))}},_insert:function(){this.classList.contains("is-beforeInserting")&&(this.classList.remove("is-beforeInserting"),this.classList.add("is-inserting"),Coral.commons.transitionEnd(this,function(){this.classList.remove("is-inserting")}.bind(this)))},detachedCallback:function(){if(!this.parentNode){var e=this._masonry;!this._removing&&e?(this._removing=!0,e.appendChild(this),Coral.commons.nextFrame(function(){Coral.commons.transitionEnd(this,function(){this.remove()}.bind(this))}.bind(this))):(this._removing=!1,this._masonry=null,e&&e._onItemRemoved(this))}Coral.Component.prototype.detachedCallback.call(this)},_setTabbable:function(e){this.setAttribute("tabindex",e?0:-1)},_updateDragAction:function(e){var t;e&&(null!==this.getAttribute("coral-masonry-draghandle")?t=this:(t=this.querySelector("[coral-masonry-draghandle]"))||(e=!1)),e?(this._dragAction||(this._dragAction=new Coral.DragAction(this),this._dragAction.dropZone=this.parentNode),this._dragAction.handle=t):this._dragAction&&(this._dragAction.destroy(),this._dragAction=null)}})}(),function(){"use strict";function e(e,t){return parseFloat(window.getComputedStyle(e)[t],10)}function t(e,t,i,n){var o=e[t];return void 0===o&&(o=e.getAttribute(i)),((o=parseInt(o,10))<=0||isNaN(o))&&(o=n),o}function i(e){Coral.Masonry.Layout.apply(this,arguments),this._columns=[];var t=this._moveFocusVertically.bind(this,!0),i=this._moveFocusVertically.bind(this,!1),n=this._moveFocusHorizontally.bind(this,!0),o=this._moveFocusHorizontally.bind(this,!1),a=this._moveFocusHomeEnd.bind(this,!0),r=this._moveFocusHomeEnd.bind(this,!1),s=this._keys=new Coral.Keys(e,{context:this});s.on("up",t).on("k",t),s.on("down",i).on("j",i),s.on("left",n).on("h",n),s.on("right",o).on("l",o),s.on("home",a),s.on("end",r)}function n(e,t){for(var i=0,n=0;n<t.length;n++){if((i+=t[n]._layoutData.colspan)>=e.length)return e.length}return i}function o(e){i.apply(this,arguments)}function a(e){i.apply(this,arguments)}function r(e){i.apply(this,arguments)}function s(e){r.apply(this,arguments)}function l(e,t){e.style.setProperty("-webkit-transform",t),e.style.setProperty("-ms-transform",t),e.style.transform=t}function c(e,t){e.style.setProperty("-webkit-transition",t),e.style.setProperty("-ms-transition",t),e.style.transition=t}i.prototype=Coral.commons.extend(Object.create(Coral.Masonry.Layout.prototype),{layout:function(e){var t=this._masonry,i=t.items.getAll();i.length>0?(this._init(i),this._writeStyles(i),this._readStyles(i),this._positionItems(i)):this._columns.length=0;var n=this._getContentHeight();t.style.height=n-this._verSpacing+this._verPadding+"px",e||this._masonryInnerWidth===t.clientWidth?this._postLayout(n):this.layout(!0)},_init:function(i){var n=i[0],o=this._masonry;this._columnWidth=t(o,"columnWidth","columnwidth",200),this._zeroOffsetLeft=-e(n,"marginLeft"),this._masonryInnerWidth=o.clientWidth;var a=this._masonry.spacing;"number"==typeof a?(this._horSpacing=a,this._verSpacing=a,this._offsetLeft=a+this._zeroOffsetLeft,this._offsetTop=a-e(n,"marginTop"),this._verPadding=2*a,this._masonryAvailableWidth=o.clientWidth-a):(this._horSpacing=e(n,"marginLeft")+e(n,"marginRight"),this._verSpacing=e(n,"marginTop")+e(n,"marginBottom"),this._offsetLeft=e(o,"paddingLeft"),this._offsetTop=e(o,"paddingTop"),this._verPadding=this._offsetTop+this._verSpacing+e(o,"paddingBottom"),this._masonryAvailableWidth=o.clientWidth-this._offsetLeft-e(o,"paddingRight"));var r=Math.max(1,Math.floor(this._masonryAvailableWidth/(this._columnWidth+this._horSpacing)));this._columns.length=r;for(var s=0;s<r;s++)this._columns[s]={height:this._offsetTop,items:[]};for(var l=0;l<i.length;l++){var c=i[l],d=c._layoutData;d||(c._layoutData=d={}),d.colspan=Math.min(t(c,"colspan","colspan",1),this._columns.length)}},_writeStyles:function(e){for(var t=0;t<e.length;t++){var i=e[t],n=i._layoutData,o=Math.round(this._getItemWidth(n.colspan));n.width!==o&&(i.style.width=o+"px",n.width=o),this._writeItemStyle(i)}},_getItemWidth:function(e){},_writeItemStyle:function(e){},_readStyles:function(e){for(var t=0;t<e.length;t++){var i=e[t],n=i._layoutData;n.height=Math.round(i.getBoundingClientRect().height),n.ignored=n.detached||!i.offsetParent}},_positionItems:function(e){for(var t,i=0;i<e.length;i++){var n=e[i],o=n._layoutData;if(!o.ignored){var a,r=this._columns.length-(o.colspan-1),s=-1;for(t=0;t<r;t++){for(var c=this._offsetTop,d=0;d<o.colspan;d++)c=Math.max(c,this._columns[t+d].height);(-1===s||c<a)&&(s=t,a=c)}var u=a,h=Math.round(this._getItemLeft(s));o.left===h&&o.top===u||(o.columnIndex=s,o.itemIndex=this._columns[s].items.length,o.left=h,o.top=u,l(n,"translate("+h+"px, "+u+"px)"));var p=u+o.height+this._verSpacing;for(t=0;t<o.colspan;t++){var m=this._columns[s+t];m.height=p,m.items.push(n)}}}},_getItemLeft:function(e){},_getContentHeight:function(){return this._columns.reduce((function(e,t){return Math.max(e,t.height)}),0)-this._offsetTop},_postLayout:function(e){},_moveFocusVertically:function(e,t){var i=t.target._layoutData;if(i){var n=i.itemIndex+(e?-1:1),o=this._columns[i.columnIndex].items[n];if(o)o.focus(),t.preventDefault();else{var a=i.columnIndex;if(e){if(a>0){var r=this._columns[a-1];r&&(o=r.items[r.items.length-1])}}else{var s=this._columns.length,l=a+i.colspan;l<s&&(o=this._columns[l].items[0])}o&&(o.focus(),t.preventDefault())}}},_moveFocusHorizontally:function(e,t){if(t.target._layoutData){var i,n=this._masonry.items.getAll(),o=n.indexOf(t.target);e?o>0&&(i=n[o-1]):o<n.length-1&&(i=n[o+1]),i&&(i.focus(),t.preventDefault())}},_moveFocusHomeEnd:function(e,t){if(t.target._layoutData){var i,n=this._columns;if(e)i=n[0]&&n[0].items[0];else for(var o=n.length-1;o>-1;o--)if(n[o].items.length>0){i=n[o].items[n[o].items.length-1];break}i&&(i.focus(),t.preventDefault())}},destroy:function(){this._keys.destroy();for(var e=this._masonry.items.getAll(),t=0;t<e.length;t++){var i=e[t];delete i._layoutData,l(i,""),this._resetItem(i)}},_resetItem:function(e){},detach:function(e){e._layoutData.detached=!0},reattach:function(e){var t=e._layoutData;t.detached=!1;var i=e.getBoundingClientRect();c(e,"none"),e.style.left="",e.style.top="",l(e,"");var n=e.getBoundingClientRect();t.left=i.left-n.left,t.top=i.top-n.top,l(e,"translate("+t.left+"px, "+t.top+"px)"),e.getBoundingClientRect(),c(e,"")},itemAt:function(e,t){for(var i=this._masonry.items.getAll(),n=0;n<i.length;n++){var o=i[n],a=o._layoutData;if(a&&!a.ignored&&a.left<=e&&a.left+a.width>=e&&a.top<=t&&a.top+a.height>=t)return o}return null}}),o.prototype=Coral.commons.extend(Object.create(i.prototype),{_writeStyles:function(e){this._outerColumnWidth=this._columnWidth+this._horSpacing;var t=n(this._columns,e);this._offsetLeft+=(this._masonryAvailableWidth-t*this._outerColumnWidth)/2,i.prototype._writeStyles.apply(this,arguments)},_getItemWidth:function(e){return this._columnWidth*e+this._horSpacing*(e-1)},_getItemLeft:function(e){return this._offsetLeft+this._outerColumnWidth*e}}),Coral.Masonry.registerLayout("fixed-centered",o),a.prototype=Coral.commons.extend(Object.create(i.prototype),{_writeStyles:function(e){var t=this._columns;if(this._alignLeft=n(t,e)<t.length,!this._alignLeft){var o=this._masonryInnerWidth-this._columnWidth*t.length;this._horSpacing=o/(t.length+1)}i.prototype._writeStyles.apply(this,arguments)},_getItemWidth:function(e){return this._columnWidth*e+this._horSpacing*(e-1)},_getItemLeft:function(e){return this._zeroOffsetLeft+this._columnWidth*e+this._horSpacing*(e+1)}}),Coral.Masonry.registerLayout("fixed-spread",a),r.prototype=Coral.commons.extend(Object.create(i.prototype),{_getItemWidth:function(e){return this._masonryAvailableWidth/this._columns.length*e-this._horSpacing},_getItemLeft:function(e){return this._offsetLeft+this._masonryAvailableWidth*e/this._columns.length}}),Coral.Masonry.registerLayout("variable",r),s.prototype=Coral.commons.extend(Object.create(r.prototype),{_writeItemStyle:function(e){this._resetItem(e)},_postLayout:function(e){for(var t=0;t<this._columns.length;t++)for(var i=this._columns[t],n=e+this._offsetTop,o=i.items.length-1;o>=0;o--){var a=i.items[o],r=a._layoutData;if(r.columnIndex===t){var s=n-r.top-this._verSpacing;a.style.height=s+"px"}n=r.top}},_resetItem:function(e){e.style.height=""}}),Coral.Masonry.registerLayout("dashboard",s)}(),window.Coral=window.Coral||{},window.Coral.strings=window.Coral.strings||{},window.Coral.strings["coralui-component-multifield"]={"en-US":{"({0} of {1})":"({0} of {1})",Remove:"Remove",Reorder:"Reorder",reorder_drag_handle:"move handle",reorder_hint:"Drag and drop or use the up and down arrow keys to reorder."},"fr-FR":{"({0} of {1})":"({0} sur {1})",Remove:"Supprimer",Reorder:"Réorganiser",reorder_drag_handle:"déplacer la poignée",reorder_hint:"Réorganisez en utilisant le glisser-déposer ou les touches fléchées haut et bas."},"de-DE":{"({0} of {1})":"({0} von {1})",Remove:"Entfernen",Reorder:"Neu sortieren",reorder_drag_handle:"Verschiebepunkt",reorder_hint:"Neu anordnen mit Drag & Drop oder den Aufwärts- und Abwärtspfeiltasten."},"it-IT":{"({0} of {1})":"({0} di {1})",Remove:"Rimuovi",Reorder:"Riordina",reorder_drag_handle:"maniglia di spostamento",reorder_hint:"Trascina e rilascia o usa i tasti freccia su e giù per riordinare."},"es-ES":{"({0} of {1})":"({0} de {1})",Remove:"Eliminar",Reorder:"Reordenar",reorder_drag_handle:"mover controlador",reorder_hint:"Arrastre y suelte o use las teclas de flecha arriba y abajo para reordenar."},"pt-BR":{"({0} of {1})":"({0} de {1})",Remove:"Remover",Reorder:"Reorganizar",reorder_drag_handle:"mover a alça",reorder_hint:"Arraste e solte ou use as teclas de seta para cima e para baixo para reordenar."},"ja-JP":{"({0} of {1})":"({0}/{1})",Remove:"削除",Reorder:"並べ替え",reorder_drag_handle:"ハンドルを移動",reorder_hint:"ドラッグアンドドロップするか、上下の矢印キーを使用して並べ替えます。"},"ko-KR":{"({0} of {1})":"({0}/{1})",Remove:"제거",Reorder:"재정렬",reorder_drag_handle:"핸들 이동",reorder_hint:"드래그 앤 드롭하거나 위 / 아래 화살표 키를 사용하여 순서를 변경하십시오."},"zh-CN":{"({0} of {1})":"({0}/{1})",Remove:"删除",Reorder:"重新排序",reorder_drag_handle:"移动手抦",reorder_hint:"拖放或使用向上和向下箭头键重新排序。"},"zh-TW":{"({0} of {1})":"({0}/{1})",Remove:"移除",Reorder:"重新排序",reorder_drag_handle:"移動控制點",reorder_hint:"拖放或使用向上和向下箭頭鍵重新排序。"},"nl-NL":{"({0} of {1})":"({0} van {1})",Remove:"Verwijderen",Reorder:"Opnieuw ordenen",reorder_drag_handle:"ingang verplaatsen",reorder_hint:"Sleep en zet neer of gebruik de pijltoetsen omhoog en omlaag om opnieuw te ordenen."},"da-DK":{"({0} of {1})":"({0} af {1})",Remove:"Fjern",Reorder:"Omarranger",reorder_drag_handle:"flyt håndtag",reorder_hint:"Træk og slip eller brug piletasterne op og ned til at sortere igen."},"fi-FI":{"({0} of {1})":"({0}/{1})",Remove:"Poista",Reorder:"Järjestä uudelleen",reorder_drag_handle:"siirtokahva",reorder_hint:"Vedä ja pudota tai käytä ylä- ja alanuolinäppäimiä järjestyksen muuttamiseksi."},"nb-NO":{"({0} of {1})":"({0} av {1})",Remove:"Fjern",Reorder:"Endre rekkefølge",reorder_drag_handle:"flytt håndtak",reorder_hint:"Dra og slipp eller bruk piltastene opp og ned for å ordne på nytt."},"sv-SE":{"({0} of {1})":"({0} av {1})",Remove:"Ta bort",Reorder:"Ändra ordning",reorder_drag_handle:"flytta handtag",reorder_hint:"Dra och släpp eller använd upp- och nedpiltangenterna för att ordna om."},"cs-CZ":{"({0} of {1})":"({0} z {1})",Remove:"Odebrat",Reorder:"Změnit pořadí",reorder_drag_handle:"táhlo přesunu",reorder_hint:"Chcete-li změnit pořadí, přetáhněte nebo přetáhněte nebo použijte klávesy se šipkami nahoru a dolů."},"pl-PL":{"({0} of {1})":"({0} z {1})",Remove:"Usuń",Reorder:"Zmień kolejność",reorder_drag_handle:"przeciągnij uchwyt",reorder_hint:"Przeciągnij i upuść lub użyj klawiszy strzałek w górę iw dół, aby zmienić kolejność."},"ru-RU":{"({0} of {1})":", {0} из {1})",Remove:"Удалить",Reorder:"Переупорядочить",reorder_drag_handle:"переместить манипулятор",reorder_hint:"Перетащите или используйте клавиши со стрелками вверх и вниз, чтобы изменить порядок."},"tr-TR":{"({0} of {1})":"({0}/{1})",Remove:"Kaldır",Reorder:"Yeniden Sırala",reorder_drag_handle:"move handle",reorder_hint:"Yeniden sıralamak için sürükleyip bırakın veya yukarı ve aşağı ok tuşlarını kullanın."}},window.Coral=window.Coral||{},window.Coral.templates=window.Coral.templates||{},window.Coral.templates.Multifield=window.Coral.templates.Multifield||{},window.Coral.templates.Multifield.item=function(e){var t=document.createDocumentFragment(),i=this.remove=document.createElement("button","coral-button");i.setAttribute("type","button"),i.setAttribute("is","coral-button"),i.setAttribute("handle","remove"),i.setAttribute("variant","quiet"),i.setAttribute("icon","delete"),i.setAttribute("iconsize","S"),i.className+=" coral3-Multifield-remove",i.setAttribute("tracking","off"),i.id=e.uid+"-remove",i.setAttribute("aria-labelledby",e.uid+"-remove "+e.uid+"-content "+e.uid),i.setAttribute("aria-label",Coral.i18n.get("Remove")),i.setAttribute("title",Coral.i18n.get("Remove")),i.setAttribute("coral-multifield-remove",""),t.appendChild(i);var n=document.createTextNode("\n");t.appendChild(n);var o=this.move=document.createElement("button","coral-button");o.setAttribute("type","button"),o.setAttribute("is","coral-button"),o.setAttribute("handle","move"),o.setAttribute("variant","quiet"),o.setAttribute("icon","moveUpDown"),o.setAttribute("iconsize","S"),o.className+=" coral3-Multifield-move",o.setAttribute("tracking","off"),o.id=e.uid+"-reorder",o.setAttribute("aria-labelledby",e.uid+"-reorder "+e.uid+"-content "+e.uid),o.setAttribute("aria-label",Coral.i18n.get("Reorder")),o.setAttribute("title",Coral.i18n.get("reorder_hint")),o.setAttribute("aria-roledescription",Coral.i18n.get("reorder_drag_handle")),o.setAttribute("aria-grabbed","false"),o.setAttribute("coral-multifield-move",""),t.appendChild(o);var a=document.createTextNode("\n");return t.appendChild(a),t},function(){"use strict";var e="content"in document.createElement("template"),t=function(e){Coral.Collection.apply(this,arguments)};(t.prototype=Object.create(Coral.Collection.prototype)).add=function(e,t){if(this._container&&this._itemTagName)return e instanceof HTMLElement||(e=document.createElement(this._itemTagName).set(e,!0)),t||(t=this.last())&&(t=t.nextElementSibling),this._container.insertBefore(e,t||this._container.firstChild),e},Coral.register({name:"Multifield",tagName:"coral-multifield",className:"coral3-Multifield",events:{"coral-dragaction:dragstart coral-multifield-item":"_onDragStart","coral-dragaction:drag coral-multifield-item":"_onDrag","coral-dragaction:dragend coral-multifield-item":"_onDragEnd","click [coral-multifield-add]":"_onAddItemClick","click [coral-multifield-remove]":"_onRemoveItemClick","click [coral-multifield-move]":"_onClickDragHandle","key:up [coral-multifield-move]":"_onMoveItemUp","key:pageup [coral-multifield-move]":"_onMoveItemUp","key:down [coral-multifield-move]":"_onMoveItemDown","key:pagedown [coral-multifield-move]":"_onMoveItemDown","key:home [coral-multifield-move]":"_onMoveItemHome","key:end [coral-multifield-move]":"_onMoveItemEnd","key:esc [coral-multifield-move]":"_onMoveItemEsc","global:key:esc [coral-multifield-move]":"_onMoveItemEsc","capture:blur [coral-multifield-move]":"_onBlurDragHandle","change coral-multifield-item-content > input":"_onInputChange"},properties:{items:{get:function(){return this._items||(this._items=new t({host:this,itemTagName:"coral-multifield-item",itemSelector:":scope > coral-multifield-item",onItemAdded:this._onItemAdded,onItemRemoved:this._onItemRemoved})),this._items},set:function(){}},template:Coral.property.contentZone({tagName:"template",handle:"template",insert:function(e){this.appendChild(e)},set:function(t){if(t.set||(t.set=this._internalTemplateSet),!e){for(var i=document.createDocumentFragment();t.firstChild;)i.appendChild(t.firstChild);t.content=i}}})},_onAddItemClick:function(e){var t=e.target.closest("coral-multifield");t&&t===this&&(this.items.add(new Coral.Multifield.Item),this.trigger("change"),this._trackEvent("click","add item button",e))},_onRemoveItemClick:function(e){if(e.matchedTarget.parentNode.parentNode===this){var t=e.matchedTarget.parentNode;if(t){var i,n=this.items.getAll(),o=n.length;if(o>1){var a=n.indexOf(t);i=a===o-1?n[a-1]:n[a+1]}t.remove(),i?i._elements.remove.focus():(i=this.querySelector("[coral-multifield-add]"))&&i.focus()}this.trigger("change"),this._trackEvent("click","remove item button",e)}},_toggleItemDragging:function(e,t){e._dragging!==t&&(e._dragging=t,t?(this._oldBefore=e.previousElementSibling,this._before=e.nextElementSibling):(this.trigger("coral-multifield:beforeitemorder",{item:e,oldBefore:this._oldBefore,before:this._before}),this.trigger("coral-multifield:itemorder",{item:e,oldBefore:this._oldBefore,before:e.nextElementSibling}),this.trigger("change"),this._oldBefore=null,this._before=null))},_onClickDragHandle:function(e){e.preventDefault(),e.stopPropagation();var t=e.matchedTarget.closest("coral-multifield-item");this._toggleItemDragging(t,!t._dragging)},_onBlurDragHandle:function(e){var t=e.matchedTarget,i=t.closest("coral-multifield-item"),n=this;Coral.commons.nextFrame((function(){document.activeElement!==t&&n._toggleItemDragging(i,!1)}))},_onMoveItemUp:function(e){var t=e.matchedTarget,i=t.closest("coral-multifield-item");i._dragging&&(e.preventDefault(),e.stopPropagation(),this.items.getAll().indexOf(i)>0&&this.insertBefore(i,i.previousElementSibling),i._dragging=!0,t.focus())},_onMoveItemDown:function(e){var t=e.matchedTarget,i=t.closest("coral-multifield-item");if(i._dragging){e.preventDefault(),e.stopPropagation();var n=this.items.getAll();if(n.indexOf(i)<n.length-1){var o=i.nextElementSibling;this.insertBefore(i,o.nextElementSibling)}i._dragging=!0,t.focus()}},_onMoveItemHome:function(e){var t=e.matchedTarget,i=t.closest("coral-multifield-item");i._dragging&&(e.preventDefault(),e.stopPropagation(),this.items.getAll().indexOf(i)>0&&this.insertBefore(i,this.items.first()),i._dragging=!0,t.focus())},_onMoveItemEnd:function(e){var t=e.matchedTarget,i=t.closest("coral-multifield-item");if(i._dragging){e.preventDefault(),e.stopPropagation();var n=this.items.getAll();n.indexOf(i)<n.length-1&&this.insertBefore(i,this.items.last().nextElementSibling),i._dragging=!0,t.focus()}},_onMoveItemEsc:function(e){var t=e.matchedTarget,i=t.closest("coral-multifield-item");i._dragging&&this._oldBefore&&this._before&&(e.stopPropagation(),this.insertBefore(i,this._before),t.focus()),this._toggleItemDragging(i,!1)},_onInputChange:function(e){this._trackEvent("change","input",e)},_onDragStart:function(e){if(e.target.parentNode===this){var t=e.detail.dragElement,i=this.items.getAll(),n=i.indexOf(t);t._dragging=!0,t.classList.add("is-dragging"),i.forEach((function(e,t){t<n?e.classList.add("is-before"):t>n&&e.classList.add("is-after")}))}},_onDrag:function(e){if(e.target.parentNode===this){var t=this.items.getAll(),i=0;t.length&&(i=parseFloat(window.getComputedStyle(t[0]).marginBottom)),t.forEach((function(n){if(!n.classList.contains("is-dragging")){var o=e.detail.dragElement,a=o.getBoundingClientRect(),r=n.getBoundingClientRect(),s=r.top+document.body.scrollTop,l=e.detail.pageY<s+r.height/2,c=a.height+i+"px";if(n.classList.toggle("is-after",l),n.classList.toggle("is-before",!l),n.classList.contains("is-after")&&(n.style.top=t.indexOf(n)<t.indexOf(o)?c:""),n.classList.contains("is-before")){var d=t.indexOf(n)>t.indexOf(o);n.style.top=d?"-"+c:""}}}))}},_onDragEnd:function(e){if(e.target.parentNode===this){var t=e.detail.dragElement,i=this.items.getAll(),n=[],o=[];i.forEach((function(e){e.classList.contains("is-after")?o.push(e):e.classList.contains("is-before")&&n.push(e),e.classList.remove("is-dragging","is-after","is-before"),e.style.top="",e.style.position=""}));var a=t.previousElementSibling,r=o.shift(),s=n.pop();this.trigger("coral-multifield:beforeitemorder",{item:t,oldBefore:a,before:r}).defaultPrevented||(r&&this.insertBefore(t,r),s&&this.insertBefore(t,s.nextElementSibling),t._dragging=!1,this.trigger("coral-multifield:itemorder",{item:t,oldBefore:a,before:r}),this.trigger("change"),t._elements.move.focus())}},_onItemAdded:function(e){e.parentNode===this&&(this._renderTemplate(e),this._updatePosInSet())},_onItemRemoved:function(){this._updatePosInSet()},_updatePosInSet:function(){var e=this.items.getAll(),t=e.length;e.forEach((function(e,i){e.setAttribute("aria-posinset",i+1),e.setAttribute("aria-setsize",t),e.setAttribute("aria-label",Coral.i18n.get("({0} of {1})",i+1,t)),e.querySelector("coral-multifield")||e.setAttribute("aria-labelledby",e.id+"-content "+e.id)}))},_render:function(){this.items._startHandlingItems();var e=this.querySelector("#"+this.id+" > template[coral-multifield-template]");e||((e=document.createElement("template")).setAttribute("coral-multifield-template",""),this.appendChild(e)),e.set||(e.set=this._internalTemplateSet),this.template=e},_internalTemplateSet:function(e){var t,i;for(t in e)i=e[t],this[t]=i},_renderTemplate:function(t){if(!t.content.firstChild){if(!e){var i=this.template.content.querySelectorAll("template[coral-multifield-template]");Array.prototype.forEach.call(i,(function(e){for(;e.content.firstChild;)e.appendChild(e.content.firstChild)}))}t.content.appendChild(document.importNode(this.template.content,!0))}},_initialize:function(){var e=this;e.setAttribute("role","list");var t=function(t){e._renderTemplate(t)};e._observer=new MutationObserver((function(i){i.forEach((function(i){for(var n=0;n<i.addedNodes.length;n++){var o=i.addedNodes[n],a=e.template;a.contains(o)&&a!==o&&(a.content.appendChild(o),e.items.getAll().forEach(t)),o.tagName&&"coral-multifield-item"===o.tagName.toLowerCase()&&o.parentNode===e&&e._renderTemplate(o)}}))})),e._observer.observe(e,{childList:!0,subtree:!0}),Coral.commons.ready(e,(function(){e.items.getAll().forEach(t)}))}}),Coral.register({name:"Multifield.Item",tagName:"coral-multifield-item",className:"coral3-Multifield-item",properties:{content:Coral.property.contentZone({handle:"content",tagName:"coral-multifield-item-content",defaultContentZone:!0,insert:function(e){this.insertBefore(e,this.firstChild)}}),_dragging:{default:!1,reflectAttribute:!1,transform:Coral.transform.boolean,sync:function(){this._dragging?this._elements.move.setAttribute("role","application"):this._elements.move.removeAttribute("role"),this._elements.move.setAttribute("aria-grabbed",this._dragging),this._elements.move.selected=this._dragging}}},_render:function(){var e=this.querySelector('[handle="move"]'),t=this.querySelector('[handle="remove"]'),i=this.querySelector("coral-multifield-item-content");if(this.id=this.id||Coral.commons.getUID(),e&&t&&i)this._elements.move=e,this._elements.remove=t,this.content=i,this.content.id=i.id=this.id+"-content";else{var n=document.createDocumentFragment();for((i=i||document.createElement("coral-multifield-item-content")).id=this.id+"-content",i.parentNode&&this.removeChild(i);this.firstChild;)i.appendChild(this.firstChild);n.appendChild(Coral.templates.Multifield.item.call(this._elements,{uid:this.id})),this.content=i,this.appendChild(n)}this._elements.remove._elements.icon.setAttribute("aria-hidden",!0),this._elements.move._elements.icon.setAttribute("aria-hidden",!0)},_initialize:function(){this.setAttribute("role","listitem");var e=new Coral.DragAction(this);e.axis="vertical",e.handle=this._elements.move}}),Coral.Multifield.Item.Content=function(){return document.createElement("coral-multifield-item-content")}}(),window.Coral=window.Coral||{},window.Coral.strings=window.Coral.strings||{},window.Coral.strings["coralui-component-numberinput"]={"en-US":{"decrease {fieldLabel}":"Decrease {fieldLabel}","increase {fieldLabel}":"Increase {fieldLabel}"},"fr-FR":{"decrease {fieldLabel}":"Diminuer {fieldLabel}","increase {fieldLabel}":"Augmenter {fieldLabel}"},"de-DE":{"decrease {fieldLabel}":"{fieldLabel} verringern","increase {fieldLabel}":"{fieldLabel} erhöhen"},"it-IT":{"decrease {fieldLabel}":"Riduci {fieldLabel}","increase {fieldLabel}":"Aumenta {fieldLabel}"},"es-ES":{"decrease {fieldLabel}":"Reducir {fieldLabel}","increase {fieldLabel}":"Aumentar {fieldLabel}"},"pt-BR":{"decrease {fieldLabel}":"Diminuir {fieldLabel}","increase {fieldLabel}":"Aumentar {fieldLabel}"},"ja-JP":{"decrease {fieldLabel}":"{fieldLabel}を縮小","increase {fieldLabel}":"{fieldLabel}を拡大"},"ko-KR":{"decrease {fieldLabel}":"{fieldLabel} 감소","increase {fieldLabel}":"{fieldLabel} 증가"},"zh-CN":{"decrease {fieldLabel}":"降低 {fieldLabel}","increase {fieldLabel}":"提高 {fieldLabel}"},"zh-TW":{"decrease {fieldLabel}":"縮小 {fieldLabel}","increase {fieldLabel}":"放大 {fieldLabel}"},"nl-NL":{"decrease {fieldLabel}":"{fieldLabel} verlagen","increase {fieldLabel}":"{fieldLabel} verhogen"},"da-DK":{"decrease {fieldLabel}":"Reducer {fieldLabel}","increase {fieldLabel}":"Øg {fieldLabel}"},"fi-FI":{"decrease {fieldLabel}":"Vähennä {fieldLabel}","increase {fieldLabel}":"Lisää {fieldLabel}"},"nb-NO":{"decrease {fieldLabel}":"Reduser {fieldLabel}","increase {fieldLabel}":"Øk {fieldLabel}"},"sv-SE":{"decrease {fieldLabel}":"Minska {fieldLabel}","increase {fieldLabel}":"Öka {fieldLabel}"},"cs-CZ":{"decrease {fieldLabel}":"Snížit {fieldLabel}","increase {fieldLabel}":"Zvýšit {fieldLabel}"},"pl-PL":{"decrease {fieldLabel}":"Zmniejsz {fieldLabel}","increase {fieldLabel}":"Zwiększ {fieldLabel}"},"ru-RU":{"decrease {fieldLabel}":"Уменьшение {fieldLabel}","increase {fieldLabel}":"Увеличение {fieldLabel}"},"tr-TR":{"decrease {fieldLabel}":"{fieldLabel} azalt","increase {fieldLabel}":"{fieldLabel} arttır"}},window.Coral=window.Coral||{},window.Coral.templates=window.Coral.templates||{},window.Coral.templates.NumberInput=window.Coral.templates.NumberInput||{},window.Coral.templates.NumberInput.base=function(e){var t=document.createDocumentFragment(),i=e=void 0===e?{}:e;(i=e).uid=Coral.commons.getUID(),i.increaseLabel=Coral.i18n.get("increase {fieldLabel}",{fieldLabel:""}).trim(),i.decreaseLabel=Coral.i18n.get("decrease {fieldLabel}",{fieldLabel:""}).trim(),e=i;var n=document.createTextNode("\n");t.appendChild(n);var o=document.createElement("span");o.className+=" coral-InputGroup-button",o.setAttribute("role","presentation");var a=document.createTextNode("\n  ");o.appendChild(a);var r=this.stepUp=document.createElement("button","coral-button");r.className+=" coral3-NumberInput-stepUp",r.setAttribute("type","button"),r.setAttribute("is","coral-button"),r.setAttribute("handle","stepUp"),r.setAttribute("title",e.increaseLabel),r.setAttribute("aria-label",e.increaseLabel),r.setAttribute("icon","chevronUp"),r.setAttribute("iconsize","XS"),r.setAttribute("tabindex","-1"),r.setAttribute("aria-controls",e.uid+"-input"),r.id=e.uid+"-stepUp",o.appendChild(r);var s=document.createTextNode("\n  ");o.appendChild(s);var l=this.stepDown=document.createElement("button","coral-button");l.className+=" coral3-NumberInput-stepDown",l.setAttribute("type","button"),l.setAttribute("is","coral-button"),l.setAttribute("handle","stepDown"),l.setAttribute("title",e.decreaseLabel),l.setAttribute("aria-label",e.decreaseLabel),l.setAttribute("icon","chevronDown"),l.setAttribute("iconsize","XS"),l.setAttribute("tabindex","-1"),l.setAttribute("aria-controls",e.uid+"-input"),l.id=e.uid+"-stepDown",o.appendChild(l);var c=document.createTextNode("\n  ");o.appendChild(c);var d=this.liveregion=document.createElement("span");d.setAttribute("role","presentation"),d.setAttribute("handle","liveregion"),d.setAttribute("aria-live","assertive"),d.setAttribute("aria-atomic","true"),d.setAttribute("aria-relevant","additions text"),d.className+=" u-coral-screenReaderOnly",d.setAttribute("aria-hidden","true"),o.appendChild(d);var u=document.createTextNode("\n");o.appendChild(u),t.appendChild(o);var h=document.createTextNode("\n");t.appendChild(h);var p=this.input=document.createElement("input","coral-textfield");return p.setAttribute("is","coral-textfield"),p.setAttribute("handle","input"),p.setAttribute("type","number"),p.className+=" coral3-NumberInput-input coral-InputGroup-input",p.id=e.uid+"-input",t.appendChild(p),t},function(){"use strict";var e,t=!1,i=!1;function n(e,t,i){var n="+"===e?t+i:t-i;if(t%1!=0||i%1!=0){var o=t.toString().split("."),a=i.toString().split("."),r=o[1]&&o[1].length||0,s=a[1]&&a[1].length||0,l=Math.pow(10,Math.max(r,s));t=Math.round(t*l),i=Math.round(i*l),n="+"===e?t+i:t-i,n/=l}return n}Coral.register({name:"NumberInput",tagName:"coral-numberinput",className:"coral3-NumberInput coral-InputGroup",mixins:[Coral.mixin.formField],events:{"key:up":"_onKeyUp","key:pageup":"_onKeyUp","key:down":"_onKeyDown","key:pagedown":"_onKeyDown","key:home":"_onKeyHome","key:end":"_onKeyEnd","touchstart [handle=stepUp], [handle=stepDown]":"_onTouchStart","pointerdown [handle=stepUp], [handle=stepDown]":"_onTouchStart","MSPointerDown [handle=stepUp], [handle=stepUp]":"_onTouchStart","MSPointerDown [handle=stepDown], [handle=stepDown]":"_onTouchStart","click [handle=stepUp]":"_onStepUpButtonClick","click [handle=stepDown]":"_onStepDownButtonClick",'mousewheel [handle="input"]':"_onInputMouseWheel",'DOMMouseScroll [handle="input"]':"_onInputMouseWheel","capture:focus":"_onFocus","capture:blur":"_onBlur"},properties:{value:{transform:function(e){return isNaN(e)?"":String(e)},get:function(){return this._elements.input.value},set:function(e){this._elements.input.value=e;var t=this.getAttribute("value");this._elements.input[t?"setAttribute":"removeAttribute"]("value",t)},alsoSync:["invalid","disabled"],sync:function(){var e=this._elements.input.value;this._elements.input[""===e?"removeAttribute":"setAttribute"]("aria-valuenow",this.value),this._elements.input[""===e?"removeAttribute":"setAttribute"]("aria-valuetext",this.value),i||window.chrome?this._updateLiveRegion(this.value):this._updateLiveRegion(),i=!1}},valueAsNumber:{attribute:null,transform:Coral.transform.float,get:function(){return parseFloat(this.value)},set:function(e){this._elements.input.value=e,this._queueSync("value","invalid","disabled")}},min:{default:null,reflectAttribute:!0,transform:Coral.transform.number,alsoSync:["invalid","disabled"],sync:function(){null===this.min?(this._elements.input.removeAttribute("aria-valuemin"),this._elements.input.removeAttribute("min")):(this._elements.input.setAttribute("aria-valuemin",this.min),this._elements.input.min=this.min)}},max:{default:null,reflectAttribute:!0,transform:Coral.transform.number,alsoSync:["invalid","disabled"],sync:function(){null===this.max?(this._elements.input.removeAttribute("aria-valuemax"),this._elements.input.removeAttribute("max")):(this._elements.input.setAttribute("aria-valuemax",this.max),this._elements.input.max=this.max)}},step:{default:1,transform:function(e){return"any"===e?e:Coral.transform.number(e)},validate:[Coral.validate.valueMustChange,function(e,t){return null!==e&&(e>0||"any"===e)}],sync:function(){this._elements.input.step=this.step}},name:{get:function(){return this._elements.input.name},set:function(e){this._elements.input.name=e}},disabled:{sync:function(){this.classList.toggle("is-disabled",this.disabled),this._elements.input.disabled=this.disabled,this._setButtonState()}},invalid:{sync:function(){this.classList.toggle("is-invalid",this.invalid),this._elements.input.invalid=this.invalid}},readOnly:{sync:function(){this._elements.input.readOnly=this.readOnly,this._setButtonState()}},required:{sync:function(){this._elements.input.required=this.required}},labelledBy:{sync:function(){this[this.labelledBy?"setAttribute":"removeAttribute"]("aria-labelledby",this.labelledBy),this._elements.stepUp.setAttribute("aria-label",Coral.i18n.get("increase {fieldLabel}",{fieldLabel:this.labelled||""}).trim()),this._elements.stepDown.setAttribute("aria-label",Coral.i18n.get("decrease {fieldLabel}",{fieldLabel:this.labelled||""}).trim()),this._elements.stepUp[this.labelledBy?"setAttribute":"removeAttribute"]("aria-labelledby",this._elements.stepUp.id+" "+this.labelledBy),this._elements.stepDown[this.labelledBy?"setAttribute":"removeAttribute"]("aria-labelledby",this._elements.stepDown.id+" "+this.labelledBy)}},labelled:{attribute:"labelled",transform:Coral.transform.string,attributeTransform:Coral.transform.string,get:function(){return this._getLabellableElement().getAttribute("aria-label")},set:function(e){this._getLabellableElement()[e?"setAttribute":"removeAttribute"]("aria-label",e),this[e?"setAttribute":"removeAttribute"]("aria-label",e),this._elements.stepUp.setAttribute("aria-label",Coral.i18n.get("increase {fieldLabel}",{fieldLabel:e||""}).trim()),this._elements.stepDown.setAttribute("aria-label",Coral.i18n.get("decrease {fieldLabel}",{fieldLabel:e||""}).trim())}},placeholder:{reflectAttribute:!0,transform:Coral.transform.string,get:function(){return this._elements.input.placeholder},set:function(e){this._elements.input.placeholder=e}}},reset:function(){this._elements.input.reset()},clear:function(){this._elements.input.clear()},stepUp:function(){var e=this.valueAsNumber,t=this._getActualStep();if(isNaN(e))this.value=null!==this.max?Math.min(t,this.max):t;else{var i=n("+",e,t);this.value=null!==this.max?Math.min(i,this.max):i}},stepDown:function(){var e=this.valueAsNumber,t=this._getActualStep();if(isNaN(e))this.value=null!==this.min?Math.max(-t,this.min):-t;else{var i=n("-",e,t);this.value=null!==this.min?Math.max(i,this.min):i}},_getActualStep:function(){return"any"===this.step?this._properties.step.default:this.step},_validateInputValue:function(){this.invalid=""!==this.value&&(window.isNaN(Number(this.value))||null!==this.max&&this.value>this.max||null!==this.min&&this.value<this.min||"any"!==this.step&&this.value%this._getActualStep()!=0)},_setButtonState:function(){this._elements.stepUp.disabled=this.disabled||null!==this.max&&this.value>=this.max||this.readOnly,this._elements.stepDown.disabled=this.disabled||null!==this.min&&this.value<=this.min||this.readOnly},_triggerChange:function(e,t){e!==t&&this.trigger("change")},_onTouchStart:function(e){("touchstart"===e.type||"mouse"!==e.pointerType&&4!==e.pointerType)&&(t=!0)},_setFocusToInput:function(){t||document.activeElement===this._elements.input||this._elements.input.focus(),t=!1},_onStepUpButtonClick:function(e){e.preventDefault();var t=this.value;i="click"===e.type,this._setFocusToInput(),this.stepUp(),this._validateInputValue(),this._triggerChange(this.value,t)},_onStepDownButtonClick:function(e){e.preventDefault();var t=this.value;i="click"===e.type,this._setFocusToInput(),this.stepDown(),this._validateInputValue(),this._triggerChange(this.value,t)},_onKeyHome:function(e){if(e.preventDefault(),!this.disabled&&!this.readOnly){if(null!==this.max){var t=this.value;i=!0,this.value=this.max,this._triggerChange(this.value,t)}this._setFocusToInput()}},_onKeyEnd:function(e){if(e.preventDefault(),!this.disabled&&!this.readOnly){if(null!==this.min){var t=this.value;i=!0,this.value=this.min,this._triggerChange(this.value,t)}this._setFocusToInput()}},_onKeyUp:function(e){e.preventDefault(),this.disabled||this.readOnly||this._onStepUpButtonClick(e)},_onKeyDown:function(e){e.preventDefault(),this.disabled||this.readOnly||this._onStepDownButtonClick(e)},_onInputMouseWheel:function(e){if(!this.disabled&&!this.readOnly&&this._elements.input===document.activeElement){e.preventDefault();var t=this.value;Math.max(-1,Math.min(1,e.wheelDelta||-e.detail||e.deltaY))<0?this.stepDown():this.stepUp(),this._triggerChange(this.value,t)}},_onInputChange:function(e){e.stopPropagation(),this._validateInputValue(),this._queueSync("value","invalid","disabled"),this.trigger("change")},_onFocus:function(e){this.classList.add("is-focused"),this._elements.input.classList.add("is-focused"),this._elements.liveregion.removeAttribute("role"),this._elements.liveregion.removeAttribute("aria-hidden")},_onBlur:function(e){this.contains(document.activeElement)||(this.classList.remove("is-focused"),this._elements.input.classList.remove("is-focused")),this._elements.liveregion.setAttribute("role","presentation"),this._elements.liveregion.setAttribute("aria-hidden",!0),this._clearLiveRegion()},_getLabellableElement:function(){return this._elements.input},_clearLiveRegion:function(){var e=this._elements.liveregion;e.firstChild&&e.removeChild(e.firstChild)},_updateLiveRegion:function(t){var i,n=this;clearTimeout(e),this._clearLiveRegion(),t&&""!==t&&(i=document.createTextNode(t),Coral.commons.nextFrame((function(){n._elements.liveregion.appendChild(i),e=setTimeout(n._clearLiveRegion.bind(n),3e3)})))},_initialize:function(){this.setAttribute("role","group"),this.id||(this.id=Coral.commons.getUID()),"text"===this._elements.input.type&&this._elements.input.setAttribute("role","spinbutton")},_render:function(){for(;this.firstChild;)this.removeChild(this.firstChild);this.appendChild(Coral.templates.NumberInput.base.call(this._elements))}})}(),function(){"use strict";Coral.register({name:"PanelStack",tagName:"coral-panelstack",className:"coral3-PanelStack",mixins:[Coral.mixin.selectionList({itemTagName:"coral-panel",supportMultiple:!1,forceSelection:!1,role:"presentation"})],properties:{selectedItem:{get:function(){return this.items.getLastSelected()},set:function(){}}}}),Coral.register({name:"Panel",tagName:"coral-panel",className:"coral3-Panel",mixins:[Coral.mixin.selectionList.Item({listSelector:"coral-panelstack",alwaysEnabled:!0,role:"region"})],properties:{content:Coral.property.contentZone({handle:"content",tagName:"coral-panel-content",defaultContentZone:!0,insert:function(e){this.appendChild(e)}}),selected:{sync:function(){this.setAttribute("aria-hidden",!this.selected)}}},_render:function(){var e=this.querySelector("coral-panel-content");if(null===e)for(e=document.createElement("coral-panel-content");this.firstChild;)e.appendChild(this.firstChild);this.content=e}}),Coral.Panel.Content=function(){return document.createElement("coral-panel-content")}}(),window.Coral=window.Coral||{},window.Coral.strings=window.Coral.strings||{},window.Coral.strings["coralui-component-quickactions"]={"en-US":{"More actions":"More actions"},"fr-FR":{"More actions":"Autres actions"},"de-DE":{"More actions":"Weitere Aktionen"},"it-IT":{"More actions":"Altre azioni"},"es-ES":{"More actions":"Más acciones"},"pt-BR":{"More actions":"Mais ações"},"ja-JP":{"More actions":"その他のアクション"},"ko-KR":{"More actions":"추가 작업"},"zh-CN":{"More actions":"更多操作"},"zh-TW":{"More actions":"更多動作"},"nl-NL":{"More actions":"Meer acties"},"da-DK":{"More actions":"Flere handlinger"},"fi-FI":{"More actions":"Lisää toimintoja"},"nb-NO":{"More actions":"Flere handlinger"},"sv-SE":{"More actions":"Fler åtgärder"},"cs-CZ":{"More actions":"Další akce"},"pl-PL":{"More actions":"Więcej czynności"},"ru-RU":{"More actions":"Другие действия"},"tr-TR":{"More actions":"Daha fazla işlem"}},window.Coral=window.Coral||{},window.Coral.templates=window.Coral.templates||{},window.Coral.templates.QuickActions=window.Coral.templates.QuickActions||{},window.Coral.templates.QuickActions.base=function(e){var t=document.createDocumentFragment(),i=this.moreButton=document.createElement("button","coral-button");i.setAttribute("tracking","off"),i.className+=" coral3-QuickActions-button",i.setAttribute("is","coral-button"),i.setAttribute("type","button"),i.setAttribute("icon","more"),i.setAttribute("iconsize","S"),i.setAttribute("handle","moreButton"),i.setAttribute("title",Coral.i18n.get("More actions")),i.setAttribute("role","menuitem"),i.setAttribute("aria-haspopup","menu"),i.setAttribute("aria-expanded","false"),i.setAttribute("aria-label",Coral.i18n.get("More actions")),t.appendChild(i);var n=document.createTextNode("\n");t.appendChild(n);var o=this.overlay=document.createElement("coral-overlay");return o.setAttribute("tracking","off"),o.className+=" coral3-QuickActions-overlay",o.setAttribute("offset","5"),o.setAttribute("placement","bottom"),o.setAttribute("target","_prev"),o.setAttribute("handle","overlay"),o.setAttribute("role","presentation"),t.appendChild(o),t},window.Coral.templates.QuickActions.overlaycontent=function(e){var t=this.buttonList=document.createElement("coral-buttonlist");return t.setAttribute("tracking","off"),t.id=Coral.commons.getUID(),t.className+=" coral3-QuickActions-buttonList",t.setAttribute("handle","buttonList"),t.setAttribute("role","menu"),t.setAttribute("tabindex","-1"),t},function(){"use strict";var e={ON:"on",OFF:"off"},t={PARENT:"_parent",PREVIOUS:"_prev",NEXT:"_next"},i={TOP:"top",CENTER:"center",BOTTOM:"bottom"};Coral.register({name:"QuickActions",tagName:"coral-quickactions",className:"coral3-QuickActions",extend:Coral.Overlay,_overlayAnimationTime:Coral.mixin.overlay.FADETIME,events:{"global:resize":"_onWindowResize",mouseout:"_onMouseOut","capture:focus":"_onFocus","capture:blur":"_onBlur","global:click":"_onGlobalClick","key:home > .coral3-QuickActions-button":"_onHomeKeypress","key:end > .coral3-QuickActions-button":"_onEndKeypress","key:pagedown > .coral3-QuickActions-button":"_onButtonKeypressNext","key:right > .coral3-QuickActions-button":"_onButtonKeypressNext","key:down > .coral3-QuickActions-button":"_onButtonKeypressNext","key:pageup > .coral3-QuickActions-button":"_onButtonKeypressPrevious","key:left > .coral3-QuickActions-button":"_onButtonKeypressPrevious","key:up > .coral3-QuickActions-button":"_onButtonKeypressPrevious",'click > .coral3-QuickActions-button:not([handle="moreButton"])':"_onButtonClick",'click > .coral3-QuickActions-button[handle="moreButton"]':"_onMoreButtonClick","coral-overlay:beforeopen":"_onOverlayBeforeOpen","coral-overlay:beforeclose":"_onOverlayBeforeClose","coral-overlay:open":"_onOverlayOpen","coral-overlay:close":"_onOverlayClose","coral-overlay:positioned":"_onOverlayPositioned","click [coral-list-item]":"_onButtonListItemClick","coral-quickactions-item:_contentchanged":"_onItemChange","coral-quickactions-item:_iconchanged":"_onItemChange","coral-quickactions-item:_hrefchanged":"_onItemChange","coral-quickactions-item:_typechanged":"_onItemTypeChange"},properties:{items:{get:function(){return this._items||(this._items=new Coral.Collection({host:this,itemTagName:"coral-quickactions-item",onItemRemoved:this._onItemRemoved,onCollectionChange:this._onCollectionChange})),this._items},set:function(){}},threshold:{default:4,reflectAttribute:!0,attribute:"threshold",transform:Coral.transform.number},target:{set:function(e){var t=this._getTarget(e),i=t!==this._previousTarget;if(t&&i){if(this._previousTarget){var n=this._getTarget(this._previousTarget);n&&(this._removeTargetEventListeners(n),t.removeAttribute("aria-haspopup"),t.removeAttribute("aria-owns"))}this._addTargetEventListeners(),t.setAttribute("aria-haspopup","true");var o=t.getAttribute("aria-owns");o=o&&o.length?o.trim()+" "+this.id:this.id,t.setAttribute("aria-owns",o),this._previousTarget=t}}},interaction:{default:e.ON,set:function(t){this._interaction=t,t===e.ON?this._addTargetEventListeners():this._removeTargetEventListeners()}},alignMy:{default:Coral.Overlay.align.CENTER_TOP},alignAt:{default:Coral.Overlay.align.CENTER_TOP},offset:{default:10},placement:{validate:[Coral.validate.valueMustChange,Coral.validate.enumeration(i)],set:function(e){var t=this._placementAlignValues[e];this.alignMy=t.alignMy,this.alignAt=t.alignAt,this._placement=e}},focusOnShow:{default:Coral.mixin.overlay.focusOnShow.OFF},open:{set:function(e,t){this._open=e,this._openSilently=!!t,this.open?(this._focusOnShow!==Coral.mixin.overlay.focusOnShow.OFF&&this.returnFocusTo(document.activeElement),this.setAttribute("aria-hidden","false")):this.setAttribute("aria-hidden","true"),this.parentNode&&(this.open?(this._pushOverlay(),this.returnFocus===Coral.mixin.overlay.returnFocus.ON&&(this._elementToFocusWhenHidden=this._elementToFocusWhenHidden||this._returnFocusToElement||(document.activeElement===document.body?null:document.activeElement))):this._popOverlay())},sync:function(){var e=this;if(this.open&&!this._openedBefore){for(var t=this.items.getAll(),i=0,n=t.length;i<n;i++)this._attachItem(t[i],i);this._openedBefore=!0}var o=function(){e.style.marginTop=""};e.open?(clearTimeout(this._slideTimeout),o(),e._layout(),e.style.marginTop="-5px",Coral.commons.nextFrame((function(){e.style.visibility="visible",e.focusOnShow!==Coral.mixin.overlay.focusOnShow.OFF&&e.focus()}))):Coral.commons.nextFrame((function(){e._overlayAnimationTime?e._slideTimeout=setTimeout(o,e._overlayAnimationTime):o()}));var a=this._getTarget();a&&a.classList.toggle("is-selected",this.open)}}},focus:function(e){if(this.open&&!this.contains(document.activeElement)){var t=this._getFirstFocusableButton();t&&t.focus(e||this._preventScroll())}},attachedCallback:function(){Coral.Component.prototype.attachedCallback.call(this),this.target=this.target},_getTarget:function(e){if((e=e||this.target)instanceof Node)return e;var i=null;return"string"==typeof e&&(i=e===t.PARENT?this.parentNode:Coral.Overlay.prototype._getTarget.call(this,e)),i},_addTargetEventListeners:function(t){var i=t||this._getTarget();i&&this.interaction===e.ON&&(i.addEventListener("mouseenter",this._onTargetMouseEnter),i.addEventListener("keyup",this._onTargetKeyUp),i.addEventListener("keydown",this._onTargetKeyDown),i.addEventListener("mouseleave",this._onTargetMouseLeave))},_removeTargetEventListeners:function(e){var t=e||this._getTarget();t&&(t.removeEventListener("mouseenter",this._onTargetMouseEnter),t.removeEventListener("keyup",this._onTargetKeyUp),t.removeEventListener("keydown",this._onTargetKeyDown),t.removeEventListener("mouseleave",this._onTargetMouseLeave))},_toggleTabbable:function(e,t){e&&(t?e.hasAttribute("tabIndex")&&e.removeAttribute("tabIndex"):e.setAttribute("tabIndex","-1"))},_getFocusableNeighbour:function(e,t){var i=function(e){for(var t=[],i=0,n=t.length=e.length;i<n;i++)t[i]=e[i];return t}(this._getFocusableButtons()),n=i.indexOf(e);if(n>=0)if(t){if(0!==n)return i[n-1]}else if(n<i.length-1)return i[n+1]},_getButtons:function(e){var t=".coral3-QuickActions-button";return t=e?t+':not([handle="moreButton"])':t,this.querySelectorAll(t)},_getFocusableButtons:function(){return this.querySelectorAll(".coral3-QuickActions-button:not([disabled]):not([hidden])")},_getFirstFocusableButton:function(){return this.querySelector(".coral3-QuickActions-button:not([disabled]):not([hidden])")},_proxyClick:function(t){t.trigger("click").defaultPrevented||this.interaction!==e.ON||this.hide()},_getItemData:function(e){return{htmlContent:e.innerHTML,textContent:e.textContent,icon:e.getAttribute("icon")||""}},_attachItem:function(e,t){if(e._elements.button)this._updateItem(e);else{void 0===t&&(t=Array.prototype.indexOf.call(this.items.getAll(),e));var i,n,o=this._getItemData(e),a=Coral.QuickActions.Item.type;e.type===a.BUTTON?i=(new Coral.Button).set({icon:o.icon,iconsize:Coral.Icon.size.SMALL,type:"button",tracking:"off"},!0):e.type===a.ANCHOR&&(i=(new Coral.AnchorButton).set({icon:o.icon,iconsize:Coral.Icon.size.SMALL,href:e.href,tracking:"off"},!0)),i.classList.add("coral3-QuickActions-button"),i.setAttribute("tabindex","-1"),i.setAttribute("title",o.textContent.trim()),i.setAttribute("aria-label",o.textContent.trim()),i.setAttribute("role","menuitem"),this.insertBefore(i,this.children[t]||null),e.type===a.BUTTON?n=new Coral.ButtonList.Item:e.type===a.ANCHOR&&((n=new Coral.AnchorList.Item).href=e.href);var r=this._elements.buttonList;r.insertBefore(n,r.children[t]||null),n.tabIndex=-1,n.content.innerHTML=o.htmlContent,n.icon=o.icon,e._elements.button=i,e._elements.buttonListItem=n,n._elements.quickActionsItem=e,i._elements.quickActionsItem=e}},_preventScroll:function(){return{preventScroll:this._scrollOnFocus===Coral.mixin.overlay.scrollOnFocus.OFF}},_layout:function(){this._setWidth();var e=this._getButtons(!0);if(e.length){var t=this._elements.buttonList.items.getAll(),i=this.style.display,n=!1;this.open||(this.style.left-=1e4,this.style.top-=1e4,this.style.display="block",n=!0);for(var o=this.offsetWidth-20,a=window.getComputedStyle(e[0],null).getPropertyValue("min-width"),r=Math.round(parseFloat(a,10))+10,s=0,l=0;o>l;)o>(l+=r)&&s++;for(var c=this.threshold>0,d=c&&e.length>this.threshold,u=e.length>s||d,h=u&&c&&this.threshold+1<s,p=u?h?this.threshold+1:s:e.length,m=0;m<e.length;m++)this._toggleTabbable(e[m],!1),e[m].show(),t[m]&&t[m].show();if(this._toggleTabbable(this._elements.moreButton,!1),u){if(p>0){for(var f=p-1;f<e.length;f++)e[f].hide();for(var g=0;g<p-1;g++)t[g].hide();this._toggleTabbable(e[0],!0)}else this._toggleTabbable(this._elements.moreButton,!0);this._elements.moreButton.show()}else this._toggleTabbable(e[0],!0),this._elements.moreButton.hide();var v=p*r,b=Math.round((o-v)/2);this.style.paddingLeft=b+"px",n&&(this.style.left+=1e4,this.style.top+=1e4,this.style.display=i),this._position()}},_setWidth:function(){var e=this._getTarget();e&&(this.style.width=e.offsetWidth+"px")},_setButtonListHeight:function(){this._elements.buttonList.style.height="";var e=window.getComputedStyle(this._elements.buttonList),t=parseInt(e.height,10);t<parseInt(e.maxHeight,10)&&(this._elements.buttonList.style.height=t-1+"px")},_isInternalToComponent:function(e){var t=this._getTarget();return e&&(this.contains(e)||t&&t.contains(e))},_onWindowResize:function(){this._layout()},_onMouseOut:function(t){var i=t.toElement||t.relatedTarget;this._isInternalToComponent(i)||this.interaction!==e.ON||this.hide()},_onFocus:function(e){if(this._focusOnShow===Coral.mixin.overlay.focusOnShow.OFF&&this._returnFocus!==Coral.mixin.overlay.returnFocus.ON){var t=this._getTarget();t&&(this._previousReturnFocus||(this._previousReturnFocus=this._returnFocus,this.returnFocus=Coral.mixin.overlay.returnFocus.ON),this._previousElementToFocusWhenHidden||(this._previousElementToFocusWhenHidden=this._elementToFocusWhenHidden,this._elementToFocusWhenHidden=t))}var i=this._getFocusableButtons();if(-1!==[].slice.call(i).indexOf(e.target))for(var n=0;n<i.length;n++)this._toggleTabbable(i[n],i[n]===e.target)},_onBlur:function(t){var i=this,n=t.toElement||t.relatedTarget;this._focusOnShow===Coral.mixin.overlay.focusOnShow.OFF&&(this._previousReturnFocus&&(this.returnFocus=this._previousReturnFocus,this._previousReturnFocus=void 0),this._previousElementToFocusWhenHidden&&(this._elementToFocusWhenHidden=this._previousElementToFocusWhenHidden,this._previousElementToFocusWhenHidden=void 0)),this.interaction===e.ON&&(n?i._isInternalToComponent(n)||this.hide():Coral.commons.nextFrame((function(){n=document.activeElement,i._isInternalToComponent(n)||i.hide()})))},_onTargetMouseEnter:function(e){var t=e.fromElement||e.relatedTarget;this.open||this._isInternalToComponent(t)||(this.show(),this._trackEvent("display","quickactions",e))},_onTargetKeyUp:function(t){var i=t.keyCode;(t.shiftKey&&121===i||t.ctrlKey&&32===i)&&(this.open||(this.interaction===e.ON&&(this._previousTrapFocus=this.trapFocus,this._previousReturnFocus=this.returnFocus,this._previousFocusOnShow=this.focusOnShow,this.trapFocus=Coral.mixin.overlay.trapFocus.ON,this.returnFocus=Coral.mixin.overlay.returnFocus.ON,this.focusOnShow=Coral.mixin.overlay.focusOnShow.ON),this.show()))},_onTargetKeyDown:function(e){var t=e.keyCode;(e.shiftKey&&121===t||e.ctrlKey&&32===t)&&e.preventDefault()},_onTargetMouseLeave:function(e){var t=e.toElement||e.relatedTarget;this._isInternalToComponent(t)||this.hide()},_handleEscape:function(t){this.interaction===e.ON&&(this._elements.overlay.open&&this._elements.overlay._isTopOverlay()?(this._hidingOverlay=!0,t.stopImmediatePropagation(),this._elements.overlay.hide()):this.open&&this._isTopOverlay()&&!this._hidingOverlay&&(t.stopImmediatePropagation(),this.hide()))},_onHomeKeypress:function(e){e.preventDefault();var t=this._getFirstFocusableButton();t&&t.focus(this._preventScroll())},_onEndKeypress:function(e){e.preventDefault();var t=this._getFocusableButtons(),i=t[t.length-1];i&&i.focus(this._preventScroll())},_onButtonKeypressNext:function(e){e.preventDefault();var t=this._getFocusableNeighbour(e.matchedTarget);t?t.focus(this._preventScroll()):"ArrowDown"===e.key&&document.activeElement===this._elements.moreButton&&this._elements.moreButton.click()},_onButtonKeypressPrevious:function(e){e.preventDefault();var t=this._getFocusableNeighbour(e.matchedTarget,!0);t&&t.focus(this._preventScroll())},_onButtonClick:function(e){var t=this;if(e.stopPropagation(),!t._preventClick){var i=e.matchedTarget._elements.quickActionsItem;t._proxyClick(i),setTimeout((function(){t._preventClick=!1}),t._overlayAnimationTime),t._preventClick=!0,this._trackEvent("click","quickactions-item",e,i)}},_onMoreButtonClick:function(e){var t=e.matchedTarget._elements.quickActionsItem;this._trackEvent("click","quickactions-more",e,t)},_onGlobalClick:function(e){this._elements.moreButton.contains(e.target)?this._elements.overlay.open=!this._elements.overlay.open:this._elements.overlay.contains(e.target)||(this._elements.overlay.open=!1)},_onOverlayBeforeOpen:function(e){e.target===this?(this._preventClick=!1,this._layout()):e.target===this._elements.overlay&&(e.stopImmediatePropagation(),this._setButtonListHeight(),this._elements.overlay.returnFocusTo(this._elements.moreButton),this._elements.moreButton.setAttribute("aria-expanded","true"))},_onOverlayBeforeClose:function(e){e.target===this._elements.overlay&&(e.stopImmediatePropagation(),this._elements.moreButton.setAttribute("aria-expanded","false"))},_onOverlayOpen:function(e){var t=this;e.target===this._elements.overlay&&(e.stopImmediatePropagation(),Coral.commons.nextFrame((function(){var e=t._elements.buttonList.items.getAll().filter((function(e){return!e.hasAttribute("hidden")&&!e.hasAttribute("disabled")}));e.length>0&&e[0].focus(t._preventScroll())})))},_onOverlayClose:function(e){var t=this;e.target===t?(t._elements.overlay.open=!1,Coral.commons.nextFrame((function(){t._previousTrapFocus&&(t.trapFocus=t._previousTrapFocus,t.trapFocus!==Coral.mixin.overlay.trapFocus.ON&&t.removeAttribute("tabindex"),t._previousTrapFocus=void 0),t._previousReturnFocus&&(t.returnFocus=t._previousReturnFocus,t._previousReturnFocus=void 0),t._previousFocusOnShow&&(t.focusOnShow=t._previousFocusOnShow,t._previousFocusOnShow=void 0)}))):e.target===t._elements.overlay&&(e.stopImmediatePropagation(),Coral.commons.nextFrame((function(){t._hidingOverlay&&delete t._hidingOverlay})))},_onOverlayPositioned:function(e){this.style.maxWidth="none",e.target===this._elements.overlay&&e.stopImmediatePropagation()},_onButtonListItemClick:function(e){e.stopImmediatePropagation();var t=e.matchedTarget;if(t){var i=t._elements.quickActionsItem;this._proxyClick(i),this._trackEvent("click","quickactions-item",e,i)}},_onItemRemoved:function(e){this._removeItemElements(e)},_onCollectionChange:function(e,t){if(this._openedBefore){for(var i,n=this.items.getAll(),o=0,a=e.length;o<a;o++)i=Array.prototype.indexOf.call(n,e[o]),this._attachItem(e[o],i);this._layout()}},_onItemChange:function(e){e.stopImmediatePropagation(),this._updateItem(e.target)},_onItemTypeChange:function(e){e.stopImmediatePropagation();var t=e.target;this._removeItemElements(t),this._attachItem(t),this._layout()},_removeItemElements:function(e){e._elements.button&&(e._elements.button.remove(),e._elements.button._elements.quickActionsItem=void 0,e._elements.button=void 0),e._elements.buttonListItem&&(e._elements.buttonListItem.remove(),e._elements.buttonListItem._elements.quickActionsItem=null,e._elements.buttonListItem=void 0)},_updateItem:function(e){var t=this._getItemData(e),i=Coral.QuickActions.Item.type,n=e._elements.button;n&&(n.icon=t.icon,n.setAttribute("title",t.textContent.trim()),n.setAttribute("aria-label",t.textContent.trim()),n[e.type===i.ANCHOR?"setAttribute":"removeAttribute"]("href",e.href));var o=e._elements.buttonListItem;o&&(o.content.innerHTML=t.htmlContent,o[e.type===i.ANCHOR?"setAttribute":"removeAttribute"]("href",e.href),o.icon=t.icon)},_render:function(){this.id=this.id||Coral.commons.getUID(),["moreButton","overlay"].forEach((function(e){var t=this.querySelector('[handle="'+e+'"]');t&&this.removeChild(t)}),this),this.insertBefore(Coral.templates.QuickActions.base.call(this._elements),this.items.first()),this._elements.overlay.appendChild(Coral.templates.QuickActions.overlaycontent.call(this._elements)),this._onTargetMouseEnter=this._onTargetMouseEnter.bind(this),this._onTargetKeyUp=this._onTargetKeyUp.bind(this),this._onTargetMouseLeave=this._onTargetMouseLeave.bind(this)},_initialize:function(){this._openedBefore=!1,this.id||(this.id=Coral.commons.getUID()),this.setAttribute("role","menu"),this.items._startHandlingItems()},_placementAlignValues:{top:{alignMy:"center top",alignAt:"center top"},center:{alignMy:"center center",alignAt:"center center"},bottom:{alignMy:"center bottom",alignAt:"center bottom"}}}),Coral.QuickActions.target=t,Coral.QuickActions.interaction=e,Coral.QuickActions.placement=i}(),function(){"use strict";var e={BUTTON:"button",ANCHOR:"anchor"};Coral.register({name:"QuickActions.Item",tagName:"coral-quickactions-item",properties:{content:{contentZone:!0,get:function(){return this},set:function(){}},href:{default:"",reflectAttribute:!0,transform:Coral.transform.string,trigger:"coral-quickactions-item:_hrefchanged"},icon:{default:"",reflectAttribute:!0,transform:Coral.transform.string,trigger:"coral-quickactions-item:_iconchanged"},type:{default:e.BUTTON,reflectAttribute:!0,validate:[Coral.validate.valueMustChange,Coral.validate.enumeration(e)],trigger:"coral-quickactions-item:_typechanged"},trackingElement:{set:function(e){this._trackingElement=e},get:function(){return void 0===this._trackingElement?this.textContent&&this.textContent.replace(/\s{2,}/g," ").trim()||this.icon:this._trackingElement},attribute:"trackingelement",transform:Coral.transform.string}},_onMutation:function(){this.trigger("coral-quickactions-item:_contentchanged")},_initialize:function(){this._observer=new MutationObserver(this._onMutation.bind(this)),this._observer.observe(this,{characterData:!0,childList:!0,subtree:!0})}}),Coral.QuickActions.Item.type=e}(),window.Coral=window.Coral||{},window.Coral.strings=window.Coral.strings||{},window.Coral.strings["coralui-component-search"]={"it-IT":{"Clear search":"Azzera ricerca"},"ja-JP":{"Clear search":"検索をクリア"},"es-ES":{"Clear search":"Borrar búsqueda"},"ko-KR":{"Clear search":"검색 지우기"},"zh-CN":{"Clear search":"清除搜索"},"zh-TW":{"Clear search":"清除搜尋"},"pt-BR":{"Clear search":"Limpar busca"},"nl-NL":{"Clear search":"Zoekopdracht wissen"},"en-US":{"Clear search":"Clear search"},"de-DE":{"Clear search":"Suche löschen"},"fr-FR":{"Clear search":"Effacer la recherche"},"da-DK":{"Clear search":"Slet søgning"},"fi-FI":{"Clear search":"Tyhjennä haku"},"nb-NO":{"Clear search":"Fjern søk"},"sv-SE":{"Clear search":"Rensa sökningen"},"cs-CZ":{"Clear search":"Vymazat hledání"},"pl-PL":{"Clear search":"Wyczyść wyniki wyszukiwania"},"ru-RU":{"Clear search":"Очистить поиск"},"tr-TR":{"Clear search":"Aramayı temizle"}},window.Coral=window.Coral||{},window.Coral.templates=window.Coral.templates||{},window.Coral.templates.search=window.Coral.templates.search||{},window.Coral.templates.search.base=function(e){var t=document.createDocumentFragment(),i=this.icon=document.createElement("coral-icon");i.className+=" coral-DecoratedTextfield-icon",i.setAttribute("size","S"),i.setAttribute("handle","icon"),t.appendChild(i);var n=document.createTextNode("\n");t.appendChild(n);var o=this.input=document.createElement("input","coral-textfield");o.setAttribute("type","text"),o.className+=" coral-DecoratedTextfield-input coral3-Search-input",o.setAttribute("is","coral-textfield"),o.setAttribute("handle","input"),t.appendChild(o);var a=document.createTextNode("\n");t.appendChild(a);var r=this.clearButton=document.createElement("button","coral-button");return r.setAttribute("type","button"),r.setAttribute("aria-label",Coral.i18n.get("Clear search")),r.setAttribute("is","coral-button"),r.setAttribute("variant","minimal"),r.setAttribute("icon","close"),r.setAttribute("iconsize","XS"),r.className+=" coral-DecoratedTextfield-button",r.setAttribute("handle","clearButton"),t.appendChild(r),t},function(){"use strict";var e={DEFAULT:"default",QUIET:"quiet"};Coral.register({name:"Search",tagName:"coral-search",className:"coral3-Search coral-DecoratedTextfield",mixins:[Coral.mixin.formField],events:{"keydown [handle=input]":"_onEnterKey","keyup [handle=input]":"_onKeyUp","input [handle=input]":"_triggerInputEvent","key:escape [handle=input]":"_clearInput","click [handle=clearButton]:not(:disabled)":"_clearInput"},properties:{value:{get:function(){return this._elements.input.value},set:function(e){this._elements.input.value=e}},name:{get:function(){return this._elements.input.name},set:function(e){this._elements.input.name=e}},disabled:{sync:function(){this.classList.toggle("is-disabled",this.disabled),this._elements.input.disabled=this.disabled,this._elements.clearButton.disabled=this.disabled}},invalid:{sync:function(){this.classList.toggle("is-invalid",this.invalid),this._elements.input.classList.toggle("is-invalid",this.invalid),this._elements.input.setAttribute("aria-invalid",this.invalid)}},required:{sync:function(){this._elements.input.required=this.required}},labelledBy:{sync:function(){this.labelledBy?this.setAttribute("aria-labelledby",this.labelledBy):this.removeAttribute("aria-labelledby")}},placeholder:{default:"",reflectAttribute:!0,transform:Coral.transform.string,get:function(){return this._elements.input.placeholder},set:function(e){this._elements.input.placeholder=e}},maxLength:{attribute:"maxlength",reflectAttribute:!0,set:function(e){this._elements.input.maxLength=e},get:function(){return this._elements.input.maxLength}},icon:{default:"search",validate:[],reflectAttribute:!0,set:function(e){this._elements.icon.icon=e,this._elements.icon.hidden=!this._elements.icon.icon},get:function(){return this._elements.icon.icon}},variant:{default:e.DEFAULT,validate:[Coral.validate.valueMustChange,Coral.validate.enumeration(e)],sync:function(){this._elements.input.variant=this.variant}}},_triggerInputEvent:function(){this.trigger("coral-search:input")},_onEnterKey:function(e){if(13===e.which){if(e.preventDefault(),this.disabled)return;this.trigger("coral-search:submit")}},_onKeyUp:function(e){this._updateClearButton()},_updateClearButton:function(){""===this._elements.input.value?this._elements.clearButton.style.display="none":this._elements.clearButton.style.display=""},_clearInput:function(e){this._elements.input.value="",this._updateClearButton(),this._elements.input.focus(),this.trigger("coral-search:clear")},_getLabellableElement:function(){return this._elements.input},_initialize:function(){this._updateClearButton()},_render:function(){this.appendChild(Coral.templates.search.base.call(this._elements))}}),Coral.Search.variant=e}(),window.Coral=window.Coral||{},window.Coral.strings=window.Coral.strings||{},window.Coral.strings["coralui-component-steplist"]={"en-US":{"Step List":"Step List","completed: ":"completed: ","current: ":"current: ","not completed: ":"not completed: "},"de-DE":{"Step List":"Schrittliste","completed: ":"abgeschlossen: ","current: ":"aktuell: ","not completed: ":"nicht abgeschlossen: "},"fr-FR":{"Step List":"Liste des étapes","completed: ":"terminé : ","current: ":"actuel : ","not completed: ":"non terminé : "},"it-IT":{"Step List":"Elenco passi","completed: ":"completato: ","current: ":"corrente: ","not completed: ":"non completato: "},"ja-JP":{"Step List":"手順リスト","completed: ":"完了: ","current: ":"現在: ","not completed: ":"未完了: "},"es-ES":{"Step List":"Lista de pasos","completed: ":"completado: ","current: ":"actual: ","not completed: ":"no completado: "},"ko-KR":{"Step List":"단계 목록","completed: ":"완료됨: ","current: ":"현재: ","not completed: ":"미완료: "},"zh-CN":{"Step List":"步骤列表","completed: ":"已完成: ","current: ":"当前: ","not completed: ":"未完成: "},"zh-TW":{"Step List":"步驟清單","completed: ":"已完成: ","current: ":"目前: ","not completed: ":"未完成: "},"pt-BR":{"Step List":"Lista de passos","completed: ":"concluído: ","current: ":"atual: ","not completed: ":"não concluído: "},"nl-NL":{"Step List":"Stappenlijst","completed: ":"voltooid: ","current: ":"huidige: ","not completed: ":"niet voltooid: "},"da-DK":{"Step List":"Trin liste","completed: ":"Afsluttet: ","current: ":"aktuelt: ","not completed: ":"Ikke afsluttet: "},"fi-FI":{"Step List":"Vaihe luettelo","completed: ":"Valmis: ","current: ":"nykyinen: ","not completed: ":"Ei valmis: "},"nb-NO":{"Step List":"Trinn liste","completed: ":"fullført: ","current: ":"gjeldende: ","not completed: ":"ikke fullført: "},"sv-SE":{"Step List":"Steg lista","completed: ":"slutförd: ","current: ":"aktuell: ","not completed: ":"inte slutförd: "},"cs-CZ":{"Step List":"Seznam kroků","completed: ":"dokončeno: ","current: ":"aktuální: ","not completed: ":"nedokončeno: "},"pl-PL":{"Step List":"Lista kroków","completed: ":"zakończone: ","current: ":"bieżący: ","not completed: ":"nieukończone: "},"ru-RU":{"Step List":"Список шагов","completed: ":"завершено: ","current: ":"текущий: ","not completed: ":"не завершено: "},"tr-TR":{"Step List":"Adım listesi","completed: ":"tamamlandı: ","current: ":"geçerli: ","not completed: ":"tamamlanmadı: "}},window.Coral=window.Coral||{},window.Coral.templates=window.Coral.templates||{},window.Coral.templates.StepList=window.Coral.templates.StepList||{},window.Coral.templates.StepList.step=function(e){var t=document.createDocumentFragment(),i=this.link=document.createElement("a");i.className+=" coral3-Step-link",i.setAttribute("handle","link");var n=document.createTextNode("\n  ");i.appendChild(n);var o=this.accessibilityLabel=document.createElement("span");o.className+=" u-coral-screenReaderOnly",o.setAttribute("handle","accessibilityLabel"),o.setAttribute("style","bottom:1.5rem;left:-100%"),i.appendChild(o);var a=document.createTextNode("\n  ");i.appendChild(a);var r=this.stepMarkerContainer=document.createElement("span");r.className+=" coral3-Step-markerContainer",r.setAttribute("handle","stepMarkerContainer"),r.setAttribute("role","img"),r.setAttribute("aria-hidden","true");var s=document.createTextNode("\n    ");r.appendChild(s);var l=document.createElement("span");l.className+=" coral3-Step-marker",r.appendChild(l);var c=document.createTextNode("\n  ");r.appendChild(c),i.appendChild(r);var d=document.createTextNode("\n  ");i.appendChild(d);var u=this.tooltip=document.createElement("coral-tooltip");u.setAttribute("handle","tooltip"),u.setAttribute("target","_prev"),u.setAttribute("placement","top"),u.setAttribute("variant","inspect"),u.setAttribute("interaction","off"),u.setAttribute("offset","5"),u.setAttribute("tracking","off"),i.appendChild(u);var h=document.createTextNode("\n");i.appendChild(h),t.appendChild(i);var p=document.createTextNode("\n");t.appendChild(p);var m=document.createElement("span");return m.className+=" coral3-Step-line",t.appendChild(m),t},function(){"use strict";var e={ON:"on",OFF:"off"},t={SMALL:"S",LARGE:"L"};function i(e){if(e instanceof Node)return e;var t=null;return"string"==typeof e&&""!==e.trim()&&(t=document.querySelector(e)),t}var n="coral3-StepList";Coral.register({name:"StepList",tagName:"coral-steplist",className:n,mixins:[Coral.mixin.selectionList({itemTagName:"coral-step",supportMultiple:!1,forceSelection:!0,role:"list"})],events:{'click > coral-step > [handle="link"]':"_onStepMarkerClick","capture:focus > coral-step":"_onStepMarkerMouseEnter","capture:mouseenter > coral-step":"_onStepMarkerMouseEnter","capture:blur > coral-step":"_onStepMarkerMouseLeave","capture:mouseleave > coral-step":"_onStepMarkerMouseLeave",'key:enter > coral-step > [handle="link"]':"_onStepKeyboardSelect",'key:return > coral-step > [handle="link"]':"_onStepKeyboardSelect",'key:space > coral-step > [handle="link"]':"_onStepKeyboardSelect",'key:home > coral-step > [handle="link"]':"_onHomeKey",'key:end > coral-step > [handle="link"]':"_onEndKey",'key:pagedown > coral-step > [handle="link"]':"_selectNextItem",'key:right > coral-step > [handle="link"]':"_selectNextItem",'key:down > coral-step > [handle="link"]':"_selectNextItem",'key:pageup > coral-step > [handle="link"]':"_selectPreviousItem",'key:left > coral-step > [handle="link"]':"_selectPreviousItem",'key:up > coral-step > [handle="link"]':"_selectPreviousItem"},properties:{target:{default:null,validate:function(e){return null===e||"string"==typeof e||e instanceof Node},sync:function(){var e=i(this.target);if(e)for(var t,n,o=this.items.getAll(),a=e.items?e.items.getAll():e.children,r=Math.max(o.length,a.length),s=0;s<r;s++)t=o[s],n=a[s],t&&t.target&&""!==t.target.trim()||(n&&n.setAttribute("role","region"),t&&n?(t.id=t.id||Coral.commons.getUID(),n.id=n.id||Coral.commons.getUID(),n.setAttribute("aria-labelledby",t.id)):t||n.removeAttribute("aria-labelledby"))}},size:{default:t.LARGE,reflectAttribute:!0,transform:function(e){return"string"==typeof e?e.toUpperCase():e},validate:[Coral.validate.valueMustChange,Coral.validate.enumeration(t)],sync:function(){var e=this.size===t.SMALL;this.classList.toggle(n+"--small",e);for(var i=this.items.getAll(),o=i.length,a=0;a<o;a++){var r=i[a],s=r._elements.label;r.labelled||r.labelledBy||!s.textContent.length||(s.classList.toggle("u-coral-screenReaderOnly",e),s.style.display=e?"block":"")}}},interaction:{default:e.OFF,reflectAttribute:!0,validate:[Coral.validate.valueMustChange,Coral.validate.enumeration(e)],sync:function(){var t=this.interaction===e.ON;if(this.classList.toggle(n+"--interactive",t),this.items.length){var i=function(){for(var e=this.items.getAll(),i=e.length,n=0;n<i;n++)e[n]._syncTabIndex(t),e[n]._syncSizeAndCurrentIndex(n+1,i)}.bind(this);"function"==typeof this.items.last()._syncTabIndex?i():Coral.commons.ready(this.items.last(),i)}}}},_onSelectionChange:function(e,t){this._setStateClasses()},_setStateClasses:function(){var e=1/0;this.items.getAll().forEach((function(t,i){if(t.hasAttribute("selected")&&(e=i),t.classList.toggle("is-complete",i<e),t._elements){var n=Coral.i18n.get("not completed: ");i<e?n=Coral.i18n.get("completed: "):i===e&&(n=Coral.i18n.get("current: ")),t._elements.accessibilityLabel.innerHTML=n}}))},_onStepKeyboardSelect:function(t){if(this.interaction===e.ON){t.preventDefault(),t.stopPropagation();var i=t.matchedTarget.parentNode;this._selectAndFocusItem(i),this._trackEvent("click","steplist-item",t,i)}},_onStepMarkerClick:function(t){if(this.interaction===e.ON){t.preventDefault(),t.stopPropagation();var i=t.matchedTarget.parentNode;this._selectAndFocusItem(i),this._trackEvent("click","steplist-item",t,i)}},_onStepMarkerMouseEnter:function(e){if(this.size===t.SMALL||this._isHybridMode){var i=e.matchedTarget;if(i.selected&&this._isHybridMode)return;""!==i._elements.label.innerHTML.trim()&&(i._elements.tooltip.content.innerHTML=i._elements.label.innerHTML,i._elements.tooltip.open=!0)}},_onStepMarkerMouseLeave:function(e){(this.size===t.SMALL||this._isHybridMode)&&(e.matchedTarget._elements.tooltip.open=!1)},_onHomeKey:function(t){if(this.interaction===e.ON){t.preventDefault();var i=this.items.getFirstSelectable();this._selectAndFocusItem(i)}},_onEndKey:function(t){if(this.interaction===e.ON){t.preventDefault();var i=this.items.getLastSelectable();this._selectAndFocusItem(i)}},_selectNextItem:function(t){this.interaction===e.ON&&(t.preventDefault(),this.next())},_selectPreviousItem:function(t){this.interaction===e.ON&&(t.preventDefault(),this.previous())},_selectAndFocusItem:function(e){e&&(this._selectItem(e),e.focus())},_setHybridLabel:function(e){if(e)if(this._isHybridMode){var t=this.items.getAll(),i=t.indexOf(e),n=120*(t.length/2-i)-60;e.label.style.marginLeft=n+"px",e.label.dataset.coralStepIndex=" ("+(i+1)+"/"+t.length+")"}else e.label.style.marginLeft=""},_updateLabels:function(){var e=!1;if(this._isHybridMode=!1,this.classList.remove("coral3-StepList--hybrid"),this.size!==t.SMALL){var i,n=this.items.getAll(),o=n.length;for(i=0;i<o;i++)if(n[i]._labelIsHidden){e=!0,this._isHybridMode=!0,this.classList.add("coral3-StepList--hybrid");break}for(i=0;i<o;i++)if(n[i].label){var a=!(n[i].hasAttribute("selected")||!e);n[i].label.hidden=a,n[i].hasAttribute("labelled")||n[i].hasAttribute("labelledby")||(n[i].labelled=a?n[i].label.textContent:void 0)}this._setHybridLabel(this.selectedItem)}},_onItemAttached:function(e){var t=e.target,i=t.clientWidth;t.label&&t.label.clientWidth>i&&(t._labelIsHidden=!0),this._allChildrenAdded&&this._updateLabels()},_onItemDetached:function(){this._updateLabels()},_onItemSelected:function(){this._updateLabels()},_initialize:function(){this.hasAttribute("aria-label")||this.hasAttribute("aria-labelledby")||this.setAttribute("aria-label",Coral.i18n.get("Step List")),this._setStateClasses();var e=this;Coral.commons.ready(this,(function(){e._allChildrenAdded=!0,e._updateLabels(),e._setStateClasses()}))},next:function(){var e=this.selectedItem;e&&(e=this.items.getNextSelectable(e),this._selectAndFocusItem(e))},previous:function(){var e=this.selectedItem;e&&(e=this.items.getPreviousSelectable(e),this._selectItem(e),e.focus())}}),Coral.StepList.size=t,Coral.StepList.interaction=e,Coral.register({name:"Step",tagName:"coral-step",className:"coral3-Step",mixins:[Coral.mixin.selectionList.Item({listSelector:"coral-steplist",role:"listitem",alwaysEnabled:!0})],properties:{label:Coral.property.contentZone({handle:"label",tagName:"coral-step-label",defaultContentZone:!0,insert:function(e){this._elements.link.insertBefore(e,this._elements.stepMarkerContainer)}}),selected:{sync:function(){this.classList.toggle("is-selected",this.selected),this.removeAttribute("aria-selected"),this._elements.link[this.selected?"setAttribute":"removeAttribute"]("aria-current","step");var t=this.parentNode;if(t&&this._syncTabIndex(t.interaction===e.ON),this.selected){var n=i(this.target);if(n)n.setAttribute("selected","");else if(t&&t.target&&(n=i(t.target))){var o=t.items.getAll().indexOf(this),a=(n.items?n.items.getAll():n.children)[o];a&&a.setAttribute("selected","")}}}},disabled:{default:!1,reflectAttribute:!0,transform:Coral.transform.boolean,attributeTransform:Coral.transform.booleanAttr,sync:function(){this.classList.toggle("is-disabled",this.disabled);var t=this.parentNode;t&&this._syncTabIndex(t.interaction===e.ON)}},target:{default:null,validate:function(e){return null===e||"string"==typeof e||e instanceof Node},sync:function(){var e=i(this.target);e&&e.setAttribute("aria-labelledby",this.id)}},trackingElement:{default:"",set:function(e){this._trackingElement=e},get:function(){return this._trackingElement?this._trackingElement:this.label.textContent.replace(/\s{2,}/g," ").trim()},attribute:"trackingelement",transform:Coral.transform.string},labelled:{default:null,transform:Coral.transform.string,reflectAttribute:!0,sync:function(){this._elements.stepMarkerContainer[this.labelled?"setAttribute":"removeAttribute"]("aria-label",this.labelled),this._elements.stepMarkerContainer[this.labelled||this.labelledBy?"removeAttribute":"setAttribute"]("aria-hidden",!this.labelled)}},labelledBy:{attribute:"labelledby",default:null,transform:Coral.transform.string,reflectAttribute:!0,sync:function(){this._elements.stepMarkerContainer[this.labelledBy?"setAttribute":"removeAttribute"]("aria-labelledby",this.labelledBy),this._elements.stepMarkerContainer[this.labelledBy||this.labelled?"removeAttribute":"setAttribute"]("aria-hidden",!this.labelledBy)}},describedBy:{attribute:"describedby",default:null,transform:Coral.transform.string,reflectAttribute:!0,sync:function(){this._elements.link[this.describedBy?"setAttribute":"removeAttribute"]("aria-describedby",this.describedBy)}}},focus:function(){this._elements.link.focus()},blur:function(){this._elements.link.blur()},_syncTabIndex:function(e){this.removeAttribute("tabindex"),e?(this._elements.link.setAttribute("role","link"),this.disabled?(this._elements.link.removeAttribute("tabindex"),this._elements.link.setAttribute("aria-disabled",!0)):(this._elements.link.removeAttribute("aria-disabled"),this._elements.link.setAttribute("tabindex",this.selected?"0":"-1"))):(this._elements.link.removeAttribute("tabindex"),this._elements.link.removeAttribute("role"))},_syncSizeAndCurrentIndex:function(e,t){this.setAttribute("aria-setsize",t),this.setAttribute("aria-posinset",e)},_render:function(){var e=this.querySelector("coral-step-label");if(null===e)for(e=document.createElement("coral-step-label");this.firstChild;)e.appendChild(this.firstChild);this.appendChild(Coral.templates.StepList.step.call(this._elements));var t=this._elements.tooltip,i=this.querySelector("coral-tooltip");i!==t&&(this._elements.link.insertBefore(i,t),t.remove(),this._elements.tooltip=i),this.label=e},_initialize:function(){this.id=this.id||Coral.commons.getUID()}}),Coral.register({name:"Step.Label",tagName:"coral-step-label",className:"coral3-Step-label"})}(),window.Coral=window.Coral||{},window.Coral.templates=window.Coral.templates||{},window.Coral.templates.Switch=window.Coral.templates.Switch||{},window.Coral.templates.Switch.base=function(e){var t=document.createDocumentFragment(),i=this.input=document.createElement("input");i.className+=" coral3-Switch-input",i.setAttribute("handle","input"),i.setAttribute("type","checkbox"),i.id=Coral.commons.getUID(),t.appendChild(i);var n=this.label=document.createElement("span");return n.className+=" coral3-Switch-label",n.setAttribute("handle","label"),n.setAttribute("aria-hidden","true"),t.appendChild(n),t},function(){"use strict";Coral.register({name:"Switch",tagName:"coral-switch",className:"coral3-Switch",mixins:[Coral.mixin.formField],properties:{checked:{default:!1,reflectAttribute:!0,transform:Coral.transform.boolean,attributeTransform:Coral.transform.booleanAttr,set:function(e){this._checked=e,this._elements.input.checked=e}},value:{default:"on",get:function(){return this._elements.input.value},set:function(e){this._elements.input.value=e}},name:{get:function(){return this._elements.input.name},set:function(e){this._elements.input.name=e}},disabled:{sync:function(){this.classList.toggle("is-disabled",this.disabled),this._elements.input.disabled=this.disabled}},required:{sync:function(){this._elements.input.required=this.required}}},_componentTargetProperty:"checked",_eventTargetProperty:"checked",clear:function(){this.checked=!1},reset:function(){this.checked=this._initialCheckedState},_render:function(){var e=document.createDocumentFragment();for(e.appendChild(Coral.templates.Switch.base.call(this._elements));this.firstChild;){var t=this.firstChild;t.nodeType===Node.TEXT_NODE||t.hasAttribute&&!t.hasAttribute("handle")?e.appendChild(t):this.removeChild(t)}this.appendChild(e)},_initialize:function(){this._initialCheckedState=this.checked}})}(),window.Coral=window.Coral||{},window.Coral.strings=window.Coral.strings||{},window.Coral.strings["coralui-component-table"]={"en-US":{Select:"Select","Select All":"Select All","sorted by column {0}, in ascending order":"sorted by column {0} in ascending order","sorted by column {0}, in descending order":"sorted by column {0} in descending order",", checked":", checked",", unchecked":", unchecked"},"de-DE":{Select:"Auswählen","Select All":"Alles auswählen","sorted by column {0}, in ascending order":"Sortiert nach Spalte {0} in aufsteigender Reihenfolge","sorted by column {0}, in descending order":"Sortiert nach Spalte {0} in absteigender Reihenfolge",", checked":", markiert",", unchecked":", nicht markiert"},"fr-FR":{Select:"Sélectionner","Select All":"Sélectionner tout","sorted by column {0}, in ascending order":"Trié par colonne {0} dans l’ordre ascendant","sorted by column {0}, in descending order":"Trié par colonne {0} dans l’ordre décroissant",", checked":", cochée",", unchecked":", pas cochée"},"it-IT":{Select:"Seleziona","Select All":"Seleziona tutto","sorted by column {0}, in ascending order":"Ordinato per colonna {0} in ordine crescente","sorted by column {0}, in descending order":"Ordinato per colonna {0} in ordine decrescente",", checked":", selezionata",", unchecked":", non selezionata"},"ja-JP":{Select:"選択","Select All":"すべてを選択","sorted by column {0}, in ascending order":"列 {0} で昇順で並べ替え","sorted by column {0}, in descending order":"列 {0} で降順に並べ替え",", checked":"、チェック",", unchecked":"、未チェック"},"es-ES":{Select:"Seleccionar","Select All":"Seleccionar todos","sorted by column {0}, in ascending order":"Ordenado por columna {0} en orden ascendente","sorted by column {0}, in descending order":"Ordenado por columna {0} en orden descendente",", checked":", marcada",", unchecked":", desmarcada"},"ko-KR":{Select:"선택","Select All":"모두 선택","sorted by column {0}, in ascending order":"오름차순으로 열 {0} 정렬","sorted by column {0}, in descending order":"내림차순으로 {0} 열별로 정렬",", checked":", 선택됨",", unchecked":", 선택되지 않은"},"zh-CN":{Select:"选择","Select All":"全选","sorted by column {0}, in ascending order":"按列{0}按升序排序r","sorted by column {0}, in descending order":"按列{0}按降序排序",", checked":"，选中",", unchecked":"，未选中"},"zh-TW":{Select:"選取","Select All":"全選","sorted by column {0}, in ascending order":"按列{0}按昇冪排序","sorted by column {0}, in descending order":"按列{0}按降冪排序",", checked":"，選中",", unchecked":"，未選中"},"pt-BR":{Select:"Selecionar","Select All":"Selecionar tudo","sorted by column {0}, in ascending order":"Classificado por coluna {0} em ordem ascendente","sorted by column {0}, in descending order":"Classificado por coluna {0} em ordem descendente",", checked":", marcada",", unchecked":", desmarcada"},"nl-NL":{Select:"Selecteren","Select All":"Alles selecteren","sorted by column {0}, in ascending order":"Gesorteerd op kolom {0} in oplopende volgorde","sorted by column {0}, in descending order":"Gesorteerd op kolom {0} in aflopende volgorde",", checked":", geselecteerd",", unchecked":", neit geselecteerd"},"da-DK":{Select:"Vælg","Select All":"Vælg alle","sorted by column {0}, in ascending order":"Sorteret efter kolonne {0} i stigende rækkefølge","sorted by column {0}, in descending order":"Sorteret efter kolonne {0} i faldende rækkefølge",", checked":", valgte",", unchecked":", ikke valgt"},"fi-FI":{Select:"Valitse","Select All":"Valitse kaikki","sorted by column {0}, in ascending order":"Lajiteltu sarakkeen mukaan {0} nousevaan järjestykseen","sorted by column {0}, in descending order":"Lajiteltu sarakkeen mukaan {0} laskevassa järjestyksessä",", checked":", valittu",", unchecked":", valittuna"},"nb-NO":{Select:"Velg","Select All":"Velg alle","sorted by column {0}, in ascending order":"Sortert etter kolonne {0} i stigende rekkefølge","sorted by column {0}, in descending order":"Sortert etter kolonne {0} i synkende rekkefølge",", checked":", valgt",", unchecked":", ikke valgt"},"sv-SE":{Select:"Markera","Select All":"Markera allt","sorted by column {0}, in ascending order":"Sorterat efter kolumn {0} i stigande ordning","sorted by column {0}, in descending order":"Sorterat efter kolumn {0} i fallande ordning",", checked":", markerad",", unchecked":", avmarkerad"},"cs-CZ":{Select:"Vybrat","Select All":"Vybrat vše","sorted by column {0}, in ascending order":"Seřazeno podle sloupcových {0} ve vzestupném pořadí","sorted by column {0}, in descending order":"Seřazeno podle sloupcových {0} v sestupném pořadí",", checked":", vybráno",", unchecked":", není vybráno"},"pl-PL":{Select:"Zaznacz","Select All":"Zaznacz wszystko","sorted by column {0}, in ascending order":"Posortowane według kolumny {0} w porządku rosnącym","sorted by column {0}, in descending order":"Posortowane według kolumny {0} w porządku malejącym",", checked":", zaznaczone",", unchecked":", nie zaznaczone"},"ru-RU":{Select:"Выбрать","Select All":"Выбрать все","sorted by column {0}, in ascending order":"Сортировка по столбе {0} в порядке возрастания","sorted by column {0}, in descending order":"Сортировка по колонке {0} в порядке убывания",", checked":", выбранный",", unchecked":", неотобранный"},"tr-TR":{Select:"Seç","Select All":"Tümünü Seç","sorted by column {0}, in ascending order":"Artan sırada {0} sütununa göre sıralanmış","sorted by column {0}, in descending order":"Azalan sırada {0} sütununa göre sıralanmış",", checked":", seçilmiş",", unchecked":", seçilmemiş"}},window.Coral=window.Coral||{},window.Coral.templates=window.Coral.templates||{},window.Coral.templates.Table=window.Coral.templates.Table||{},window.Coral.templates.Table.base=function(e){var t=document.createDocumentFragment(),i=this.container=document.createElement("div");i.setAttribute("handle","container"),i.className+=" coral-Table-wrapper-container",i.setAttribute("role","presentation"),i.setAttribute("coral-table-scroll","");var n=document.createTextNode("\n  ");i.appendChild(n);var o=this.table=document.createElement("table");o.setAttribute("handle","table"),o.className+=" coral-Table",o.setAttribute("role","grid"),i.appendChild(o);var a=document.createTextNode("\n");i.appendChild(a),t.appendChild(i);var r=document.createTextNode("\n");return t.appendChild(r),t},function(){"use strict";function e(e){var t=e.parentNode;return t?Array.prototype.indexOf.call(t.children,e):-1}function t(e,t,i){var n=[];if(i){var o=0===i.indexOf("next")?"nextElementSibling":"previousElementSibling";if(-1!==i.indexOf("Until"))for(;e[o]&&!("string"==typeof t?e[o].matches(t):e[o]===t);)n.push(e=e[o]);else{if(-1===i.indexOf("All")){var a=e[o];return a&&a.matches(t)?a:null}for(;e[o];)(e=e[o]).matches(t)&&n.push(e)}}else["previousElementSibling","nextElementSibling"].forEach((function(i){for(var o=e;o[i];)(o=o[i]).matches(t)&&n.push(o)}));return n}var i={DEFAULT:"default",LIST:"list"},n="coral-Table-wrapper",o=[];for(var a in i)o.push(n+"--"+i[a]);var r=Coral.Keys.keyToCode("space"),s=document.documentElement;if(-1!==s.className.indexOf("wf-inactive")||-1!==s.className.indexOf("wf-loading")){var l=new MutationObserver(function(){-1!==s.className.indexOf("wf-active")&&(l.disconnect(),new window.Vent(s).dispatch("coral-commons:_webfontload"))}.bind(this));l.observe(s,{attributes:!0,attributeFilter:["class"]})}var c=function(e){this._table=e};(c.prototype=Object.create(Coral.Collection.prototype)).add=function(e,t){if(!(e instanceof HTMLElement)){var i=e;(e=document.createElement("tr","coral-table-row")).set(i,!0)}var n=this._table._elements.body;return n||(n=document.createElement("tbody","coral-table-body"),this._table._elements.table.appendChild(n)),n.insertBefore(e,t||null)},c.prototype.getAll=function(){return this._table._getRows(["body"])},Coral.register({name:"Table",tagName:"coral-table",className:n,baseTagName:"table",extend:HTMLTableElement,events:{"global:coral-commons:_webfontload":"_resetLayout","change [coral-table-select]":"_onSelectAll",'capture:scroll [handle="container"]':"_onScroll",'click thead[is="coral-table-head"] th[is="coral-table-headercell"]':"_onHeaderCellSort",'coral-dragaction:dragstart thead[is="coral-table-head"] th[is="coral-table-headercell"]':"_onHeaderCellDragStart",'coral-dragaction:drag thead[is="coral-table-head"] tr[is="coral-table-row"] > th[is="coral-table-headercell"]':"_onHeaderCellDrag",'coral-dragaction:dragend thead[is="coral-table-head"] tr[is="coral-table-row"] > th[is="coral-table-headercell"]':"_onHeaderCellDragEnd",'key:enter th[is="coral-table-headercell"]':"_onHeaderCellSort",'key:space th[is="coral-table-headercell"]':"_onHeaderCellSort",'key:space thead[is="coral-table-head"] th[is="coral-table-headercell"] coral-table-headercell-content':"_onHeaderCellSort",'key:enter thead[is="coral-table-head"] th[is="coral-table-headercell"] coral-table-headercell-content':"_onHeaderCellSort",'click tbody[is="coral-table-body"] [coral-table-rowselect]':"_onRowSelect",'click tbody[is="coral-table-body"] [coral-table-rowlock]':"_onRowLock",'click tbody[is="coral-table-body"] tr[is="coral-table-row"][selectable] [coral-table-cellselect]':"_onCellSelect",'capture:mousedown tbody[is="coral-table-body"] [coral-table-roworder]:not([disabled])':"_onRowOrder",'capture:touchstart tbody[is="coral-table-body"] [coral-table-roworder]:not([disabled])':"_onRowOrder",'coral-dragaction:dragstart tbody[is="coral-table-body"] tr[is="coral-table-row"]':"_onRowDragStart",'coral-dragaction:drag tbody[is="coral-table-body"] tr[is="coral-table-row"]':"_onRowDrag",'coral-dragaction:dragover tbody[is="coral-table-body"] tr[is="coral-table-row"]':"_onRowDragOver",'coral-dragaction:dragend tbody[is="coral-table-body"] tr[is="coral-table-row"]':"_onRowDragEnd",'mousedown tbody[is="coral-table-body"] [coral-table-rowselect]':"_onRowDown",'key:enter tbody[is="coral-table-body"] tr[is="coral-table-row"]':"_onRowSelect",'key:space tbody[is="coral-table-body"] tr[is="coral-table-row"]':"_onRowSelect",'key:pageup tbody[is="coral-table-body"] tr[is="coral-table-row"]':"_onFocusPreviousItem",'key:pagedown tbody[is="coral-table-body"] tr[is="coral-table-row"]':"_onFocusNextItem",'key:left tbody[is="coral-table-body"] tr[is="coral-table-row"]':"_onFocusPreviousItem",'key:right tbody[is="coral-table-body"] tr[is="coral-table-row"]':"_onFocusNextItem",'key:up tbody[is="coral-table-body"] tr[is="coral-table-row"]':"_onFocusPreviousItem",'key:down tbody[is="coral-table-body"] tr[is="coral-table-row"]':"_onFocusNextItem",'key:home tbody[is="coral-table-body"] tr[is="coral-table-row"]':"_onFocusFirstItem",'key:end tbody[is="coral-table-body"] tr[is="coral-table-row"]':"_onFocusLastItem",'key:shift+pageup tbody[is="coral-table-body"] tr[is="coral-table-row"]':"_onSelectPreviousItem",'key:shift+pagedown tbody[is="coral-table-body"] tr[is="coral-table-row"]':"_onSelectNextItem",'key:shift+left tbody[is="coral-table-body"] tr[is="coral-table-row"]':"_onSelectPreviousItem",'key:shift+right tbody[is="coral-table-body"] tr[is="coral-table-row"]':"_onSelectNextItem",'key:shift+up tbody[is="coral-table-body"] tr[is="coral-table-row"]':"_onSelectPreviousItem",'key:shift+down tbody[is="coral-table-body"] tr[is="coral-table-row"]':"_onSelectNextItem","coral-table-row:_multiplechanged":"_onRowMultipleChanged","coral-table-row:_beforeselectedchanged":"_onBeforeRowSelectionChanged","coral-table-row:_selectedchanged":"_onRowSelectionChanged","coral-table-row:_lockedchanged":"_onRowLockedChanged","coral-table-row:_change":"_onRowChange","coral-table-row:_contentchanged":"_onRowContentChanged","coral-table-headercell:_contentchanged":"_resetLayout","coral-table-head:_contentchanged":"_onHeadContentChanged","coral-table-body:_contentchanged":"_onBodyContentChanged","coral-table-body:_empty":"_onBodyEmpty","coral-table-column:_fixedwidthchanged":"_resetLayout","coral-table-column:_fixedwidthsync":"_onFixedWidthSync","coral-table-column:_orderablesync":"_onColumnOrderableSync","coral-table-column:_sortablesync":"_onColumnSortableSync","coral-table-column:_sortabledirectionsync":"_onColumnSortableDirectionSync","coral-table-column:_hiddensync":"_onColumnHiddenSync","coral-table-column:_beforecolumnsort":"_onBeforeColumnSort","coral-table-column:_sort":"_onColumnSort","coral-table-head:_stickysync":"_onHeadStickySync"},properties:{head:Coral.property.contentZone({tagName:"thead",handle:"head",insert:function(e){this._elements.table.tHead=e}}),body:Coral.property.contentZone({tagName:"tbody",handle:"body",defaultContentZone:!0,insert:function(e){this._elements.table.appendChild(e)}}),foot:Coral.property.contentZone({tagName:"tfoot",handle:"foot",insert:function(e){this._elements.table.tFoot=e}}),columns:Coral.property.contentZone({tagName:"colgroup",handle:"columnGroup",insert:function(e){this._elements.table.appendChild(e)}}),variant:{default:i.DEFAULT,validate:[Coral.validate.valueMustChange,Coral.validate.enumeration(i)],sync:function(){this.classList.remove.apply(this.classList,o),this.classList.add(n+"--"+this.variant)}},selectable:{default:!1,reflectAttribute:!0,transform:Coral.transform.boolean,attributeTransform:Coral.transform.booleanAttr,sync:function(){var e=this._getRows(["body"]);this.selectable?e.forEach((function(e){e._toggleSelectable(!0)})):(e.forEach((function(e){e._toggleSelectable(!1)})),this.trigger("coral-table:change",{selection:[],oldSelection:this._oldSelection}),this._oldSelection=[],this._lastSelectedItems.items=[]),this._toggleFocusable()}},orderable:{default:!1,reflectAttribute:!0,transform:Coral.transform.boolean,attributeTransform:Coral.transform.booleanAttr,sync:function(){this._getRows(["body"]).forEach(function(e){e._toggleOrderable(this.orderable)}.bind(this)),this._toggleFocusable()}},multiple:{default:!1,reflectAttribute:!0,transform:Coral.transform.boolean,attributeTransform:Coral.transform.booleanAttr,sync:function(){if(this._elements.body&&this._elements.table.setAttribute("aria-multiselectable",this.multiple),!this.multiple){var e=this.selectedItems;if(e.length>1){e.forEach((function(t,i){t.set("selected",i===e.length-1,!0)}));var t=this.selectedItems;t.length?this._setSelectAllHandleState("indeterminate"):this._setSelectAllHandleState("unchecked"),this.trigger("coral-table:change",{selection:t,oldSelection:e}),this._oldSelection=t,this._lastSelectedItems.items=t}}}},selectedItems:{get:function(){return this._getRows(["body"]).filter((function(e){return e.selected}))},set:function(){}},selectedItem:{get:function(){var e=this.selectedItems;return e.length?e[0]:null},set:function(){}},items:{get:function(){return this._items||(this._items=new c(this)),this._items},set:function(){}},lockable:{default:!1,reflectAttribute:!0,transform:Coral.transform.boolean,attributeTransform:Coral.transform.booleanAttr,sync:function(){this._getRows(["body"]).forEach(function(e){e._toggleLockable(this.lockable)}.bind(this)),this._toggleFocusable()}},labelled:{reflectAttribute:!0,transform:Coral.transform.string,attributeTransform:Coral.transform.string,set:function(e){e?this._elements.table.setAttribute("aria-label",e):this._elements.table.removeAttribute("aria-label")}},labelledby:{reflectAttribute:!0,transform:Coral.transform.string,attributeTransform:Coral.transform.string,set:function(e){e?this._elements.table.setAttribute("aria-labelledby",e):this._elements.table.removeAttribute("aria-labelledby")}}},_onSelectAll:function(e){if(this.selectable){var t=this._getRows(["body"]);if(t.length)if(this.multiple){var i=e.target.checked;t.forEach((function(e){e.set("selected",i,!0)})),t=i?t:[],this._setSelectAllHandleState(i?"checked":"unchecked"),this.trigger("coral-table:change",{selection:t,oldSelection:this._oldSelection}),this._oldSelection=t,this._lastSelectedItems.items=t}else{var n=t[t.length-1];n.selected=!n.selected}}},_triggerChangeEvent:function(){if(!this._preventTriggeringEvents){var e=this.selectedItems;this.trigger("coral-table:change",{oldSelection:this._oldSelection,selection:e}),this._oldSelection=e}},_onRowOrder:function(t){var i=this,n=t.target.closest('tr[is="coral-table-row"]');if(n&&i.orderable){var o=i._elements.head,a=i._elements.body,r=o&&o.sticky,s=n.getAttribute("style"),l=e(n),c=n.nextElementSibling,d=new Coral.DragAction(n),u=i.items.getAll(),h=i.getBoundingClientRect(),p=n.getBoundingClientRect();n===u[0]?i.classList.add("is-draggedFirstItem"):n===u[u.length-1]&&i.classList.add("is-draggedLastItem"),d.axis="vertical",d.scroll=!1,d.handle=n.querySelector("[coral-table-roworder]");var m=n.cloneNode(!0);m.classList.add(m._className+"--placeholder"),n.style.top=p.top-h.top+"px",i._preventTriggeringEvents=!0,a.insertBefore(m,n.nextElementSibling),Coral.commons.nextFrame((function(){i._preventTriggeringEvents=!1}));var f={placeholder:m,index:l,oldBefore:c,style:{row:s}};r&&(f.sticky=r,f.tableTop=h.top,f.tableSize=h.height,f.headSize=parseFloat(i._elements.container.style.marginTop),f.dragElementSize=p.height),n.dragAction._dragData=f}},_isTableSticky:function(){var e=this._elements.head;return e&&e.sticky},_getActiveHeader:function(e){return!0===this._isTableSticky()?e._elements.content:e},_onHeaderCellSort:function(e){var t,i=e.matchedTarget;if(!i._isDragging&&((t=!0===this._isTableSticky()&&"click"!==e.type?this._getColumn(i.parentNode):this._getColumn(i))&&t.sortable)){e.preventDefault();var n=this._elements.liveRegion;n&&n.setAttribute("aria-live","polite"),t._sort(),i.focus()}},_onHeaderCellDragStart:function(i){var n=i.matchedTarget,o=i.detail.dragElement,a=n===o?'th[is="coral-table-headercell"]':'th[is="coral-table-headercell"] coral-table-headercell-content',r=this.getBoundingClientRect();o.dragAction._dragData={draggedColumnIndex:e(n),tableLeft:r.left,tableSize:r.width,dragElementSize:n.getBoundingClientRect().width,tableScrollWidth:this._elements.container.scrollWidth},t(n,a,"prevAll").forEach((function(e){e.classList.add("is-before")})),t(n,a,"nextAll").forEach((function(e){e.classList.add("is-after")}))},_onHeaderCellDrag:function(i){var n=this._elements.container,o=i.matchedTarget,a=i.detail.dragElement,r=a.dragAction._dragData,s=o.parentElement,l=o===a,c=n.scrollLeft,d=document.body.scrollLeft;o._isDragging=!0;var u=a.getBoundingClientRect().left-r.tableLeft,h=r.tableSize-r.dragElementSize;u<0?n.scrollLeft-=10:u>h&&c+r.tableSize<r.tableScrollWidth&&(n.scrollLeft+=10),s._getCells(["headerCells"]).forEach((function(n){var a=l?n:n.content;if(!a.classList.contains("is-dragging")){var r=a.getBoundingClientRect().left+d,s=i.detail.pageX<r+a.offsetWidth/3;a.classList.toggle("is-after",s),a.classList.toggle("is-before",!s);var u=e(n),h=e(o);if(a.classList.contains("is-after"))if(u<h){var p=window.getComputedStyle(a),m=parseFloat(p.paddingLeft)+parseFloat(p.paddingRight);if(l){var f=parseFloat(p.width);a.style.left=f+m+"px"}else{var g=t(n,'th[is="coral-table-headercell"]',"next").getBoundingClientRect().left+d;a.style.left=g-m+c+"px"}}else a.style.left="";if(a.classList.contains("is-before"))if(u>h){var v=t(n,'th[is="coral-table-headercell"]',"prev"),b=window.getComputedStyle(v),_=parseFloat(b.paddingLeft)+parseFloat(b.paddingRight);if(l){var C=parseFloat(b.width);a.style.left=-(C+_)+"px"}else{var y=v.getBoundingClientRect().left+d;a.style.left=y-_+c+"px"}}else a.style.left=""}}))},_onHeaderCellDragEnd:function(t){var i=this,n=t.matchedTarget,o=t.detail.dragElement,a=i.columns,r=o.dragAction._dragData,s=i._getColumn(n),l=i._getRows(["head"]),c=n===o,d=n.parentElement,u=function(e){var t=[];return i._getRows(["body","foot"]).forEach((function(i){var n=i._getCellByIndex(e);n&&t.push(n)})),t},h=u(e(n)),p=null,m=null;if(c?(p=d.querySelector('th[is="coral-table-headercell"].is-after'),m=(m=d.querySelectorAll('th[is="coral-table-headercell"].is-before')).length?m[m.length-1]:null):(p=(p=d.querySelector('th[is="coral-table-headercell"] > coral-table-headercell-content.is-after'))?p.parentNode:null,m=(m=d.querySelectorAll('th[is="coral-table-headercell"] > coral-table-headercell-content.is-before')).length?m[m.length-1].parentNode:null),!(p&&p.previousElementSibling===n||m&&m.nextElementSibling===n)){var f=p?i._getColumn(p):null,g=i.trigger("coral-table:beforecolumndrag",{column:s,before:f}),v=s.nextElementSibling;if(!g.defaultPrevented){if(p){var b=e(p),_=u(b);h.forEach((function(e,t){e.parentNode.insertBefore(e,_[t])}));var C=i._getColumns()[b];C&&s&&a.insertBefore(s,C),d.insertBefore(n,p)}if(m){var y=e(m),w=u(y);h.forEach((function(e,t){e.parentNode.insertBefore(e,w[t].nextElementSibling)}));var A=i._getColumns()[y];A&&s&&a.insertBefore(s,A.nextElementSibling),d.insertBefore(n,m.nextElementSibling)}if(r.draggedColumnIndex!==e(n)){var x=i._getColumns()[e(s)+1];i.trigger("coral-table:columndrag",{column:s,oldBefore:v,before:x||null})}}}l.forEach((function(e){e._getCells(["headerCells"]).forEach((function(e){(e=c?e:e.content).classList.remove("is-after"),e.classList.remove("is-before"),e.style.left=""}))})),i._resetLayout(),Coral.commons.nextFrame((function(){n._isDragging=void 0,i._toggleElementTabIndex(o,null,!0)}))},_onCellSelect:function(e){var t=e.target.closest('td[is="coral-table-cell"]');t&&(t.selected=!t.selected)},_onRowSelect:function(i){var n=i.target.closest('tr[is="coral-table-row"]');if(n&&(this.classList.remove("is-unselectable"),this.selectable&&(Coral.Keys.filterInputs(i)||!n.hasAttribute("coral-table-rowselect")))){if(i.keyCode===r&&i.preventDefault(),i.shiftKey){var o=this._lastSelectedItems.items[this._lastSelectedItems.items.length-1],a=this._lastSelectedItems.direction;if(!this.selectedItem){var s=this._elements.body._elements.rows;s.length&&((o=s[0]).selected=!0)}if(o&&e(n)!==e(o)){var l=e(n)<e(o),c=l?"prevUntil":"nextUntil";if(this._lastSelectedItems.direction=l?"up":"down",n.selected){var d=t(o,n,c);d.some((function(e){return!e.hasAttribute("selected")}))?(d.forEach((function(e){e.selected=!0})),t(n,'tr[is="coral-table-row"]:not([selected])',c).forEach((function(e){e.selected=!1}))):(d[l?"push":"unshift"](o),d.forEach((function(e){e.selected=!1})))}else{var u=t(o,'tr[is="coral-table-row"]:not([selected])',c);u[l?"push":"unshift"](o),(!l&&"up"===a||l&&"down"===a)&&u.forEach((function(e){e.selected=!1}));var h=u[l?0:u.length-1];h.selected=!0,t(h,n,c).forEach((function(e){e.selected=!0}))}}}else this._lastSelectedItems.direction=null;n.selected=!!i.shiftKey||!n.selected,this._focusItem(n,i.target===i.matchedTarget||i.target.tabIndex<0)}},_onRowLock:function(e){var t=this;if(t.lockable){var i=e.target.closest('tr[is="coral-table-row"]');i&&(e.preventDefault(),e.stopPropagation(),i.locked=!i.locked,Coral.commons.nextFrame((function(){t._focusItem(i,!0)})))}},_onRowDown:function(e){if(this.selectedItem&&e.shiftKey){this.classList.add("is-unselectable");var t=document.onselectstart;document.onselectstart=function(){return!1},Coral.commons.nextFrame((function(){document.onselectstart=t}))}},_onRowDragStart:function(e){var t=this._elements.body,i=e.detail.dragElement,n=i.dragAction._dragData;n.style.cells=[],i._getCells().forEach((function(e){n.style.cells.push(e.content.getAttribute("style")),e.content.style.width=window.getComputedStyle(e).width})),i.style.position="absolute",i.dragAction.dropZone=t.querySelectorAll('tr[is="coral-table-row"]:not(.is-dragging)'),i.classList.add("is-focused")},_onRowDrag:function(e){var t=this,i=t._elements.body,n=e.detail.dragElement,o=n.dragAction._dragData,a=i._elements.rows[0];if(n.getBoundingClientRect().top<=a.getBoundingClientRect().top&&(t._preventTriggeringEvents=!0,i.insertBefore(o.placeholder,a),Coral.commons.nextFrame((function(){t._preventTriggeringEvents=!1}))),o.sticky){var r=n.getBoundingClientRect().top-o.tableTop-o.headSize,s=o.tableSize-o.dragElementSize-o.headSize;Coral.commons.nextFrame((function(){r<0?t._elements.container.scrollTop-=10:r>s&&(t._elements.container.scrollTop+=10)}))}},_onRowDragOver:function(e){var t=this,i=t._elements.body,n=e.detail.dragElement,o=e.detail.dropElement,a=n.dragAction._dragData;n.getBoundingClientRect().top>=o.getBoundingClientRect().top&&(t._preventTriggeringEvents=!0,i.insertBefore(a.placeholder,o.nextElementSibling),Coral.commons.nextFrame((function(){t._preventTriggeringEvents=!1})))},_onRowDragEnd:function(e){var t=this,i=t._elements.body,n=e.detail.dragElement,o=n.dragAction._dragData,a=o.placeholder.nextElementSibling;if(t.classList.remove("is-draggedFirstItem"),t.classList.remove("is-draggedLastItem"),i.removeChild(o.placeholder),n.dragAction.destroy(),n.setAttribute("style",o.style.row),n._getCells().forEach((function(e,t){e.content.setAttribute("style",o.style.cells[t])})),!t.trigger("coral-table:beforeroworder",{row:n,before:a}).defaultPrevented){var r=t._getRows(["body"]).filter((function(e){return e!==n}));o.index!==r.indexOf(o.placeholder)&&(t._preventTriggeringEvents=!0,i.insertBefore(n,a),Coral.commons.nextFrame((function(){t._preventTriggeringEvents=!1})),t.trigger("coral-table:roworder",{row:n,oldBefore:o.oldBefore,before:a}))}Coral.commons.nextFrame((function(){n.classList.remove("is-focused"),t._focusItem(n,!0)}))},_onRowMultipleChanged:function(e){e.stopImmediatePropagation();var t=this,i=e.target;if(!i.multiple){var n=i.selectedItems;t._preventTriggeringEvents=!0,n.forEach((function(e,t){e.selected=t===n.length-1})),Coral.commons.nextFrame((function(){t._preventTriggeringEvents=!1,t.trigger("coral-table:rowchange",{oldSelection:n,selection:i.selectedItems,row:i})}))}},_onBeforeRowSelectionChanged:function(e){e.stopImmediatePropagation();var t=this.selectedItem;this.multiple||!t||e.target.selected||(t.set("selected",!1,!0),this._removeLastSelectedItem(t))},_syncSelectAllHandle:function(e,t){t.length&&e.length===t.length?this._setSelectAllHandleState("checked"):e.length?this._setSelectAllHandleState("indeterminate"):this._setSelectAllHandleState("unchecked")},_setSelectAllHandleState:function(e){var t=this.querySelector("[coral-table-select]");t&&("CORAL-CHECKBOX"!==t.nodeName||t.labelled||(t.labelled=Coral.i18n.get("Select All")),"checked"===e?(void 0!==t.indeterminate&&(t.indeterminate=!1),void 0!==t.checked&&(t.checked=!0)):"unchecked"===e?(void 0!==t.indeterminate&&(t.indeterminate=!1),void 0!==t.checked&&(t.checked=!1)):"indeterminate"===e&&void 0!==t.indeterminate&&(t.indeterminate=!0))},_onRowSelectionChanged:function(e){e.stopImmediatePropagation(),this._triggerChangeEvent();var i=this,n=e.target;Coral.commons.nextFrame((function(){var e=i._elements.body;if(e&&e.contains(n)){var o=i.selectedItems,a=e._elements.rows;i._syncSelectAllHandle(o,a),i[n.selected?"_addLastSelectedItem":"_removeLastSelectedItem"](n);var r=i._lastSelectedItems.items[i._lastSelectedItems.items.length-1],s="down"===i._lastSelectedItems.direction;n.selected&&r&&r.selected&&t(r,'tr[is="coral-table-row"][selected]',s?"next":"prev")&&t(r,'tr[is="coral-table-row"]:not([selected])',s?"nextUntil":"prevUntil").forEach((function(e){i._addLastSelectedItem(e)}))}}))},_onRowLockedChanged:function(t){t.stopImmediatePropagation();var i=this,n=this._elements.body,o=t.target;if(n&&n.contains(o))if(o.locked)o._rowIndex=e(o),i._preventTriggeringEvents=!0,n.insertBefore(o,n._elements.rows[0]||null),Coral.commons.nextFrame((function(){i._preventTriggeringEvents=!1})),i.trigger("coral-table:rowlock",{row:o});else{if(o._rowIndex>=0){var a=n._elements.rows[o._rowIndex];a&&(i._preventTriggeringEvents=!0,n.insertBefore(o,a.nextElementSibling),Coral.commons.nextFrame((function(){i._preventTriggeringEvents=!1})))}i.trigger("coral-table:rowunlock",{row:o})}},_onHeadContentChanged:function(e){e.stopImmediatePropagation();for(var t=this._elements.head,i=e.detail.addedNodes,n=0;n<i.length;n++){var o=i[n];o instanceof Coral.Table.HeaderCell&&this._toggleStickyHeaderCell(o,t.sticky)}},_onBodyContentChanged:function(e){e.stopImmediatePropagation&&e.stopImmediatePropagation();for(var t=e.target,i=e.detail.addedNodes,n=e.detail.removedNodes,o=null,a=function(e){e.selected=e===o},r=!1,s=0;s<i.length;s++)if((o=i[s])instanceof Coral.Table.Row){r=!0,o._toggleSelectable(this.selectable),o._toggleOrderable(this.orderable),o._toggleLockable(this.lockable);var l=this.selectedItems;o.selected&&(!this.multiple&&l.length>1&&l.forEach(a),this._triggerChangeEvent(),o._syncProp("selected")),o.selectable&&o.trigger("coral-table-row:_contentchanged",{addedNodes:o._elements.cells,removedNodes:[]}),this._preventTriggeringEvents||this.trigger("coral-collection:add",{item:o}),this._toggleFocusable()}for(var c=0;c<n.length;c++){var d=n[c];if(d instanceof Coral.Table.Row){if(r=!0,"0"===d.getAttribute("tabindex")){var u=t._elements.rows[0];u&&this._focusItem(u)}d.selected&&this._triggerChangeEvent();var h=this._lastSelectedItems.items.indexOf(d);-1!==h&&(this._lastSelectedItems.items=this._lastSelectedItems.items.splice(h,1)),this._preventTriggeringEvents||this.trigger("coral-collection:remove",{item:d})}}if(r){var p=this.items.getAll();this._syncSelectAllHandle(this.selectedItems,p),this._toggleInteractivity(0===p.length)}},_onBodyEmpty:function(e){e.stopImmediatePropagation(),this._toggleInteractivity(!0)},_onRowChange:function(e){e.stopImmediatePropagation(),this._preventTriggeringEvents||this.trigger("coral-table:rowchange",{oldSelection:e.detail.oldSelection,selection:e.detail.selection,row:e.target})},_onRowContentChanged:function(e){e.stopImmediatePropagation();for(var t=e.target,i=e.detail.addedNodes,n=null,o=e.detail.removedNodes,a=function(e){e.selected=e===n},r=0;r<i.length;r++)if((n=i[r])instanceof Coral.Table.Cell){n._toggleSelectable(t.selectable);var s=t.selectedItems;n.selected&&(!t.multiple&&s.length>1&&s.forEach(a),t._triggerChangeEvent(),n._syncProp("selected")),this._preventTriggeringEvents||t.trigger("coral-collection:add",{item:n})}else n instanceof Coral.Table.HeaderCell&&this._setHeaderCellScope(n,t.parentNode);for(var l=0;l<o.length;l++){var c=o[l];c instanceof Coral.Table.Cell&&(c.selected&&t._triggerChangeEvent(),this._preventTriggeringEvents||t.trigger("coral-collection:remove",{item:c}))}},_toggleInteractivity:function(e){var t=this.querySelector("[coral-table-select]");t&&(t.disabled=e),this.classList.toggle("is-disabled",e)},_onFixedWidthSync:function(t){t.stopImmediatePropagation();var i=this._elements.head,n=t.target;if(i&&i._elements){var o=i._elements.rows,a=e(t.target);Array.prototype.forEach.call(o,(function(e){var t=e._getCellByIndex(a,["headerCell"]);t&&t[n.fixedWidth?"setAttribute":"removeAttribute"]("fixedwidth","")}))}},_onColumnOrderableSync:function(e){e.stopImmediatePropagation();var t=this._elements.head,i=e.target,n=this._getColumnHeaderCell(i);n&&(this._toggleDragActionHandle(n,t&&t.sticky),this._resetLayout())},_onColumnSortableSync:function(e){e.stopImmediatePropagation();var t=this._elements.head,i=e.target,n=this._getColumnHeaderCell(i);n&&(n[i.sortable?"setAttribute":"removeAttribute"]("sortable",""),this._toggleHeaderCellTabIndex(n,t&&t.sticky),this._resetLayout())},_onColumnSortableDirectionSync:function(e){e.stopImmediatePropagation();var t=e.target,i=Coral.Table.Column.sortableDirection;this.classList.toggle("is-sorted",this._isSorted());var n=this._getColumnHeaderCell(t);if(n){n.setAttribute("sortabledirection",t.sortableDirection),this._getActiveHeader(n).setAttribute("aria-sort",t.sortableDirection===i.DEFAULT?"none":t.sortableDirection);var o=this._elements.liveRegion;o&&(t.sortableDirection===i.DEFAULT?o.innerText="":n.content.textContent.trim().length&&(o.innerText=Coral.i18n.get("sorted by column {0} in "+t.sortableDirection+" order",n.content.textContent),setTimeout((function(){o.setAttribute("aria-live","off")}),2500)))}},_onColumnHiddenSync:function(e){e.stopImmediatePropagation(),this._syncHiddenColumn(e.target,!0)},_onBeforeColumnSort:function(e){e.stopImmediatePropagation();var t=e.target,i=e.detail.newSortableDirection;this.trigger("coral-table:beforecolumnsort",{column:t,direction:i}).defaultPrevented||(t.sortableDirection=i)},_onColumnSort:function(i){i.stopImmediatePropagation();var n=this,o=n._elements.body,a=i.target,r=e(a),s=n._getColumnHeaderCell(a),l=i.detail.onInitialization,c=i.detail.sortableDirection,d=i.detail.sortableType,u=n._getRows(["body"]),h=[];n&&(n._preventTriggeringEvents=!0),u.forEach((function(e,t){void 0===e._defaultRowIndex&&(e._defaultRowIndex=t);var i=e._getCellByIndex(r);i&&h.push(i)})),a.sortableDirection===c.ASCENDING?(t(a,'col[is="coral-table-column"]').forEach((function(e){e._preventSort=!0,e.sortableDirection=c.DEFAULT,e._preventSort=!1})),s&&t(s,'th[is="coral-table-headercell"]').forEach((function(e){e.setAttribute("sortabledirection",c.DEFAULT),n._getActiveHeader(e).setAttribute("aria-sort","none")})),h.sort((function(e,t){if(a.sortableType===d.ALPHANUMERIC){var i=e.value?e.value:e.textContent,n=t.value?t.value:t.textContent;return i.localeCompare(n)}return a.sortableType===d.NUMBER?parseFloat(e.value?e.value:e.textContent.replace(/\s+/g,"").replace(/,/g,"."))>parseFloat(t.value?t.value:t.textContent.replace(/\s+/g,"").replace(/,/g,"."))?1:-1:a.sortableType===d.DATE?(e.value?new Date(parseInt(e.value,10)):new Date(e.textContent))>(t.value?new Date(parseInt(t.value,10)):new Date(t.textContent))?1:-1:void 0})),a.sortableType!==d.CUSTOM&&(o&&h.forEach((function(e){var t=e.parentElement;t.locked||o.appendChild(t)})),n.trigger("coral-table:columnsort",{column:a})),u.forEach((function(e){e.dragAction&&e.dragAction.destroy()}))):a.sortableDirection===c.DESCENDING?(t(a,'col[is="coral-table-column"]').forEach((function(e){e._preventSort=!0,e.sortableDirection=c.DEFAULT,e._preventSort=!1})),s&&t(s,'th[is="coral-table-headercell"]').forEach((function(e){e.setAttribute("sortabledirection",c.DEFAULT),!0===n._isTableSticky()?e._elements.content.setAttribute("aria-sort","none"):e.setAttribute("aria-sort","none")})),h.sort((function(e,t){if(a.sortableType===d.ALPHANUMERIC){var i=e.value?e.value:e.textContent;return(t.value?t.value:t.textContent).localeCompare(i)}return a.sortableType===d.NUMBER?parseFloat(e.value?e.value:e.textContent.replace(/\s+/g,"").replace(/,/g,"."))<parseFloat(t.value?t.value:t.textContent.replace(/\s+/g,"").replace(/,/g,"."))?1:-1:a.sortableType===d.DATE?(e.value?new Date(parseInt(e.value,10)):new Date(e.textContent))<(t.value?new Date(parseInt(t.value,10)):new Date(t.textContent))?1:-1:void 0})),a.sortableType!==d.CUSTOM&&(o&&h.forEach((function(e){var t=e.parentElement;t.locked||o.appendChild(t)})),n.trigger("coral-table:columnsort",{column:a})),u.forEach((function(e){e.dragAction&&e.dragAction.destroy()}))):a.sortableDirection!==c.DEFAULT||l||a.sortableType!==d.CUSTOM&&(u.sort((function(e,t){return e._defaultRowIndex>t._defaultRowIndex?1:-1})),u.forEach((function(e){o&&!e.locked&&o.appendChild(e)})),n.trigger("coral-table:columnsort",{column:a})),Coral.commons.nextFrame((function(){n._preventTriggeringEvents=!1}))},_onHeadStickySync:function(e){e.stopImmediatePropagation();var t=this,i=e.target;i.classList.toggle("is-hidden",i.sticky),Coral.commons.nextFrame((function(){t._resetContainerLayout(i.sticky?i.getBoundingClientRect().height+"px":null,t._elements.container.style.height),t._getRows(["head"]).forEach((function(e){e._getCells(["headerCells"]).forEach((function(e){t._toggleStickyHeaderCell(e,i.sticky)}))})),t.classList.toggle(n+"--sticky",i.sticky),t._preventResetLayout=!1,t._resetLayout()}))},_getColumnHeaderCell:function(t){var i=null,n=this._elements.head;if(n&&n._elements){var o=n._elements.rows,a=e(t);o.length&&(i=o[o.length-1]._getCellByIndex(a,["headerCell"]))}return i},_getColumn:function(t){return this._getColumns()[e(t)]||null},_toggleStickyHeaderCell:function(e,t){this._layoutStickyCell(e,t),this._toggleDragActionHandle(e,t),this._toggleHeaderCellTabIndex(e,t)},_layoutStickyCell:function(e,t){if(t){var i=window.getComputedStyle(e);if(!e.style.minWidth){var n=!1;if(e.textContent.trim().length)n=!0;else for(var o=e.content.children,a=0;a<o.length&&!n;a++)o[0].offsetParent&&(n=!0);if(n){var r=e.content.getBoundingClientRect().width;r>0&&(e.style.minWidth=r+"px")}}var s=parseFloat(i.width),l=parseFloat(i.paddingLeft)+parseFloat(i.paddingRight),c=parseFloat(i.borderRightWidth);e.content.style.width=s+l+c+"px"}else e.style.minWidth="",e.content.style.width="",e.content.style.height="",e.content.style.top="",e.content.style.marginLeft="",e.content.style.paddingTop=""},_toggleDragActionHandle:function(e,t){var i=this._getColumn(e);if(e.dragAction&&e.dragAction.destroy(),e.content.dragAction&&e.content.dragAction.destroy(),i&&i.orderable){var n=new Coral.DragAction(t?e.content:e);n.axis="horizontal",n.scroll=!1,e.setAttribute("orderable","")}else e.removeAttribute("orderable")},_toggleFocusable:function(){var e=this._getRows(["body"])[0];if(e){var t=this._getFocusableItem();this.selectable||this.lockable||this.orderable?t||this._toggleElementTabIndex(e):t&&t.removeAttribute("tabindex")}},_toggleElementTabIndex:function(e,t,i){t&&t.removeAttribute("tabindex"),e.setAttribute("tabindex","0"),i&&e.focus()},_toggleHeaderCellTabIndex:function(e,t){var i=this._getColumn(e),n=i&&(i.sortable||i.orderable);e[n&&!t?"setAttribute":"removeAttribute"]("tabindex","0"),e.content[n&&t?"setAttribute":"removeAttribute"]("tabindex","0")},_syncHiddenColumn:function(t,i){var n=e(t);-1!==n&&(this._getRows().forEach((function(e){var i=e._getCellByIndex(n);i&&(i.hidden=t.hidden)})),i&&this._resetLayout())},_isSorted:function(e){return this._getColumns().some((function(e){return e.sortableDirection!==Coral.Table.Column.sortableDirection.DEFAULT}))},_focusEdgeItem:function(e,t){var i=this._elements.body._elements.rows;if(i.length){e.preventDefault();var n=this._getFocusableItem();n&&n.removeAttribute("tabindex"),(n=i[t?0:i.length-1]).setAttribute("tabindex","0"),n.focus()}},_focusSiblingItem:function(e,i){var n=this._getFocusableItem();if(n){e.preventDefault();var o=t(n,'tr[is="coral-table-row"]',i?"next":"prev");o&&(n.removeAttribute("tabindex"),o.setAttribute("tabindex","0"),o.focus())}},_selectSiblingItem:function(e){if(this.selectable&&this.multiple){var i=this.selectedItems,n=this._lastSelectedItems.items[this._lastSelectedItems.items.length-1];if(i.length){if(e&&n.matches(":last-of-type")||!e&&n.matches(":first-of-type"))return;var o=t(n,'tr[is="coral-table-row"]',e?"next":"prev");o.hasAttribute("selected")||(n=o),this._lastSelectedItems.direction=e?"down":"up",n.selected=!n.selected}else if(this._elements.body&&this._elements.body._elements.rows.length){var a=this._getFocusableItem();this._lastSelectedItems.direction=e?"down":"up",a.selected=!0}}Coral.commons.nextFrame(function(){var e=this._lastSelectedItems.items[this._lastSelectedItems.items.length-1];e&&this._focusItem(e,!0)}.bind(this))},_getFocusableItem:function(){return this._elements.body&&this._elements.body.querySelector('tr[is="coral-table-row"][tabindex="0"]')},_getFocusableHeaderCell:function(){return this._elements.head&&this._elements.head.querySelector('th[is="coral-table-headercell"][tabindex="0"], coral-table-headercell-label[tabindex="0"]')},_addLastSelectedItem:function(e){-1===this._lastSelectedItems.items.indexOf(e)?this._lastSelectedItems.items.push(e):(this._removeLastSelectedItem(e),this._addLastSelectedItem(e))},_removeLastSelectedItem:function(e){this._lastSelectedItems.items.splice(this._lastSelectedItems.items.indexOf(e),1)},_focusItem:function(e,t){this._toggleElementTabIndex(e,this._getFocusableItem(),t)},_onFocusFirstItem:function(e){this._focusEdgeItem(e,!0)},_onFocusLastItem:function(e){this._focusEdgeItem(e,!1)},_onFocusNextItem:function(e){this._focusSiblingItem(e,!0)},_onFocusPreviousItem:function(e){this._focusSiblingItem(e,!1)},_onSelectNextItem:function(e){this._selectSiblingItem(!0)},_onSelectPreviousItem:function(e){this._selectSiblingItem(!1)},_setContentZone:function(e,t,i,n,o){if(!(e instanceof i))throw new Error("DOMException: Failed to set the '"+t+"' property on '"+this.toString()+"': The provided value is not of type '"+n+"'.");o.call(this,e)},_render:function(){var e=document.createDocumentFragment();for(var t in e.appendChild(Coral.templates.Table.base.call(this._elements)),this._properties){var i=this._properties[t];if(i.contentZone){var n=i.tagName,o="colgroup"!==n?n+'[is="coral-table-'+n.slice(1)+'"]':"colgroup",a=this._elements[i.handle]=this.querySelector(o);if("body"===t&&!a){a=this._elements.body=document.createElement("tbody","coral-table-body");var r=this.querySelector("tbody");if(r){for(;r.firstChild;)a.appendChild(r.firstChild);r.parentNode.removeChild(r)}}a&&i.insert.call(this,a)}}this.appendChild(e)},resetLayout:function(e){!0===e?(this._doResetLayout(),this._preventResetLayout=!1):this._resetLayout()},_doResetLayout:function(){this._resizeStickyHead(),this._resizeContainer()},_resetLayout:function(){var e=this;e._preventResetLayout||(null!==e._timeout&&window.clearTimeout(e._timeout),e._timeout=window.setTimeout((function(){e._timeout=null,e._doResetLayout()}),e._wait))},_resizeStickyHead:function(){var e=this,t=e._elements.head;t&&t.sticky&&e._getRows(["head"]).forEach((function(t){t._getCells(["headerCells"]).forEach((function(t){e._layoutStickyCell(t,!0)}))}))},_resizeContainer:function(){var e=this,t=e._elements.head;if(t&&t.sticky){var i=0,n=0;this._getRows(["head"]).forEach((function(t,o){var a=t._getCells(["headerCells"]);if(a.length){var r=window.getComputedStyle(a[0].content),s=0,l=parseFloat(r.minHeight),c=parseFloat(r.borderTopWidth);a.forEach((function(e){e.content.style.height="",s=Math.max(s,e.content.getBoundingClientRect().height)})),i+=s,a.forEach((function(t){if(s-c!==l&&(t.content.style.height=s+"px"),t.content.textContent.trim().length){var i=t.content.getBoundingClientRect().height,a=document.createElement("span");for(e._preventResetLayout=!0;t.content.firstChild;)a.appendChild(t.content.firstChild);t.content.appendChild(a);for(var r=(i-a.getBoundingClientRect().height)/2;a.firstChild;)t.content.appendChild(a.firstChild);t.content.removeChild(a),t.content.style.paddingTop=r+"px",Coral.commons.nextFrame((function(){e._preventResetLayout=!1}))}n=n||s,t.content.style.top=(o>0?n*o+c*(o-1):0)+"px"}))}}));var o=window.getComputedStyle(this._elements.container),a=parseFloat(o.borderTopWidth),r=parseFloat(o.borderBottomWidth),s=i+"px",l="calc(100% - "+(i+(a+r))+"px)";this._resetContainerLayout(s,l),t.classList.remove("is-hidden")}else this._resetContainerLayout()},_resetContainerLayout:function(e,t){this._elements.container.style.marginTop=e||"",this._elements.container.style.height=t||""},_resetHiddenColumns:function(){var e=this;e._getColumns().forEach((function(t){e._syncHiddenColumn(t)}))},_onScroll:function(e){var t=this,i=t._elements.container.scrollLeft;if(t._lastScrollLeft!==i){t._lastScrollLeft=i;var n=t._elements.head;n&&n.sticky&&(n.style.margin="1px",Coral.commons.nextFrame((function(){if(n.style.margin="",!t._preventLayoutStickyCellOnScroll){var e=n.querySelector('tr[is="coral-table-row"] th[is="coral-table-headercell"]');e&&(t._layoutStickyCellOnScroll||1===e.content.offsetLeft?(t._layoutStickyCellOnScroll=!0,t._getRows(["head"]).forEach((function(e){e._getCells(["headerCells"]).forEach((function(e){var t=parseFloat(window.getComputedStyle(e).paddingLeft);e.content.style.marginLeft="-"+(i+t)+"px"}))}))):t._preventLayoutStickyCellOnScroll=!0)}})))}},_setHeaderCellScope:function(e,t){var i="THEAD"===t.nodeName||"TFOOT"===t.nodeName?"col":"row";"col"===i?(!0===this._isTableSticky()&&e.setAttribute("role","presentation"),this._getActiveHeader(e).setAttribute("role","columnheader")):e.setAttribute("role","rowheader"),e.setAttribute("scope",i)},_getRows:function(e){var t=[];return(e=e||["head","body","foot"]).forEach(function(e){var i=this._elements[e];i&&i._elements&&t.push.apply(t,Array.prototype.slice.call(i._elements.rows))}.bind(this)),t},_getColumns:function(){return Array.prototype.slice.call(this.querySelectorAll('col[is="coral-table-column"]'))},_initialize:function(){var e=this;e.setAttribute("role","presentation"),e._oldSelection=[],e._lastSelectedItems={items:[],direction:null},e._timeout=null,e._wait=50,Coral.commons.addResizeListener(e,e._resetLayout),e._observer=new MutationObserver((function(t){var i=!1;t.forEach((function(t){for(var n=0;n<t.addedNodes.length;n++){var o=t.addedNodes[n];window.CustomElements.upgrade(o),o instanceof Coral.Table.Head&&o.trigger("coral-table-head:_contentchanged",{addedNodes:o._elements.rows,removedNodes:[]}),o instanceof Coral.Table.Body&&(e._syncProp("multiple"),o.trigger("coral-table-body:_contentchanged",{addedNodes:o._elements.rows,removedNodes:[]})),i=i||o instanceof Coral.Table.HeaderCell||o instanceof Coral.Table.Cell||o instanceof Coral.Table.Row||o instanceof Coral.Table.Head||o instanceof Coral.Table.Body||o instanceof Coral.Table.Foot}for(var a=0;a<t.removedNodes.length;a++){var r=t.removedNodes[a];r instanceof Coral.Table.Body&&e._onBodyContentChanged({target:r,detail:{addedNodes:[],removedNodes:r._elements.rows}})}})),i&&e._resetHiddenColumns(),e._resetLayout()})),e._observer.observe(e,{childList:!0,subtree:!0}),e._toggleInteractivity(!e._elements.body),Coral.commons.ready(e,(function(){if(e.selectable){var t=e.selectedItems,i=e.items.getAll();e._syncSelectAllHandle(t,i),t.length&&(e._oldSelection=t,e._lastSelectedItems.items=t)}e._getRows().forEach((function(t){t._getCells(["headerCells"]).forEach((function(i){e._setHeaderCellScope(i,t.parentNode)}))}))}));var t=e.querySelector("coral-table-sort-description");t||((t=document.createElement("coral-table-sort-description")).className="u-coral-screenReaderOnly",t.setAttribute("aria-live","off"),t.innerText="",t.id=Coral.commons.getUID(),this._elements.table.setAttribute("aria-describedby",t.id),e.appendChild(t)),this._elements.liveRegion=t}}),Coral.Table.variant=i,Coral.Table.divider={NONE:"none",ROW:"row",COLUMN:"column",CELL:"cell"}}(),function(){"use strict";var e=[];for(var t in Coral.Table.divider)e.push("coral-Table-divider--"+Coral.Table.divider[t]);var i={divider:{default:Coral.Table.divider.ROW,reflectAttribute:!0,validate:[Coral.validate.valueMustChange,Coral.validate.enumeration(Coral.Table.divider)],sync:function(){this.classList.remove.apply(this.classList,e),this.classList.add("coral-Table-divider--"+this.divider)}}},n={_render:function(){var e=this;Object.defineProperty(e._elements,"rows",{get:function(){return e.querySelectorAll('tr[is="coral-table-row"]')}})}};Coral.mixin.tableSection=function(e,t){Coral.commons.augment(e,n,(function(e,t,i){return Coral.commons.callAll(t,e)})),Coral.register.augmentProperties(t.properties,i)}}(),function(){"use strict";Coral.register({name:"Table.Head",tagName:"coral-table-head",className:"coral-Table-head",baseTagName:"thead",extend:HTMLTableSectionElement,mixins:[Coral.mixin.tableSection],properties:{sticky:{default:!1,reflectAttribute:!0,transform:Coral.transform.boolean,attributeTransform:Coral.transform.booleanAttr,sync:function(){this.trigger("coral-table-head:_stickysync")}}},_initialize:function(){var e=this;e._observer=new MutationObserver((function(t){t.forEach((function(t){e.trigger("coral-table-head:_contentchanged",{addedNodes:t.addedNodes,removedNodes:t.removedNodes})}))})),e._observer.observe(e,{childList:!0,subtree:!0})}})}(),function(){"use strict";Coral.register({name:"Table.Body",tagName:"coral-table-body",className:"coral-Table-body",baseTagName:"tbody",extend:HTMLTableSectionElement,mixins:[Coral.mixin.tableSection],_initialize:function(){var e=this;e._observer=new MutationObserver((function(t){t.forEach((function(t){e.trigger("coral-table-body:_contentchanged",{addedNodes:t.addedNodes,removedNodes:t.removedNodes})}))})),e._observer.observe(e,{childList:!0,subtree:!0}),0===e._elements.rows.length&&e.trigger("coral-table-body:_empty")}})}(),function(){"use strict";Coral.register({name:"Table.Foot",tagName:"coral-table-foot",className:"coral-Table-foot",baseTagName:"tfoot",extend:HTMLTableSectionElement,mixins:[Coral.mixin.tableSection]})}(),function(){"use strict";var e=!!navigator.platform.match(/(Mac|iPhone|iPod|iPad)/i);Coral.register({name:"Table.Row",tagName:"coral-table-row",className:"coral-Table-row",baseTagName:"tr",extend:HTMLTableRowElement,events:{"capture:focus":"_onFocusIn","capture:blur":"_onFocusOut","click coral-table-row-selectcheckbox":"_onClickRowSelectCheckbox","key:enter coral-table-row-selectcheckbox":"_onClickRowSelectCheckbox","key:space coral-table-row-selectcheckbox":"_onClickRowSelectCheckbox","coral-table-cell:_beforeselectedchanged":"_onBeforeCellSelectionChanged","coral-table-cell:_selectedchanged":"_onCellSelectionChanged"},properties:{locked:{default:!1,reflectAttribute:!0,transform:Coral.transform.boolean,attributeTransform:Coral.transform.booleanAttr,trigger:"coral-table-row:_lockedchanged"},selected:{default:!1,reflectAttribute:!0,transform:Coral.transform.boolean,attributeTransform:Coral.transform.booleanAttr,triggerBefore:"coral-table-row:_beforeselectedchanged",trigger:"coral-table-row:_selectedchanged",sync:function(){this._syncAriaLabelledby(),this._syncSelectHandle(),this._syncAriaSelectedState()}},selectable:{default:!1,reflectAttribute:!0,transform:Coral.transform.boolean,attributeTransform:Coral.transform.booleanAttr,sync:function(){this._getCells(["cells"]).forEach(function(e){e._toggleSelectable(this.selectable)}.bind(this))}},multiple:{default:!1,reflectAttribute:!0,transform:Coral.transform.boolean,attributeTransform:Coral.transform.booleanAttr,trigger:"coral-table-row:_multiplechanged"},selectedItems:{get:function(){return this._getCells(["cells"]).filter((function(e){return e.selected}))},set:function(){}},selectedItem:{get:function(){var e=this.selectedItems;return e.length?e[0]:null},set:function(){}},items:{get:function(){return this._items||(this._items=new Coral.Collection({host:this,itemBaseTagName:"td",itemTagName:"coral-table-cell"})),this._items},set:function(){}}},_triggerChangeEvent:function(){var e=this.selectedItems;this.trigger("coral-table-row:_change",{oldSelection:this._oldSelection,selection:e}),this._oldSelection=e},_onCellSelectionChanged:function(e){e.stopImmediatePropagation(),this._triggerChangeEvent()},_onBeforeCellSelectionChanged:function(e){e.stopImmediatePropagation();var t=this.selectedItem;this.multiple||!t||e.target.selected||t.set("selected",!1,!0)},_syncAriaSelectedState:function(){this.classList.toggle("is-selected",this.selected);var t=this.querySelector("[coral-table-rowselect]");if(this.hasAttribute("coral-table-rowselect")||t){var i=this.querySelector("[coral-table-roworder]"),n=this.querySelector("[coral-table-rowlock]"),o=this.querySelector("[coral-row-remove]"),a=this._elements.rowSelectCheckbox,r=this._elements.accessibilityState,s=this;this.setAttribute("aria-selected",this.selected),(this._ariaLiveOnTimeout||this._ariaLiveOffTimeout)&&(clearTimeout(this._ariaLiveOnTimeout),clearTimeout(this._ariaLiveOffTimeout)),r&&(l(),this._ariaLiveOnTimeout=setTimeout((function(){(s===document.activeElement||s.contains(document.activeElement))&&(t&&"CORAL-CHECKBOX"===t.nodeName&&t.setAttribute("aria-hidden","true"),i&&i.setAttribute("aria-hidden","true"),n&&n.setAttribute("aria-hidden","true"),o&&o.setAttribute("aria-hidden","true"),a&&a.setAttribute("aria-hidden","true"),e&&!window.cvox&&(r.removeAttribute("aria-hidden"),s.setAttribute("aria-live","assertive"),s.setAttribute("aria-atomic","true")),s._ariaLiveOnTimeout=setTimeout((function(){r.innerHTML=Coral.i18n.get(s.selected?", checked":", unchecked"),s._ariaLiveOffTimeout=setTimeout(l,250)}),20))}),20),s===document.activeElement||s.contains(document.activeElement)||(r.innerHTML=Coral.i18n.get(s.selected?", checked":"")))}else this.removeAttribute("aria-selected");function l(){s.removeAttribute("aria-live"),s.removeAttribute("aria-atomic"),s.removeAttribute("aria-relevant"),t&&"CORAL-CHECKBOX"===t.nodeName&&t.removeAttribute("aria-hidden"),i&&i.removeAttribute("aria-hidden"),n&&n.removeAttribute("aria-hidden"),o&&o.removeAttribute("aria-hidden"),a&&a.removeAttribute("aria-hidden"),r&&(r.setAttribute("aria-hidden","true"),s.selected||(r.innerHTML=""))}},_onFocusIn:function(e){var t=this._elements.rowSelectCheckbox;!t||e.target!==this&&e.target!==t||(this.classList.add("is-focused"),t.style.outline=e.target===t?"1px solid rgb(50,110,200)":"none")},_onFocusOut:function(e){var t=this._elements.rowSelectCheckbox;!t||e.target!==this&&e.target!==t||(this.classList.remove("is-focused"),t.style.outline="none")},_onClickRowSelectCheckbox:function(e){e.preventDefault(),e.stopImmediatePropagation(),(this.querySelector("[coral-table-rowselect]")||this).click(),this._elements.rowSelectCheckbox.focus()},_syncSelectHandle:function(){var e=this.hasAttribute("coral-table-rowselect")?this:this.querySelector("[coral-table-rowselect]");if(e)if(void 0!==e.indeterminate&&(e.indeterminate=!1),void 0!==e.checked&&(e.checked=this.selected),"CORAL-CHECKBOX"===e.nodeName){if(e.labelled||(e.labelled=Coral.i18n.get("Select")),this.hasAttribute("aria-labelledby")){var t=this,i=this.getAttribute("aria-labelledby").split(" ").filter((function(i){return e._elements.input.id!==i&&t._elements.accessibilityState.id!==i})).join(" ");e.labelledBy=e._elements.input.id+" "+i}}else void 0===e.checked&&this._syncRowSelectCheckbox()},_isLazyLoaded:function(){var e=this._getCells();return 1===e.length&&0===e[0].children.length&&""===e[0].textContent.trim()},_toggleSelectable:function(e){this._isLazyLoaded()||(e?(this._setHandle("coral-table-rowselect"),this._syncRowSelectCheckbox(),this._syncAriaSelectedState(),"-1"===this.getAttribute("tabindex")&&this.setAttribute("tabindex","0")):(this.set("selected",!1,!0),this._removeRowSelectCheckbox(),"0"===this.getAttribute("tabindex")&&this.setAttribute("tabindex","-1")),this._syncAriaLabelledby())},_toggleOrderable:function(e){e?this._setHandle("coral-table-roworder"):this.dragAction&&this.dragAction.destroy()},_toggleLockable:function(e){e&&this._setHandle("coral-table-rowlock")},_setHandle:function(e){this.querySelector("["+e+"]")||this.setAttribute(e,"")},_getCells:function(e){var t=[];return(e=e||["headerCells","cells"]).forEach(function(e){t.push.apply(t,Array.prototype.slice.call(this._elements[e]))}.bind(this)),t},_getCellByIndex:function(e,t){var i=[];return e++,-1!==(t=t||["headerCell","cell"]).indexOf("headerCell")&&i.push('th[is="coral-table-headercell"]:nth-child('+e+")"),-1!==t.indexOf("cell")&&i.push('td[is="coral-table-cell"]:nth-child('+e+")"),this.querySelector(i.join(", "))},_syncAriaLabelledby:function(){if(!this._isLazyLoaded())if(this.hasAttribute("coral-table-rowselect")||this.querySelector("[coral-table-rowselect]")){var e,t=this,i=this._getCells().filter((function(e){return e.id&&!(e.hasAttribute("coral-table-roworder")||e.querySelector("[coral-table-roworder]")||e.hasAttribute("coral-table-rowlock")||e.querySelector("[coral-table-rowlock]")||e.hasAttribute("coral-row-remove")||e.querySelector("[coral-row-remove]"))})),n=i.filter((function(e){return"rowheader"===e.getAttribute("role")||"TH"===e.tagName&&"row"===e.getAttribute("scope")})),o=i.map((function(i){var o=i.querySelector("[coral-table-rowselect]");if(o&&(e=i,o&&"CORAL-CHECKBOX"===o.nodeName)){if(t.selected)return;return o._elements.input&&o._elements.input.id}if(0===n.length||-1!==n.indexOf(i))return i.id}));!e&&i.length&&(e=i[i.length-1]),e&&e.appendChild(t._getAccessibilityState()),this._elements.accessibilityState&&o.push(this._elements.accessibilityState.id),this.setAttribute("aria-labelledby",o.join(" "))}else this._elements.accessibilityState&&this._elements.accessibilityState.parentNode&&(this.removeAttribute("aria-labelledby"),this._elements.accessibilityState.parentNode.removeChild(this._elements.accessibilityState),this._elements.accessibilityState=void 0)},_getAccessibilityState:function(){if(this._elements.accessibilityState)return this._elements.accessibilityState;var e=this.querySelector("coral-table-row-accessibilitystate")||new Coral.Table.Row.AccessibilityState;return e.classList.contains("u-coral-screenReaderOnly")||(e.classList.toggle("u-coral-screenReaderOnly"),e.setAttribute("aria-hidden","true")),e.id=e.id||Coral.commons.getUID(),this._elements.accessibilityState=e,this._elements.accessibilityState},_getRowSelectCheckbox:function(){if(this._elements.rowSelectCheckbox)return this._elements.rowSelectCheckbox;var e=this.querySelector("coral-table-row-selectcheckbox")||new Coral.Table.Row.SelectCheckbox;return e.setAttribute("role","checkbox"),e.setAttribute("aria-checked",this.selected),e.setAttribute("aria-label",Coral.i18n.get("Select")),e.style.position="absolute",e.style.inset="0px",e.style.outline="none",e.tabIndex=-1,e.id=e.id||Coral.commons.getUID(),this._elements.rowSelectCheckbox=e,this._elements.rowSelectCheckbox},_syncRowSelectCheckbox:function(){if(!this._isLazyLoaded())if(this.hasAttribute("coral-table-rowselect")||this.querySelector("[coral-table-rowselect]")){if(this.closest('[is="coral-table"][variant="list"][selectable]')){var e=this.hasAttribute("coral-table-rowselect")?this:this.querySelector("[coral-table-rowselect]");if(e&&void 0===e.indeterminate&&void 0===e.checked&&"CORAL-CHECKBOX"!==e.nodeName){var t,i=this._getRowSelectCheckbox();if(!i)return;if(i.setAttribute("aria-checked",this.selected),this.hasAttribute("aria-labelledby")){var n=this,o=this.getAttribute("aria-labelledby").split(" ").filter((function(e){return i.id!==e&&(!n._elements.accessibilityState||n._elements.accessibilityState.id!==e)})).join(" ");i.setAttribute("aria-labelledby",i.id+" "+o)}if(!i.parentNode)"TD"===e.nodeName?t=e:e===this&&(t=this.querySelector('td[is="coral-table-cell"]')),t&&t.insertBefore(i,t.firstChild)}}}else this._removeRowSelectCheckbox()},_removeRowSelectCheckbox:function(){var e=this._elements.rowSelectCheckbox;e&&e.parentNode&&(e.parentNode.removeChild(e),this._elements.rowSelectCheckbox=void 0)},_initialize:function(){var e=this;e.setAttribute("role","row"),e.id=e.id||Coral.commons.getUID(),e._oldSelection=[],e._observer=new MutationObserver((function(t){t.forEach((function(t){e.trigger("coral-table-row:_contentchanged",{addedNodes:t.addedNodes,removedNodes:t.removedNodes}),e._syncAriaLabelledby()}))})),e._observer.observe(e,{childList:!0})},_render:function(){var e=this;Object.defineProperty(e._elements,"headerCells",{get:function(){return e.querySelectorAll('th[is="coral-table-headercell"]')}}),Object.defineProperty(e._elements,"cells",{get:function(){return e.querySelectorAll('td[is="coral-table-cell"]')}}),e._syncAriaLabelledby()}}),Coral.Table.Row.AccessibilityState=function(){return document.createElement("coral-table-row-accessibilitystate")},Coral.Table.Row.SelectCheckbox=function(){return document.createElement("coral-table-row-selectcheckbox")}}(),function(){"use strict";Coral.register({name:"Table.Cell",tagName:"coral-table-cell",className:"coral-Table-cell",baseTagName:"td",extend:HTMLTableCellElement,properties:{content:{contentZone:!0,set:function(){},get:function(){return this}},selected:{default:!1,reflectAttribute:!0,transform:Coral.transform.boolean,attributeTransform:Coral.transform.booleanAttr,triggerBefore:"coral-table-cell:_beforeselectedchanged",trigger:"coral-table-cell:_selectedchanged",sync:function(){this._syncAriaSelectedState(),this._syncSelectHandle()}},value:{default:"",reflectAttribute:!0,transform:Coral.transform.string}},_setHandle:function(e){this.querySelector("["+e+"]")||this.setAttribute(e,"")},_toggleSelectable:function(e){e?this._setHandle("coral-table-cellselect"):(this.removeAttribute("coral-table-cellselect"),this.selected=!1),this._syncAriaSelectedState()},_syncAriaSelectedState:function(){this.classList.toggle("is-selected",this.selected),this.hasAttribute("coral-table-cellselect")||this.querySelector("[coral-table-cellselect]")?this.setAttribute("aria-selected",this.selected):this.removeAttribute("aria-selected")},_syncSelectHandle:function(){var e=this.querySelector("[coral-table-cellselect]");e&&(void 0!==e.indeterminate&&(e.indeterminate=!1),void 0!==e.checked&&(e.checked=this.selected))},_initialize:function(){this.id=this.id||Coral.commons.getUID()},_render:function(){this.hasAttribute("role")||"TH"===this.tagName||this.setAttribute("role","gridcell")}})}(),function(){"use strict";Coral.register({name:"Table.HeaderCell",tagName:"coral-table-headercell",className:"coral-Table-headerCell",baseTagName:"th",extend:HTMLTableCellElement,properties:{content:Coral.property.contentZone({handle:"content",tagName:"coral-table-headercell-content",insert:function(e){this.appendChild(e)}})},_render:function(){var e=this._elements.content=this.querySelector("coral-table-headercell-content");if(null===e)for(e=document.createElement("coral-table-headercell-content");this.firstChild;)e.appendChild(this.firstChild);this.content=e},_initialize:function(){this.id=this.id||Coral.commons.getUID(),this._stickyCellObserver=new MutationObserver(function(){this.trigger("coral-table-headercell:_contentchanged")}.bind(this)),this._stickyCellObserver.observe(this.content,{childList:!0,subtree:!0})}}),Coral.Table.HeaderCell.Content=function(){return document.createElement("coral-table-headercell-content")}}(),function(){"use strict";var e={DEFAULT:"default",ASCENDING:"ascending",DESCENDING:"descending"},t={ALPHANUMERIC:"alphanumeric",NUMBER:"number",DATE:"date",CUSTOM:"custom"};Coral.register({name:"Table.Column",tagName:"coral-table-column",className:"coral-Table-column",baseTagName:"col",extend:HTMLTableColElement,properties:{fixedWidth:{default:!1,attribute:"fixedwidth",reflectAttribute:!0,transform:Coral.transform.boolean,attributeTransform:Coral.transform.booleanAttr,trigger:"coral-table-column:_fixedwidthchanged",sync:function(){this.trigger("coral-table-column:_fixedwidthsync")}},hidden:{default:!1,reflectAttribute:!0,transform:Coral.transform.boolean,attributeTransform:Coral.transform.booleanAttr,sync:function(){this.trigger("coral-table-column:_hiddensync")}},orderable:{default:!1,reflectAttribute:!0,transform:Coral.transform.boolean,attributeTransform:Coral.transform.booleanAttr,sync:function(){this.trigger("coral-table-column:_orderablesync")}},sortable:{default:!1,reflectAttribute:!0,transform:Coral.transform.boolean,attributeTransform:Coral.transform.booleanAttr,sync:function(){this.trigger("coral-table-column:_sortablesync")}},sortableType:{default:t.ALPHANUMERIC,attribute:"sortabletype",reflectAttribute:!0,validate:[Coral.validate.valueMustChange,Coral.validate.enumeration(t)]},sortableDirection:{attribute:"sortabledirection",default:e.DEFAULT,reflectAttribute:!0,validate:[Coral.validate.enumeration(e)],set:function(e){var t=Coral.transform.boolean(this._sortableDirection);this._sortableDirection=e,t&&!this._preventSort&&this._doSort()},sync:function(){this.trigger("coral-table-column:_sortabledirectionsync")}}},_sort:function(){var t;this.sortableDirection===e.DEFAULT?t=e.ASCENDING:this.sortableDirection===e.ASCENDING?t=e.DESCENDING:this.sortableDirection===e.DESCENDING&&(t=e.DEFAULT),this.trigger("coral-table-column:_beforecolumnsort",{newSortableDirection:t})},_doSort:function(i){this.trigger("coral-table-column:_sort",{onInitialization:i,sortableDirection:e,sortableType:t})},_initialize:function(){Coral.commons.nextFrame(function(){this.sortable&&this._doSort(!0)}.bind(this))}}),Coral.Table.Column.sortableDirection=e,Coral.Table.Column.sortableType=t}(),function(){"use strict";var e={MEDIUM:"M",LARGE:"L"},t={HORIZONTAL:"horizontal",VERTICAL:"vertical"};function i(e){if(e instanceof Node)return e;var t=null;return"string"==typeof e&&""!==e.trim()&&(t=document.querySelector(e)),t}Coral.register({name:"TabList",tagName:"coral-tablist",className:"coral3-TabList",mixins:[Coral.mixin.selectionList({itemTagName:"coral-tab",supportMultiple:!1,forceSelection:!0,role:"tablist"})],events:{"click > coral-tab":"_onTabClick","key:home > coral-tab":"_onHomeKey","key:end > coral-tab":"_onEndKey","key:pagedown > coral-tab":"_selectNextItem","key:right > coral-tab":"_selectNextItem","key:down > coral-tab":"_selectNextItem","key:pageup > coral-tab":"_selectPreviousItem","key:left > coral-tab":"_selectPreviousItem","key:up > coral-tab":"_selectPreviousItem"},properties:{selectedItem:{get:function(){return this.items.getLastSelected()},set:function(){}},target:{default:null,validate:function(e){return null===e||"string"==typeof e||e instanceof Node},sync:function(){var e=i(this.target);if(e)for(var t,n,o=this.items.getAll(),a=e.items?e.items.getAll():e.children,r=Math.max(o.length,a.length),s=0;s<r;s++)t=o[s],n=a[s],t&&t.target&&""!==t.target.trim()||(t&&n?(t.id=t.id||Coral.commons.getUID(),n.id=n.id||Coral.commons.getUID(),t.setAttribute("aria-controls",n.id),n.setAttribute("aria-labelledby",t.id)):t?t.removeAttribute("aria-controls"):n.removeAttribute("aria-labelledby"))}},size:{default:e.MEDIUM,transform:function(e){return"string"==typeof e?e.toUpperCase():e},validate:[Coral.validate.valueMustChange,Coral.validate.enumeration(e)],sync:function(){this.classList[this.size===e.LARGE?"add":"remove"]("coral3-TabList--large")}},orientation:{default:t.HORIZONTAL,reflectAttribute:!0,validate:[Coral.validate.valueMustChange,Coral.validate.enumeration(t)],sync:function(){this.classList[this.orientation===t.VERTICAL?"add":"remove"]("coral3-TabList--vertical")}}},_onTabClick:function(e){e.preventDefault();var t=e.matchedTarget;this._selectAndFocusItem(t),this._trackEvent("click","tablist-tab",e,t)},_onHomeKey:function(e){e.preventDefault();var t=this.items.getFirstSelectable();this._selectAndFocusItem(t)},_onEndKey:function(e){e.preventDefault();var t=this.items.getLastSelectable();this._selectAndFocusItem(t)},_selectNextItem:function(e){e.preventDefault();var t=this.selectedItem;t&&(t=this.items.getNextSelectable(t),this._selectAndFocusItem(t))},_selectPreviousItem:function(e){e.preventDefault();var t=this.selectedItem;t&&(t=this.items.getPreviousSelectable(t),this._selectItem(t),t.focus())},_selectAndFocusItem:function(e){e&&(this._selectItem(e),e.focus())},_initialize:function(){this.setAttribute("aria-multiselectable","false")},attachedCallback:function(){Coral.Component.prototype.attachedCallback.call(this),this._syncProp("target")}}),Coral.TabList.orientation=t,Coral.TabList.size=e,Coral.register({name:"Tab",tagName:"coral-tab",className:"coral3-Tab",mixins:[Coral.mixin.selectionList.Item({listSelector:"coral-tablist",role:"tab"})],properties:{label:Coral.property.contentZone({handle:"label",tagName:"coral-tab-label",defaultContentZone:!0,insert:function(e){this.appendChild(e)}}),icon:{get:function(){var e=this._elements.icon;return e?e.icon:""},set:function(e){var t=this._getOrCreateIconElement();t.icon=e,""===this.icon?t.remove():t.parentNode||this.insertBefore(t,this.firstChild)}},invalid:{default:!1,reflectAttribute:!0,transform:Coral.transform.boolean,attributeTransform:Coral.transform.booleanAttr,sync:function(){this.classList.toggle("is-invalid",this.invalid),this.setAttribute("aria-invalid",this.invalid),this._elements.invalidIcon.hidden=!this.invalid}},disabled:{alsoSync:"selected",sync:function(){this.classList.toggle("is-disabled",this.disabled),this.setAttribute("aria-disabled",this.disabled)}},selected:{set:function(e){this._selected=e,this._selected&&this._selectTarget()},sync:function(){this.classList.toggle("is-selected",this.selected),this.setAttribute("tabindex",this.selected?"0":"-1"),this.setAttribute("aria-selected",this.selected)}},target:{default:null,validate:function(e){return null===e||"string"==typeof e||e instanceof Node},sync:function(){var e=i(this.target);e&&(this.setAttribute("aria-controls",e.id),e.setAttribute("aria-labelledby",this.id))}},trackingElement:{default:"",set:function(e){this._trackingElement=e},get:function(){return""===this._trackingElement?this.label.textContent.replace(/\s{2,}/g," ").trim():this._trackingElement},attribute:"trackingelement",transform:Coral.transform.string}},_getOrCreateIconElement:function(){this._elements.icon||(this._elements.icon=document.createElement("coral-icon"),this._elements.icon.setAttribute("size",Coral.Icon.size.SMALL),this.hasAttribute("aria-label")&&(this._elements.icon.setAttribute("autoarialabel","off"),this._elements.icon.setAttribute("aria-hidden",!0)));return this._elements.icon},_getOrCreateInvalidIconElement:function(){var e=this.querySelector(".coral3-Tabs-item-invalid-icon");e||((e=document.createElement("coral-icon")).setAttribute("size",Coral.Icon.size.EXTRA_SMALL),e.classList.add("coral3-Tabs-item-invalid-icon"),this.hasAttribute("aria-label")&&(e.setAttribute("autoarialabel","off"),e.setAttribute("aria-hidden",!0)),e.icon="alert",e.setAttribute("hidden",!0));return e},_selectTarget:function(){var e=i(this.target);if(e)e.setAttribute("selected","");else{var t=this.parentNode;if(t&&t.target&&(e=i(t.target))){var n=t.items.getAll().indexOf(this),o=(e.items?e.items.getAll():e.children)[n];o&&o.setAttribute("selected","")}}},_render:function(){var e=this.querySelector("coral-tab-label"),t=e||document.createElement("coral-tab-label");if(!e)for(;this.firstChild;)t.appendChild(this.firstChild);this.label=t;var i=this._getOrCreateInvalidIconElement();this.appendChild(i),this._elements.invalidIcon=i},_initialize:function(){this.id=this.id||Coral.commons.getUID()},attachedCallback:function(){Coral.Component.prototype.attachedCallback.call(this),this.selected&&(this._selectTarget(),this._syncProp("target"))}}),Coral.Tab.Label=function(){return document.createElement("coral-tab-label")}}(),function(){"use strict";var e={HORIZONTAL:"horizontal",VERTICAL:"vertical"};Coral.register({name:"TabView",tagName:"coral-tabview",className:"coral3-TabView",events:{"coral-tablist:change > coral-tablist":"_onTabListChange","coral-panelstack:change > coral-panelstack":"_onPanelStackChange","coral-collection:add > coral-tablist":"_syncTabListAndPanelStack","coral-collection:remove > coral-tablist":"_syncTabListAndPanelStack","coral-collection:add > coral-panelstack":"_syncTabListAndPanelStack","coral-collection:remove > coral-panelstack":"_syncTabListAndPanelStack"},properties:{orientation:{reflectAttribute:!0,validate:[Coral.validate.valueMustChange,Coral.validate.enumeration(e)],get:function(){return this.tabList.getAttribute("orientation")},set:function(e){this.tabList.setAttribute("orientation",e)},sync:function(){this.orientation===e.VERTICAL?this.classList.add("coral3-TabView--vertical"):this.classList.remove("coral3-TabView--vertical")}},tabList:Coral.property.contentZone({handle:"tabList",tagName:"coral-tablist",insert:function(e){e.setAttribute("tracking","off"),this.insertBefore(e,this.panelStack||null)}}),panelStack:Coral.property.contentZone({handle:"panelStack",tagName:"coral-panelstack",insert:function(e){this.appendChild(e)}})},_onTabListChange:function(e){this.trigger("coral-tabview:change",{selection:e.detail.selection,oldSelection:e.detail.oldSelection})},_onPanelStackChange:function(e){if(e.detail.selection){var t=e.detail.selection.getAttribute("aria-labelledby"),i=document.getElementById(t);i&&null===i.getAttribute("selected")&&(i.setAttribute("selected",""),this._trackEvent("display","tabview-panelstack",e,e.detail.selection))}},_syncTabListAndPanelStack:function(e){this.tabList._queueSync(["target"])},_render:function(){var e=this.querySelector("coral-tablist")||document.createElement("coral-tablist"),t=this.querySelector("coral-panelstack")||document.createElement("coral-panelstack");t.id=t.id||Coral.commons.getUID(),e.setAttribute("target","#"+t.id),this.panelStack=t,this.tabList=e}}),Coral.TabView.orientation=e}(),window.Coral=window.Coral||{},window.Coral.strings=window.Coral.strings||{},window.Coral.strings["coralui-component-tree"]={"en-US":{Expand:"Expand",Collapse:"Collapse",selected:"selected","not selected":"not selected"},"fr-FR":{Expand:"Développer",Collapse:"Réduire",selected:"Sélectionné","not selected":"Non sélectionné"},"de-DE":{Expand:"Udvid",Collapse:"Reduzieren",selected:"Ausgewählt","not selected":"Nicht ausgewählt"},"it-IT":{Expand:"Espandi",Collapse:"Comprimi",selected:"Selezionato","not selected":"Non selezionato"},"es-ES":{Expand:"Expandir",Collapse:"Contraer",selected:"Seleccionado","not selected":"No seleccionado"},"pt-BR":{Expand:"Expandir",Collapse:"Contrair",selected:"Selecionado","not selected":"Não selecionado"},"ja-JP":{Expand:"拡張",Collapse:"隠す",selected:"選 択済み","not selected":"未選択"},"ko-KR":{Expand:"확장",Collapse:"축소",selected:"선택됨","not selected":"선택되지 않음"},"zh-CN":{Expand:"展开",Collapse:"折叠",selected:"已选择","not selected":"未选定"},"zh-TW":{Expand:"展开",Collapse:"折叠",selected:"已选择","not selected":"未选定"},"nl-NL":{Expand:"Uitbreiden",Collapse:"Samenvouwen",selected:"Geselecteerd","not selected":"Niet geselecteerd"},"da-DK":{Expand:"Udvid",Collapse:"Komprimer",selected:"Valgt","not selected":"Ikke valgt"},"fi-FI":{Expand:"Laajenna",Collapse:"Supista",selected:"Valittu","not selected":"Ei valittu"},"nb-NO":{Expand:"Vis",Collapse:"Skjul",selected:"Valgt","not selected":"Ikke valgt"},"sv-SE":{Expand:"Expandera",Collapse:"Komprimera",selected:"Markerad","not selected":"Ej markerad"},"cs-CZ":{Expand:"Rozbalit",Collapse:"Sbalit",selected:"Vybráno","not selected":"Nevybráno"},"pl-PL":{Expand:"Rozwiń",Collapse:"Zwiń",selected:"Zaznaczone","not selected":"Niezaznaczone"},"ru-RU":{Expand:"Развернуть",Collapse:"Свернуть",selected:"Выбрано","not selected":"Не выбрано"},"tr-TR":{Expand:"Genişlet",Collapse:"Daralt",selected:"Seçili","not selected":"Seçili değil"}},window.Coral=window.Coral||{},window.Coral.templates=window.Coral.templates||{},window.Coral.templates.Tree=window.Coral.templates.Tree||{},window.Coral.templates.Tree.item=function(e){var t=document.createDocumentFragment(),i=this.header=document.createElement("div");i.className+=" coral3-Tree-header",i.setAttribute("tabindex","-1"),i.setAttribute("role","treeitem"),i.id=Coral.commons.getUID(),i.setAttribute("handle","header");var n=document.createTextNode("\n  ");i.appendChild(n);var o=this.icon=document.createElement("coral-icon");o.className+=" coral3-Tree-collapseExpand",o.setAttribute("size","xs"),o.setAttribute("handle","icon"),o.setAttribute("role","img"),o.setAttribute("icon","chevronRight"),o.setAttribute("alt",""),o.setAttribute("aria-hidden","true"),o.id=Coral.commons.getUID(),i.appendChild(o);var a=document.createTextNode("\n  ");i.appendChild(a);var r=this.selectedState=document.createElement("span");r.className+=" u-coral-screenReaderOnly",r.setAttribute("handle","selectedState"),r.setAttribute("role","presentation"),r.id=Coral.commons.getUID(),i.appendChild(r);var s=document.createTextNode("\n  ");i.appendChild(s);var l=this.contentContainer=document.createElement("div");l.className+=" coral3-Tree-contentContainer",l.setAttribute("handle","contentContainer"),l.setAttribute("role","presentation"),l.id=Coral.commons.getUID(),i.appendChild(l);var c=document.createTextNode("\n");i.appendChild(c),t.appendChild(i);var d=document.createTextNode("\n");t.appendChild(d);var u=this.subTreeContainer=document.createElement("div");return u.className+=" coral3-Tree-subTree",u.setAttribute("handle","subTreeContainer"),u.id=Coral.commons.getUID(),u.setAttribute("role","group"),t.appendChild(u),t},window.Coral.templates.Tree.itemspacer=function(e){var t=document.createElement("span");return t.className+=" coral3-Tree-item-spacer",t.setAttribute("role","presentation"),t},function(){"use strict";Coral.register({name:"Tree",tagName:"coral-tree",className:"coral3-Tree",events:{"click .coral3-Tree-header":"_onItemClick","click .coral3-Tree-collapseExpand":"_onExpandCollapseClick","coral-collection:add coral-tree-item":"_onCollectionChange","coral-collection:remove coral-tree-item":"_onCollectionChange","key:space .coral3-Tree-header":"_onItemClick","key:space .coral3-Tree-collapseExpand":"_onExpandCollapseClick","key:return .coral3-Tree-header, .coral3-Tree-collapseExpand":"_onExpandCollapseClick","key:pageup .coral3-Tree-header, .coral3-Tree-collapseExpand":"_onFocusPreviousItem","key:left .coral3-Tree-header, .coral3-Tree-collapseExpand":"_onCollapseItem","key:up .coral3-Tree-header, .coral3-Tree-collapseExpand":"_onFocusPreviousItem","key:pagedown .coral3-Tree-header, .coral3-Tree-collapseExpand":"_onFocusNextItem","key:right .coral3-Tree-header, .coral3-Tree-collapseExpand":"_onExpandItem","key:down .coral3-Tree-header, .coral3-Tree-collapseExpand":"_onFocusNextItem","key:home .coral3-Tree-header, .coral3-Tree-collapseExpand":"_onFocusFirstItem","key:end .coral3-Tree-header, .coral3-Tree-collapseExpand":"_onFocusLastItem","capture:focus coral-tree-item":"_onFocus","coral-tree-item:_beforeselectedchanged":"_onBeforeItemSelectionChanged","coral-tree-item:_selectedchanged":"_onItemSelectionChanged","coral-tree-item:_disabledchanged":"_onFocusableChanged","coral-tree-item:_expandedchanged":"_onFocusableChanged","coral-tree-item:_afterexpandedchanged":"_onExpandedChanged","coral-tree-item:_hiddenchanged":"_onFocusableChanged"},properties:{multiple:{default:!1,transform:Coral.transform.boolean,attributeTransform:Coral.transform.booleanAttr,sync:function(){this.setAttribute("aria-multiselectable",this.multiple),!this.multiple&&this.selectedItems.length>1&&(this._preventTriggeringEvents=!0,this.items._deselectAllExceptLast(),Coral.commons.nextFrame(function(){this._preventTriggeringEvents=!1,this._triggerChangeEvent()}.bind(this)))}},items:{get:function(){return this._items||(this._items=new Coral.SelectableCollection({host:this,itemTagName:"coral-tree-item"})),this._items},set:function(){}},selectedItem:{get:function(){return this.selectedItems[0]||null},set:function(){}},selectedItems:{get:function(){return this.items._getAllSelected()},set:function(){}}},_onBeforeItemSelectionChanged:function(e){e.stopImmediatePropagation();var t=this.selectedItem;this.multiple||!t||e.target.selected||t.set("selected",!1,!0)},_onItemSelectionChanged:function(e){e.stopImmediatePropagation(),this._triggerChangeEvent()},_triggerChangeEvent:function(){if(!this._preventTriggeringEvents){var e=this.selectedItems;this.trigger("coral-tree:change",{oldSelection:this._oldSelection,selection:e}),this._oldSelection=e}},_onCollectionChange:function(e){e.stopImmediatePropagation()},_onItemClick:function(e){if(!e.target.hasAttribute("coral-interactive")&&!e.target.closest("[coral-interactive]")){var t=e.target.closest("coral-tree-item");if(t&&!t.disabled){e.preventDefault(),e.stopPropagation(),t.selected=!t.selected;var i=this._getFocusable();i&&i.setAttribute("tabindex","-1"),t.focus()}}},_onExpandCollapseClick:function(e){e.preventDefault(),e.stopPropagation();var t=e.target.closest("coral-tree-item");if(t){if(t.disabled)return;t.expanded=!t.expanded}},_onExpandItem:function(e){e.preventDefault(),e.stopPropagation();var t=e.target.closest("coral-tree-item");t&&!t.disabled&&(t.expanded||t.variant!==Coral.Tree.Item.variant.DRILLDOWN?t.items.length>0&&this._onFocusNextItem(e):t.expanded=!t.expanded)},_onCollapseItem:function(e){e.preventDefault(),e.stopPropagation();var t=e.target.closest("coral-tree-item");t&&(t.expanded&&t.variant===Coral.Tree.Item.variant.DRILLDOWN?t.expanded=!t.expanded:t.parent&&(t._elements.header.setAttribute("tabindex","-1"),t.parent.focus()))},_focusSiblingItem:function(e,t){var i=this._getFocusableItems();if(!(i.length<2)){var n=i.indexOf(e)+(t?1:-1),o=null;for(n>i.length-1?o=i[0]:n<0&&(o=i[i.length-1]);!o;)(o=i[n]).parentNode.closest("coral-tree-item.is-collapsed")&&(o=t?++n>i.length-1?e:null:--n<0?e:null);o!==e&&(e._elements.header.setAttribute("tabindex","-1"),o.focus())}},_focusEdgeItem:function(e){var t=this._getFocusable();if(t){var i=this._getFocusableItems(),n=i[e?i.length-1:0];n!==t&&(t.setAttribute("tabindex","-1"),n.focus())}},_onFocusNextItem:function(e){e.preventDefault(),e.stopPropagation();var t=e.target.closest("coral-tree-item");t&&this._focusSiblingItem(t,!0)},_onFocusPreviousItem:function(e){e.preventDefault(),e.stopPropagation();var t=e.target.closest("coral-tree-item");t&&this._focusSiblingItem(t,!1)},_onFocusFirstItem:function(e){e.preventDefault(),e.stopPropagation(),this._focusEdgeItem(!1)},_onFocusLastItem:function(e){e.preventDefault(),e.stopPropagation(),this._focusEdgeItem(!0)},_onFocusableChanged:function(e){e.preventDefault(),e.stopPropagation(),e.target.contains(this._getFocusable())&&this._resetFocusableItem()},_onFocus:function(e){this._resetFocusableItem(e.matchedTarget)},_onExpandedChanged:function(e){e.stopImmediatePropagation();var t=e.target;this.trigger("coral-tree:"+(t.expanded?"expand":"collapse"),{item:t})},_getFocusable:function(){return this.querySelector('coral-tree-item > .coral3-Tree-header[tabindex="0"]')},_getFocusableItems:function(){return this.items.getAll().filter((function(e){return!e.closest("coral-tree-item[disabled]")&&!e.closest("coral-tree-item[hidden]")}))},_resetFocusableItem:function(e){Coral.commons.ready(this,function(){var t=this._getFocusable();t&&t.setAttribute("tabindex","-1"),(e=e||this._getFocusableItems()[0])&&e._elements.header.setAttribute("tabindex","0")}.bind(this))},_initialize:function(){this.setAttribute("role","tree"),this._resetFocusableItem(this.selectedItems[0]),this._oldSelection=this.selectedItems,this.items._startHandlingItems()},expandAll:function(){this._expandCollapseAll(!0)},collapseAll:function(){this._expandCollapseAll(!1)},_expandCollapseAll:function(e){var t=this.querySelectorAll("coral-tree-item");if(t){var i,n=t.length;if(n>0)for(var o=0;o<n;o++)(i=t[o])&&(i.expanded=e)}}})}(),function(){"use strict";var e={true:"chevronDown",false:"chevronRight"},t={LEAF:"leaf",DRILLDOWN:"drilldown"},i=[];for(var n in t)t.hasOwnProperty(n)&&i.push("coral3-Tree-item--"+t[n]);var o="ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0;Coral.register({name:"Tree.Item",tagName:"coral-tree-item",className:"coral3-Tree-item",properties:{content:Coral.property.contentZone({handle:"content",tagName:"coral-tree-item-content",insert:function(e){this._elements.contentContainer.appendChild(e)}}),parent:{get:function(){return this._parent||null},set:function(){}},items:{get:function(){return this._items||(this._items=new Coral.Collection({host:this,itemTagName:"coral-tree-item",itemSelector:":scope > coral-tree-item",container:this._elements.subTreeContainer,filter:this._filterItem.bind(this),onItemAdded:this._onItemAdded,onItemRemoved:this._onItemRemoved})),this._items},set:function(){}},expanded:{default:!1,reflectAttribute:!0,transform:Coral.transform.boolean,attributeTransform:Coral.transform.booleanAttr,trigger:"coral-tree-item:_expandedchanged",sync:function(){var i=this,n=i._elements.header,o=i._elements.icon,a=i._elements.subTreeContainer;i.classList.toggle("is-expanded",i.expanded),i.classList.toggle("is-collapsed",!i.expanded),this.variant!==t.DRILLDOWN?(n.removeAttribute("aria-expanded"),n.removeAttribute("aria-owns")):(n.setAttribute("aria-expanded",i.expanded),n.setAttribute("aria-owns",a.id)),i.expanded?a.removeAttribute("aria-hidden"):a.setAttribute("aria-hidden",!i.expanded),o.icon=e[i.expanded],o.setAttribute("alt",Coral.i18n.get(i.expanded?"Collapse":"Expand")),this._animate?(Coral.commons.transitionEnd(a,(function(){i.expanded?a.style.height="":a.hidden=!0,i.trigger("coral-tree-item:_afterexpandedchanged")})),i.expanded?a.hidden=!1:a.style.height=a.scrollHeight+"px",Coral.commons.nextFrame((function(){a.style.height=i.expanded?a.scrollHeight+"px":0}))):(i._animate=!0,i.expanded||(a.style.height=0,a.hidden=!0))}},variant:{default:t.DRILLDOWN,validate:[Coral.validate.valueMustChange,Coral.validate.enumeration(t)],sync:function(){var e=this._elements.header,n=this._elements.subTreeContainer;this.classList.remove.apply(this.classList,i),this.classList.add(this._className+"--"+this.variant),this.variant===t.LEAF?(e.removeAttribute("aria-expanded"),e.removeAttribute("aria-owns")):(e.setAttribute("aria-expanded",this.expanded),e.setAttribute("aria-owns",n.id))}},selected:{default:!1,reflectAttribute:!0,transform:Coral.transform.boolean,attributeTransform:Coral.transform.booleanAttr,triggerBefore:"coral-tree-item:_beforeselectedchanged",trigger:"coral-tree-item:_selectedchanged",sync:function(){this.classList.toggle("is-selected",this.selected),this._elements.header.setAttribute("aria-selected",this.selected);var e=this._elements.selectedState;e.textContent=Coral.i18n.get(this.selected?"selected":"not selected"),o&&e.setAttribute("aria-pressed",this.selected)}},disabled:{default:!1,reflectAttribute:!0,transform:Coral.transform.boolean,attributeTransform:Coral.transform.booleanAttr,trigger:"coral-tree-item:_disabledchanged",sync:function(){this.classList.toggle("is-disabled",this.disabled),this._elements.header.setAttribute("aria-disabled",this.disabled)}},hidden:{default:!1,reflectAttribute:!0,transform:Coral.transform.boolean,attributeTransform:Coral.transform.booleanAttr,trigger:"coral-tree-item:_hiddenchanged"}},focus:function(){this._elements.header.setAttribute("tabindex","0"),this._elements.header.focus()},_filterItem:function(e){return e.parentNode&&e.parentNode.parentNode===this||e._parent===this},_onItemAdded:function(e){e._parent=this,function(e){if(e)for(var t=e._parent;t;){var i=e._elements.header;i&&i.insertBefore(Coral.templates.Tree.itemspacer.call(),i.firstChild),t=t._parent}}(e);var t=this._elements.header,i=this._elements.subTreeContainer;t.hasAttribute("aria-owns")||t.setAttribute("aria-owns",i.id)},_onItemRemoved:function(e){e._parent=void 0,this.items.length||this._elements.header.removeAttribute("aria-owns")},_initialize:function(){this.setAttribute("role","presentation");var e=this._elements.header,t=this._elements.contentContainer,i=this._elements.subTreeContainer,n=this._elements.icon,a=this._elements.selectedState;e.setAttribute("aria-labelledby",t.id+" "+a.id),i.setAttribute("aria-labelledby",t.id),a.textContent=Coral.i18n.get(this.selected?"selected":"not selected"),o&&(n.setAttribute("role","button"),n.setAttribute("tabindex","-1"),n.setAttribute("aria-labelledby",n.id+" "+t.id),n.setAttribute("alt",Coral.i18n.get(this.expanded?"Collapse":"Expand")),n.setAttribute("style","outline: none !important"),n.removeAttribute("aria-hidden"),a.setAttribute("role","button"),a.setAttribute("tabindex","-1"),a.setAttribute("aria-labelledby",t.id+" "+a.id),a.setAttribute("aria-pressed",this.selected),a.setAttribute("style","outline: none !important")),new MutationObserver((function(t){t.forEach((function(t){for(var n=0;n<t.addedNodes.length;n++){var o=t.addedNodes[n];"CORAL-TREE-ITEM"===o.tagName&&(o.parentNode.tagName===o.tagName&&i.appendChild(o),e.hasAttribute("aria-owns")||e.setAttribute("aria-owns",i.id))}}))})).observe(this,{childList:!0,subtree:!0}),this.items._startHandlingItems()},_templateHandleNames:["header","icon","contentContainer","subTreeContainer"],_render:function(){var e,t=Coral.templates.Tree.item.call(this._elements),i=this._elements.content=this.querySelector("coral-tree-item-content")||document.createElement("coral-tree-item-content");for(i.setAttribute("role","presentation"),this._elements.contentContainer.appendChild(i);this.firstChild;)(e=this.firstChild).nodeName===this.tagName?(e._parent=this,this._elements.subTreeContainer.appendChild(e)):e.nodeType===Node.TEXT_NODE||-1===this._templateHandleNames.indexOf(e.getAttribute("handle"))?i.appendChild(e):this.removeChild(e);this.appendChild(t)}}),Coral.Tree.Item.variant=t,Coral.Tree.Item.Content=function(){return document.createElement("coral-tree-item-content")}}(),function(){"use strict";Coral.register({name:"WizardView",tagName:"coral-wizardview",className:"coral3-WizardView",events:{"coral-component:attached coral-panelstack[coral-wizardview-panelstack]":"_onComponentAttached","coral-component:attached coral-steplist[coral-wizardview-steplist]":"_onComponentAttached","capture:click coral-steplist[coral-wizardview-steplist] > coral-step":"_onClickOnStep","coral-steplist:change coral-steplist[coral-wizardview-steplist]":"_onStepListChange","click [coral-wizardview-previous]":"_onPreviousClick","click [coral-wizardview-next]":"_onNextClick"},properties:{panelStacks:{attribute:null,get:function(){return this._panelStacks||(this._panelStacks=new Coral.Collection({host:this,itemTagName:"coral-panelstack",itemSelector:"coral-panelstack[coral-wizardview-panelstack]",filter:this._isControlledByThisComponent.bind(this),onItemAdded:this._onItemAdded})),this._panelStacks},set:function(){}},stepLists:{attribute:null,get:function(){return this._stepLists||(this._stepLists=new Coral.Collection({host:this,itemTagName:"coral-steplist",itemSelector:"coral-steplist[coral-wizardview-steplist]",filter:this._isControlledByThisComponent.bind(this),onItemAdded:this._onItemAdded})),this._stepLists},set:function(){}}},_onComponentAttached:function(e){e.target===e.matchedTarget&&this._isControlledByThisComponent(e.target)&&this._selectItemByIndex(e.target,this._getSelectedIndex())},_onItemAdded:function(e){this._selectItemByIndex(e,this._getSelectedIndex())},_onClickOnStep:function(e){this._trackEvent("click","wizardview-steplist-step",e,e.matchedTarget)},_onNextClick:function(e){e.stopPropagation(),this.next();var t=this.stepLists.first().items.getAll()[this._getSelectedIndex()];this._trackEvent("click","wizardview-next",e,t)},_onPreviousClick:function(e){e.stopPropagation(),this.previous();var t=this.stepLists.first().items.getAll()[this._getSelectedIndex()];this._trackEvent("click","wizardview-previous",e,t)},_onStepListChange:function(e){if(this._isControlledByThisComponent(e.target)){e.stopPropagation();var t=e.target.items.getAll().indexOf(e.detail.selection);this._selectStep(t),this.trigger("coral-wizardview:change",{selection:e.detail.selection,oldSelection:e.detail.oldSelection}),this._trackEvent("change","wizardview",e)}},_getSelectedIndex:function(){var e=this.stepLists.first();if(!e)return-1;var t=-1;if(e.items)t=e.items.getAll().indexOf(e.selectedItem);else for(var i=e.querySelectorAll("coral-step"),n=i.length-1;n>=0;n--)if(i[n].hasAttribute("selected")){t=n;break}return t},_isControlledByThisComponent:function(e){return e.closest("coral-wizardview")===this},_selectItemByIndex:function(e,t){var i=null;e.id=e.id||Coral.commons.getUID(),e.items?i=e.items.getAll()[t]:"CORAL-STEPLIST"===e.tagName?i=e.querySelectorAll("#"+e.id+" > coral-step")[t]:"CORAL-PANELSTACK"===e.tagName&&(i=e.querySelectorAll("#"+e.id+" > coral-panel")[t]),i?i.hasAttribute("selected")||i.setAttribute("selected",""):("CORAL-STEPLIST"===e.tagName?i=e.querySelector("#"+e.id+" > coral-step[selected]"):"CORAL-PANELSTACK"===e.tagName&&(i=e.querySelector("#"+e.id+" > coral-panel[selected]")),i&&i.removeAttribute("selected"))},_selectStep:function(e){var t=this;this.stepLists.getAll().forEach((function(i){t._selectItemByIndex(i,e)})),this.panelStacks.getAll().forEach((function(i){t._selectItemByIndex(i,e)}))},_syncPanelStackSelection:function(){var e=this._getSelectedIndex();if(-1!==e){var t=this;this.panelStacks.getAll().forEach((function(i){t._selectItemByIndex(i,e)}))}},_syncStepListSelection:function(){var e=this._getSelectedIndex();if(-1!==e){var t=this;this.stepLists.getAll().forEach((function(i){t._selectItemByIndex(i,e)}))}},_render:function(){Array.prototype.forEach.call(this.querySelectorAll("[coral-wizardview-next],[coral-wizardview-previous],[coral-wizardview-steplist],[coral-wizardview-panelstack]"),(function(e){e.setAttribute("tracking","off")}))},_initialize:function(){this._syncStepListSelection(),this._syncPanelStackSelection(),this._observer=new MutationObserver((function(e){e.filter((function(e){return"childList"===e.type&&e.addedNodes.length>0})).forEach((function(e){Array.prototype.filter.call(e.addedNodes,(function(e){return e instanceof HTMLElement&&(e.hasAttribute("coral-wizardview-next")||e.hasAttribute("coral-wizardview-previous")||e.hasAttribute("coral-wizardview-steplist")||e.hasAttribute("coral-wizardview-panelstack"))})).map((function(e){e.setAttribute("tracking","off")}))}))})),this._observer.observe(this,{childList:!0,subtree:!0})},next:function(){var e=this.stepLists.first();e&&(e.next(),this._selectStep(e.items.getAll().indexOf(e.selectedItem)))},previous:function(){var e=this.stepLists.first();e&&(e.previous(),this._selectStep(e.items.getAll().indexOf(e.selectedItem)))}})}(),function(){"use strict";Coral.register({name:"Shell",tagName:"coral-shell",className:"coral3-Shell",properties:{content:Coral.property.contentZone({handle:"content",tagName:"coral-shell-content",defaultContentZone:!0,insert:function(e){this.appendChild(e)}})},_render:function(){Coral.commons.ready(this,(function(e){var t=e._elements.content=e.querySelector("coral-shell-content");if(null===t){var i=document.createDocumentFragment();for(t=e._elements.content=document.createElement("coral-shell-content"),i.appendChild(t);e.firstChild;)t.appendChild(e.firstChild);e.appendChild(i)}}))}}),Coral.Shell.Content=function(){return document.createElement("coral-shell-content")}}(),window.Coral=window.Coral||{},window.Coral.templates=window.Coral.templates||{},window.Coral.templates.Shell=window.Coral.templates.Shell||{},window.Coral.templates.Shell.menubaritem=function(e){var t=this.shellMenuButton=document.createElement("button","coral-button");t.setAttribute("is","coral-button"),t.setAttribute("variant","minimal"),t.setAttribute("iconsize","S"),t.className+=" coral3-Shell-menu-button",t.setAttribute("handle","shellMenuButton"),t.setAttribute("type","button");var i=document.createTextNode("\n  ");t.appendChild(i);var n=this.shellMenuButtonLabel=document.createElement("coral-button-label");n.setAttribute("handle","shellMenuButtonLabel"),t.appendChild(n);var o=document.createTextNode("\n");return t.appendChild(o),t},function(){"use strict";Coral.register({name:"Shell.MenuBar",tagName:"coral-shell-menubar",className:"coral3-Shell-menubar",properties:{items:{get:function(){return this._items||(this._items=new Coral.Collection({host:this,itemTagName:"coral-shell-menubar-item"})),this._items},set:function(){}}},_initialize:function(){this.setAttribute("role","list")}});var e={DEFAULT:"default",CIRCLE:"circle"},t={MENU:"menu",LISTBOX:"listbox",TREE:"tree",GRID:"grid",DIALOG:"dialog",TRUE:"true",DEFAULT:null},i="coral3-Shell-menubar-item",n=[];for(var o in e)n.push(i+"--"+e[o]);Coral.register({name:"Shell.MenuBar.Item",tagName:"coral-shell-menubar-item",className:i,events:{'click [handle="shellMenuButton"]':"_handleButtonClick","global:coral-overlay:close":"_handleOverlayEvent","global:coral-overlay:open":"_handleOverlayEvent"},properties:{icon:{set:function(e){this._elements.shellMenuButton.icon=e},get:function(){return this._elements.shellMenuButton.icon}},iconSize:{attribute:"iconsize",set:function(e){this._elements.shellMenuButton.iconSize=e},get:function(){return this._elements.shellMenuButton.iconSize}},iconVariant:{default:e.DEFAULT,attribute:"iconvariant",validate:[Coral.validate.valueMustChange,Coral.validate.enumeration(e)],sync:function(){this.classList.remove.apply(this.classList,n),this.variant!==Coral.Shell.MenuBar.Item.iconVariant.DEFAULT&&this.classList.add(i+"--"+this.iconVariant)}},"aria-label":{attribute:"aria-label",set:function(e){!this.label.textContent&&e&&(this._elements.shellMenuButton.setAttribute("aria-label",e),this.removeAttribute("aria-label"))},get:function(){return this._elements.shellMenuButton.getAttribute("aria-label")}},badge:{set:function(e){e&&"0"!==e?this._elements.shellMenuButton.setAttribute("badge",e):this._elements.shellMenuButton.removeAttribute("badge",e)},get:function(){return this._elements.shellMenuButton.getAttribute("badge")}},open:{default:!1,reflectAttribute:!0,transform:Coral.transform.boolean,attributeTransform:Coral.transform.booleanAttr,validate:[Coral.validate.valueMustChange,function(e,t){return!e||null!==this._getMenu()||null!==this.hasPopup}],trigger:function(e,t){return this.trigger(e?"coral-shell-menubar-item:open":"coral-shell-menubar-item:close")},set:function(e){this._open=e;var t=this._getMenu();t&&(t.open=this.open),this.hasPopup&&this._elements.shellMenuButton.setAttribute("aria-expanded",this.open)}},label:Coral.property.contentZone({handle:"shellMenuButtonLabel",tagName:"coral-button-label",defaultContentZone:!0,insert:function(e){this._elements.shellMenuButtonLabel.appendChild(e)}}),menu:{default:null,sync:function(){var e=this._getMenu();e&&!this.hasPopup&&(this.hasPopup=e.getAttribute("role")||"dialog")},alsoSync:["hasPopup"]},hasPopup:{default:t.DEFAULT,attribute:"haspopup",validate:[Coral.validate.valueMustChange,Coral.validate.enumeration(t)],sync:function(){var e=this._elements.shellMenuButton,i=this.hasPopup;i===t.TRUE&&(i=t.DIALOG),i?(e.setAttribute("aria-haspopup",i),e.setAttribute("aria-expanded",this.open)):(e.removeAttribute("aria-haspopup"),e.removeAttribute("aria-expanded"))}}},_handleOverlayEvent:function(e){var t=e.target;t===this._getMenu()&&(this.open=t.open)},_handleButtonClick:function(e){this.open=!this.open},_getMenu:function(e){if((e=e||this.menu)instanceof Node)return e;var t=null;return"string"==typeof e&&(t=document.querySelector(e)),t},_render:function(){this.setAttribute("role","listitem");for(var e=Coral.templates.Shell.menubaritem.call(this._elements);this.firstChild;)this.label.appendChild(this.firstChild);this.appendChild(e)}}),Coral.Shell.MenuBar.Item.iconVariant=e,Coral.Shell.MenuBar.Item.hasPopupRole=t}(),function(){"use strict";var e={RIGHT:"right",TOP:"top"},t=[];for(var i in e)t.push("coral3-Shell-menu--"+e[i]);var n={RIGHT:"right",TOP:"top"},o=[];for(var a in n)o.push("coral3-Shell-menu--"+n[a]);function r(e){return"string"==typeof e?e.toLowerCase():e}Coral.register({name:"Shell.Menu",tagName:"coral-shell-menu",className:"coral3-Shell-menu",mixins:[Coral.mixin.overlay],events:{"click [coral-close]":"_handleCloseClick","global:key:escape":"_handleGlobalEscape","global:capture:click":"_handleGlobalClick"},properties:{placement:{default:e.RIGHT,transform:r,validate:[Coral.validate.valueMustChange,Coral.validate.enumeration(e)],sync:function(){this.classList.remove.apply(this.classList,t),this.classList.add(this._className+"--placement-"+this.placement)}},from:{default:n.TOP,transform:r,validate:[Coral.validate.valueMustChange,Coral.validate.enumeration(n)],sync:function(){this.classList.remove.apply(this.classList,o),this.classList.add(this._className+"--from-"+this.from)}},full:{default:!1,reflectAttribute:!0,transform:Coral.transform.boolean,attributeTransform:Coral.transform.booleanAttr,sync:function(){this.classList.toggle(this._className+"--full",this.full)}},top:{default:!1,reflectAttribute:!0,transform:Coral.transform.boolean,attributeTransform:Coral.transform.booleanAttr},focusOnShow:{default:"on"},returnFocus:{default:"on"},open:{set:function(){this.top&&(this.style.zIndex=parseInt(this.style.zIndex,10)+20)}}},_overlayAnimationTime:400,_handleGlobalEscape:function(){this.open&&this._isTopOverlay()&&(this.open=!1)},_handleCloseClick:function(e){var t=e.matchedTarget.getAttribute("coral-close");t&&!this.matches(t)||(this.hide(),e.stopPropagation())},_handleGlobalClick:function(e){var t=e.target,i=t.closest("coral-shell-menubar-item");i&&this===i._getMenu()||this.open&&!this.contains(t)&&this.hide()}})}(),function(){"use strict";Coral.register({name:"Shell.Header",tagName:"coral-shell-header",className:"coral3-Shell-header",events:{"global:coral-overlay:beforeopen":"_handleMenuBeforeOpenOrClose","global:coral-overlay:beforeclose":"_handleMenuBeforeOpenOrClose","global:coral-overlay:close":"_handleMenuClose"},properties:{home:Coral.property.contentZone({handle:"home",tagName:"coral-shell-header-home",insert:function(e){this._enableHomeAccessibility(e),this.appendChild(e)}}),content:Coral.property.contentZone({handle:"content",tagName:"coral-shell-header-content",defaultContentZone:!0,insert:function(e){this.appendChild(e)}}),actions:Coral.property.contentZone({handle:"actions",tagName:"coral-shell-header-actions",insert:function(e){this.appendChild(e)}})},_handleMenuBeforeOpenOrClose:function(e){var t=e.target;if("CORAL-SHELL-MENU"===t.tagName){var i=this;Coral.commons.nextFrame((function(){i.style.zIndex=parseInt(t.style.zIndex,10)+100,window.clearTimeout(i._zIndexTimeout)}))}},_handleMenuClose:function(e){if("CORAL-SHELL-MENU"===e.target.tagName){var t=this;t._zIndexTimeout=setTimeout((function(){t.style.zIndex=null}),200)}},_enableHomeAccessibility:function(e){e.setAttribute("role","heading"),e.setAttribute("aria-level","2")},_render:function(){var e=document.createDocumentFragment(),t=this._elements.home=this.querySelector("coral-shell-header-home")||document.createElement("coral-shell-header-home"),i=this._elements.actions=this.querySelector("coral-shell-header-actions")||document.createElement("coral-shell-header-actions"),n=this._elements.content=this.querySelector("coral-shell-header-content")||document.createElement("coral-shell-header-content");for(this._enableHomeAccessibility(t),e.appendChild(t),e.appendChild(i),e.appendChild(n);this.firstChild;)n.appendChild(this.firstChild);this.appendChild(e)},_initialize:function(){this.classList.add("coral--dark")}}),Coral.Shell.Header.Home=function(){return document.createElement("coral-shell-header-home")},Coral.Shell.Header.Actions=function(){return document.createElement("coral-shell-header-actions")},Coral.Shell.Header.Content=function(){return document.createElement("coral-shell-header-content")}}(),function(){"use strict";Coral.register({name:"Shell.HomeAnchor",tagName:"coral-shell-homeanchor",baseTagName:"a",extend:HTMLAnchorElement,className:"coral3-Shell-homeAnchor",properties:{label:Coral.property.contentZone({handle:"label",tagName:"coral-shell-homeanchor-label",defaultContentZone:!0,insert:function(e){this.appendChild(e)}}),icon:{get:function(){return this._elements.icon.icon},set:function(e){this._elements.icon.icon=e},sync:function(){""===this.icon?this._elements.icon.remove():this._elements.icon.parentNode||this.insertBefore(this._elements.icon,this.firstChild)}}},_render:function(){for(var e=document.createDocumentFragment(),t=this._elements.label=this.querySelector("coral-shell-homeanchor-label")||document.createElement("coral-shell-homeanchor-label");this.firstChild;){var i=this.firstChild;i.nodeType===Node.TEXT_NODE?t.appendChild(i):"CORAL-ICON"===i.tagName?(this._elements.icon=i,e.appendChild(i)):this.removeChild(i)}this._elements.icon||(this._elements.icon=document.createElement("coral-icon"),this._elements.icon.size=Coral.Icon.size.MEDIUM,this._elements.icon.className+=" coral3-Shell-homeAnchor-icon"),e.appendChild(t),this.appendChild(e)}}),Coral.Shell.HomeAnchor.Label=function(){return document.createElement("coral-shell-homeanchor-label")}}(),window.Coral=window.Coral||{},window.Coral.strings=window.Coral.strings||{},window.Coral.strings["coralui-component-shell-help"]={"en-US":{"Search for Help":"Search for Help","Searching Help…":"Searching Help…","Error fetching results":"Error fetching results","No results found":"No results found","See all {0} results":"See all {0} results"},"fr-FR":{"Search for Help":"Rechercher de l’aide","Searching Help…":"Recherche dans l’aide…","Error fetching results":"Erreur lors de la récupération des résultats","No results found":"Aucun résultat trouvé","See all {0} results":"Voir les {0} résultats"},"de-DE":{"Search for Help":"Nach Hilfe suchen","Searching Help…":"Suche nach Hilfe …","Error fetching results":"Fehler beim Abruf von Ergebnissen","No results found":"Keine Ergebnisse gefunden","See all {0} results":"Alle {0} Ergebnisse anzeigen"},"it-IT":{"Search for Help":"Cerca informazioni nell'Aiuto","Searching Help…":"Ricerca aiuto…","Error fetching results":"Errore durante il recupero dei risultati","No results found":"Nessun risultato trovato","See all {0} results":"Visualizza tutti i {0} risultati"},"es-ES":{"Search for Help":"Buscar ayuda","Searching Help…":"Buscando ayuda…","Error fetching results":"Error al obtener los resultados","No results found":"No se han encontrado resultados","See all {0} results":"Ver los {0} resultados"},"pt-BR":{"Search for Help":"Procurar nas seções de Ajuda","Searching Help…":"Procurando ajuda…","Error fetching results":"Erro ao obter resultados","No results found":"Nenhum resultado encontrado","See all {0} results":"Ver todos os resultados de {0}"},"ja-JP":{"Search for Help":"ヘルプを検索","Searching Help…":"ヘルプを検索中…","Error fetching results":"結果を取得中にエラーが発生しました","No results found":"結果が見つかりませんでした","See all {0} results":"すべての {0} 結果を確認"},"ko-KR":{"Search for Help":"도움말 검색","Searching Help…":"도움말 검색 중…","Error fetching results":"결과를 가져오는 중 오류 발생","No results found":"결과를 찾을 수 없습니다","See all {0} results":"총 {0}개 결과 보기"},"zh-CN":{"Search for Help":"搜索帮助","Searching Help…":"正在搜索帮助…","Error fetching results":"获取结果时出错","No results found":"找不到任何结果","See all {0} results":"查看全部 {0} 个结果"},"zh-TW":{"Search for Help":"搜尋說明","Searching Help…":"正在搜尋說明…","Error fetching results":"擷取結果時發生錯誤","No results found":"找不到結果","See all {0} results":"查看全部 {0} 個結果"},"nl-NL":{"Search for Help":"Zoeken naar hulp","Searching Help…":"Hulp zoeken…","Error fetching results":"Fout bij ophalen resultaten","No results found":"Geen resultaten gevonden","See all {0} results":"Alle {0} resultaten bekijken"},"da-DK":{"Search for Help":"Søg efter Hjælp...","Searching Help…":"Søger i Hjælp...","Error fetching results":"Fejl ved hentning af resultater","No results found":"Ingen resultater fundet","See all {0} results":"Se alle {0} resultater"},"fi-FI":{"Search for Help":"Hae ohjeita","Searching Help…":"Haun ohje…","Error fetching results":"Tuloksia haettaessa tapahtui virhe.","No results found":"Tuloksia ei löytynyt.","See all {0} results":"Näytä kaikki {0} tulosta"},"nb-NO":{"Search for Help":"Søk etter hjelp","Searching Help…":"Søker i Hjelp …","Error fetching results":"Kan ikke hente resultater","No results found":"Finner ingen resultater","See all {0} results":"Vis alle de {0} resultatene"},"sv-SE":{"Search for Help":"Sök efter hjälp","Searching Help…":"Sökhjälp…","Error fetching results":"Det gick inte att hämta resultat","No results found":"Inga resultat funna","See all {0} results":"Se alla {0} resultat"},"cs-CZ":{"Search for Help":"Vyhledat nápovědu","Searching Help…":"Nápověda hledání…","Error fetching results":"Při shromažďování výsledků došlo k chybě","No results found":"Nebyly nalezeny žádné výsledky","See all {0} results":"Zobrazit všechny výsledky: {0}"},"pl-PL":{"Search for Help":"Szukaj pomocy","Searching Help…":"Trwa przeszukiwanie Pomocy...","Error fetching results":"Błąd pobierania wyników","No results found":"Nie znaleziono żadnych wyników","See all {0} results":"Zobacz wszystkie {0} wyników"},"ru-RU":{"Search for Help":"Поиск справки","Searching Help…":"Поиск по справке…","Error fetching results":"Ошибка получения результатов","No results found":"Результаты не найдены","See all {0} results":"Посмотреть все результаты ({0})"},"tr-TR":{"Search for Help":"Yardım Ara","Searching Help…":"Yardım Aranıyor...","Error fetching results":"Sonuçlar alınırken hata oluştu","No results found":"Sonuç bulunamadı","See all {0} results":"Tüm {0} sonuçlarını gör"}},window.Coral=window.Coral||{},window.Coral.templates=window.Coral.templates||{},window.Coral.templates.Shell=window.Coral.templates.Shell||{},window.Coral.templates.Shell.help=function(e){var t=document.createDocumentFragment(),i=e=void 0===e?{}:e;i=e;var n=Coral.commons.getUID();e=i;var o=document.createTextNode("\n");t.appendChild(o);var a=document.createElement("label");a.className+=" u-coral-screenReaderOnly",a.id=n,a.textContent=Coral.i18n.get("Search for Help"),t.appendChild(a);var r=document.createTextNode("\n");t.appendChild(r);var s=this.search=document.createElement("coral-search");s.className+=" coral3-Shell-help-search",s.setAttribute("handle","search"),s.setAttribute("placeholder",Coral.i18n.get("Search for Help")),s.setAttribute("labelledby",n),t.appendChild(s);var l=document.createTextNode("\n");t.appendChild(l);var c=this.items=document.createElement("div");c.className+=" coral3-Shell-help-items",c.setAttribute("handle","items"),t.appendChild(c);var d=document.createTextNode("\n");t.appendChild(d);var u=this.results=document.createElement("coral-anchorlist");u.className+=" coral3-Shell-help-results",u.setAttribute("handle","results"),u.setAttribute("hidden",""),t.appendChild(u);var h=document.createTextNode("\n");t.appendChild(h);var p=this.resultMessage=document.createElement("div");p.className+=" coral3-Shell-help-resultMessage",p.setAttribute("handle","resultMessage"),p.setAttribute("role","status"),p.setAttribute("hidden",""),t.appendChild(p);var m=document.createTextNode("\n");t.appendChild(m);var f=this.loading=document.createElement("div");f.className+=" coral3-Shell-help-loading",f.setAttribute("handle","loading"),f.setAttribute("role","status"),f.setAttribute("hidden","");var g=document.createTextNode("\n  ");f.appendChild(g);var v=document.createElement("coral-wait");v.setAttribute("size","S"),v.className+=" coral3-Shell-help-loading-wait",f.appendChild(v);var b=document.createTextNode("\n  ");f.appendChild(b);var _=this.loadingMessage=document.createElement("span");_.className+=" coral-Heading--2 coral3-Shell-help-loading-info",_.setAttribute("handle","loadingMessage"),_.textContent=Coral.i18n.get("Searching Help…"),f.appendChild(_);var C=document.createTextNode("\n");return f.appendChild(C),t.appendChild(f),t},window.Coral.templates.Shell.helpResult=function(e){var t=document.createElement("coral-list-item-content"),i=document.createTextNode(e.title+"\n");t.appendChild(i);var n=document.createElement("div");n.className+=" coral3-Shell-help-result-description",n.textContent=e.description,t.appendChild(n);var o=document.createTextNode("\n");return t.appendChild(o),t},window.Coral.templates.Shell.helpSearchError=function(e){var t=document.createElement("div");t.className+=" coral3-Shell-help-resultMessage-container";var i=document.createTextNode("\n  ");t.appendChild(i);var n=document.createElement("div");n.className+=" coral-Heading--1 coral3-Shell-help-resultMessage-heading",n.textContent=Coral.i18n.get("Error fetching results"),t.appendChild(n);var o=document.createTextNode("\n");return t.appendChild(o),t},window.Coral.templates.Shell.noHelpResults=function(e){var t=document.createElement("div");t.className+=" coral3-Shell-help-resultMessage-container";var i=document.createTextNode("\n  ");t.appendChild(i);var n=document.createElement("div");n.className+=" coral-Heading--1 coral3-Shell-help-resultMessage-heading",n.textContent=Coral.i18n.get("No results found"),t.appendChild(n);var o=document.createTextNode("\n");return t.appendChild(o),t},function(){"use strict";Coral.register({name:"Shell.Help",tagName:"coral-shell-help",className:"coral3-BasicList coral3-AnchorList coral3-Shell-help",extend:Coral.AnchorList,events:{"coral-search:clear":"_showItems","coral-search:submit":"_performSearch"},properties:{items:{get:function(){return this._items||(this._items=new Coral.Collection({host:this,itemTagName:"coral-shell-help-item",itemBaseTagName:"a",container:this._elements.items})),this._items},set:function(){}},placeholder:{set:function(e){this._elements.search.placeholder=e},get:function(){return this._elements.search.placeholder}}},_moveItems:function(){var e=this;e.id=e.id||Coral.commons.getUID(),Array.prototype.forEach.call(e.querySelectorAll("#"+e.id+" > a[is='coral-shell-help-item'], coral-shell-help-separator"),(function(t){e._elements.items.appendChild(t)}))},_performSearch:function(e){e.stopPropagation(),this._elements.items.hidden=!0,this._showLoading(),this._elements.resultMessage.hidden=!0,this._elements.results.hidden=!0;var t=this._elements.search.value;this.trigger("coral-shell-help:search",{value:t})},_clearTimeout:function(e){this[e]&&(window.clearTimeout(this[e]),this[e]=void 0)},_showMessage:function(e,t){var i=this._elements[e],n="_"+e+"Timeout";i.hidden=!1,this._clearTimeout(n),this[n]=window.setTimeout((function(){i.appendChild(t)}),150)},_showLoading:function(){this._elements.loading.hidden&&(this._elements.loading.contains(this._elements.loadingMessage)&&(this._elements.loadingMessage=this._elements.loading.removeChild(this._elements.loadingMessage)),this._showMessage("loading",this._elements.loadingMessage))},_hideLoading:function(){this._elements.loading.hidden||(this._elements.loading.hidden=!0,this._clearTimeout("_loadingTimeout"),this._elements.loading.contains(this._elements.loadingMessage)&&(this._elements.loadingMessage=this._elements.loading.removeChild(this._elements.loadingMessage)))},_showItems:function(e){e.stopPropagation(),this._elements.results.hidden=!0,this._hideLoading(),this._elements.resultMessage.hidden=!0,this._elements.items.hidden=!1},_render:function(){var e=Coral.templates.Shell.help.call(this._elements);this._moveItems(),this.appendChild(e)},showError:function(){this._hideLoading(),this._elements.resultMessage.innerHTML="",this._showMessage("resultMessage",Coral.templates.Shell.helpSearchError())},showResults:function(e,t,i){var n=this;if(this._hideLoading(),e&&0!==t){if(this._elements.results.innerHTML="",e.forEach((function(e){var t=e.tags.join("&nbsp; &bull; &nbsp;"),i=(new Coral.AnchorList.Item).set({href:e.href,target:e.target});i.content=Coral.templates.Shell.helpResult({title:e.title,description:t}),n._elements.results.appendChild(i)})),this._elements.results.hidden=!1,t>1){var o=(new Coral.AnchorList.Item).set({href:i,content:{innerHTML:Coral.i18n.get("See all {0} results",t)},target:"_blank"});o.classList.add("coral-Link","coral3-Shell-help-allResults"),this._elements.results.appendChild(o)}}else this._elements.resultMessage.innerHTML="",this._showMessage("resultMessage",Coral.templates.Shell.noHelpResults())}}),Coral.register({name:"Shell.Help.Separator",tagName:"coral-shell-help-separator",className:"coral3-Shell-help-separator"}),Coral.register({name:"Shell.Help.Item",tagName:"coral-shell-help-item",className:"coral3-BasicList-item coral3-AnchorList-item coral3-Shell-help-item",baseTagName:"a",extend:Coral.AnchorList.Item})}(),window.Coral=window.Coral||{},window.Coral.templates=window.Coral.templates||{},window.Coral.templates.Shell=window.Coral.templates.Shell||{},window.Coral.templates.Shell.solutionSwitcher=function(e){var t=this.icon=document.createElement("coral-icon");return t.setAttribute("size","L"),t.setAttribute("handle","icon"),t.className+=" coral3-Shell-solution-icon",t},function(){"use strict";Coral.register({name:"Shell.SolutionSwitcher",tagName:"coral-shell-solutionswitcher",className:"coral3-Shell-solutionSwitcher",events:{"global:mouseup":"_handleMouseUp",mousedown:"_handleMouseDown",'capture:focus [is="coral-shell-solution"]':"_handleFocus",'capture:blur [is="coral-shell-solution"]':"_handleBlur"},_handleMouseDown:function(){this._flagMouseDown=!0;var e=this.querySelector(".is-focused");e&&e.classList.toggle("is-focused",!1)},_handleMouseUp:function(){delete this._flagMouseDown},_handleFocus:function(e){this._flagMouseDown||e.matchedTarget.classList.toggle("is-focused",!0)},_handleBlur:function(e){e.matchedTarget.classList.contains("is-focused")&&e.matchedTarget.classList.toggle("is-focused",!1)},properties:{items:{get:function(){return this._items||(this._items=new Coral.Collection({host:this,itemTagName:"coral-shell-solutions"})),this._items},set:function(){}}},_initialize:function(){var e=this;e.classList.add("coral--dark"),new MutationObserver((function(t){t.forEach((function(t){for(var i=0;i<t.addedNodes.length;i++){var n=t.addedNodes[i];"CORAL-SHELL-SOLUTIONS"!==n.tagName||n.hasAttribute("secondary")||e._elements.container.appendChild(n)}}))})).observe(e,{childList:!0})},_render:function(){var e=this._elements.container=document.createElement("div");e.className="coral3-Shell-solutions-container",Array.prototype.forEach.call(this.querySelectorAll("coral-shell-solutions"),(function(t){t.hasAttribute("secondary")||e.appendChild(t)})),this.insertBefore(e,this.firstChild)}}),Coral.register({name:"Shell.Solutions",tagName:"coral-shell-solutions",className:"coral3-Shell-solutions",properties:{items:{get:function(){return this._items||(this._items=new Coral.Collection({host:this,itemTagName:"coral-shell-solution",itemBaseTagName:"a"})),this._items},set:function(){}},secondary:{default:!1,reflectAttribute:!0,transform:Coral.transform.boolean,attributeTransform:Coral.transform.booleanAttr,sync:function(){this.classList.toggle(this._className+"--secondary",this.secondary)}}},_sortSolutions:function(){var e=this;if(e.items.length>1){var t=[],i=[],n=e.hasAttribute("secondary");e.items.getAll().forEach((function(e,o){n&&0===o||(e.hasAttribute("linked")?t.push(e):i.push(e))}));var o=function(e,t){var i=e.textContent.trim().toLowerCase(),n=t.textContent.trim().toLowerCase();return i<n?-1:i>n?1:0};t.sort(o),i.sort(o),t.forEach((function(t){e.appendChild(t)})),i.forEach((function(t){e.appendChild(t)}))}},_render:function(){this._sortSolutions()}}),Coral.Shell.Solutions.Header=function(){return console.warn("Coral.Shell.Solutions.Header: coral-shell-solutions-header is deprecated."),document.createElement("coral-shell-solutions-header")},Coral.register({name:"Shell.Solution",tagName:"coral-shell-solution",className:"coral3-Shell-solution",baseTagName:"a",extend:HTMLAnchorElement,properties:{icon:{set:function(e){this._elements.icon.icon=e},get:function(){return this._elements.icon.icon}},label:Coral.property.contentZone({handle:"label",tagName:"coral-shell-solution-label",defaultContentZone:!0,insert:function(e){this.appendChild(e)}}),linked:{default:!1,reflectAttribute:!0,transform:Coral.transform.boolean,attributeTransform:Coral.transform.booleanAttr,sync:function(){this.classList.toggle(this._className+"--linked",this.linked)}}},_render:function(){var e=document.createDocumentFragment();e.appendChild(Coral.templates.Shell.solutionSwitcher.call(this._elements));var t=this._elements.label=this.querySelector("coral-shell-solution-label")||document.createElement("coral-shell-solution-label");for(e.appendChild(this._elements.label);this.firstChild;)t.appendChild(this.firstChild);this.appendChild(e)}}),Coral.Shell.Solution.Label=function(){return document.createElement("coral-shell-solution-label")}}(),window.Coral=window.Coral||{},window.Coral.templates=window.Coral.templates||{},window.Coral.templates.Shell=window.Coral.templates.Shell||{},window.Coral.templates.Shell.user=function(e){var t=this.container=document.createElement("div");t.className+=" coral3-Shell-user-container",t.setAttribute("handle","container");var i=document.createTextNode("\n  ");t.appendChild(i);var n=this.image=document.createElement("div");n.className+=" coral3-Shell-user-image",n.setAttribute("handle","image");var o=document.createTextNode("\n    ");n.appendChild(o);var a=this.avatar=document.createElement("coral-icon");a.className+=" coral3-Shell-user-avatar",a.setAttribute("size","L"),a.setAttribute("handle","avatar"),n.appendChild(a);var r=document.createTextNode("\n  ");n.appendChild(r),t.appendChild(n);var s=document.createTextNode("\n");return t.appendChild(s),t},function(){"use strict";Coral.Shell=Coral.Shell||{};var e={DEFAULT:"user"};Coral.register({name:"Shell.User",tagName:"coral-shell-user",className:"coral3-Shell-user",properties:{avatar:{default:e.DEFAULT,sync:function(){this._elements.avatar.icon=this._avatar}},name:Coral.property.contentZone({handle:"name",tagName:"coral-shell-user-name",insert:function(e){this._elements.container.appendChild(e)}}),heading:Coral.property.contentZone({handle:"heading",tagName:"coral-shell-user-heading",insert:function(e){this._elements.container.appendChild(e)}}),subheading:Coral.property.contentZone({handle:"subheading",tagName:"coral-shell-user-subheading",insert:function(e){this._elements.container.appendChild(e)}}),content:Coral.property.contentZone({handle:"content",tagName:"coral-shell-user-content",defaultContentZone:!0,insert:function(e){this.appendChild(e)}}),footer:Coral.property.contentZone({handle:"footer",tagName:"coral-shell-user-footer",insert:function(e){this.appendChild(e)}})},_render:function(){var e=document.createDocumentFragment();e.appendChild(Coral.templates.Shell.user.call(this._elements));var t=this._elements.name=this.querySelector("coral-shell-user-name")||document.createElement("coral-shell-user-name");this._elements.container.appendChild(t);var i=this._elements.heading=this.querySelector("coral-shell-user-heading")||document.createElement("coral-shell-user-heading");this._elements.container.appendChild(i);var n=this._elements.subheading=this.querySelector("coral-shell-user-subheading")||document.createElement("coral-shell-user-subheading");this._elements.container.appendChild(n);var o=this._elements.content=this.querySelector("coral-shell-user-content")||document.createElement("coral-shell-user-content");e.appendChild(o);var a=this._elements.footer=this.querySelector("coral-shell-user-footer")||document.createElement("coral-shell-user-footer");e.appendChild(a),this.appendChild(e)}}),Coral.Shell.User.Name=function(){return document.createElement("coral-shell-user-name")},Coral.Shell.User.Heading=function(){return document.createElement("coral-shell-user-heading")},Coral.Shell.User.Subheading=function(){return document.createElement("coral-shell-user-subheading")},Coral.Shell.User.Content=function(){return document.createElement("coral-shell-user-content")},Coral.Shell.User.Footer=function(){return document.createElement("coral-shell-user-footer")},Coral.Shell.User.avatar=e}(),function(e){var t=0;CUI.Popover=new Class({toString:"Popover",extend:CUI.Widget,construct:function(e){this.$element.on("change:content",this._setContent.bind(this)),this.$element.on("change:pointAt",this._position.bind(this)),this.$element.on("change:pointFrom",this._position.bind(this)),this.$element.on("change:alignFrom",this._position.bind(this)),this.$element.addClass("coral-Popover"),0===this._getContentElement(this.$element).length&&this._wrapContent(this.$element),this._$content=this._getContentElement(this.$element),""===this._$content.html()&&this._setContent(),this._popoverOffsets(),this.uuid=t+=1,this.popoverId=this.$element.attr("id"),this._makeAccessible()},defaults:{pointFrom:"bottom",preventAutoHide:!1,alignFrom:"left",visible:!1},_directions:["top","bottom","right","left"],_popoverOffsets:function(){this._popoverOffsets={},this._popoverOffsets.leftRight={width:5,height:5},this._popoverOffsets.topBottom={width:5,height:5}},_wrapContent:function(e){e.wrapInner('<div class="coral-Popover-content"/>')},_getContentElement:function(e){return e.find("> .coral-Popover-content")},_position:function(){if(this.options.visible&&this.options.pointAt){var t,i=this.$element,n=this.options.pointAt,o=this.options.pointFrom,a=this._popoverOffsets;if(e.isArray(n)){if(2!==n.length)return;n=this._convertCoordsToEvent(n)}var r=function(e,r){var s,l=i.offsetParent().offset();("top"==o||"bottom"==o)&&l.top+e.top<0?s="bottom":("left"==o||"right"==o)&&l.left+e.left<0&&(s="right"),s?(t=this._instructionFactory[s]({target:n,tailDimensions:a,allowFlip:!1,callback:this._applyFinalPosition.bind(this),within:this.options.within||window}),i.position(t)):this._applyFinalPosition(e,r)}.bind(this);t=this._instructionFactory[o]({target:n,tailDimensions:a,allowFlip:!0,callback:r,within:this.options.within||window}),i.position(t)}},_convertCoordsToEvent:function(t){var i=e.Event();return i.pageX=t[0],i.pageY=t[1],i},_applyFinalPosition:function(t,i){var n={top:t.top};if("right"===this.options.alignFrom){var o,a=this.$element.offsetParent();o="html"==a.prop("tagName").toLowerCase()?(a=e("body")).outerWidth(!0):a.innerWidth(),n.left="auto",n.right=o-t.left-this.$element.outerWidth(!0)}else n.left=t.left,n.right="auto";this.$element.css(n)},_instructionFactory:{top:function(e){return{my:"left bottom-"+e.tailDimensions.topBottom.height,at:"left top",of:e.target,collision:"flipfit "+(e.allowFlip?"flip":"none"),using:e.callback,within:e.within}},right:function(e){return{my:"left+"+e.tailDimensions.leftRight.width+" top",at:"right top",of:e.target,collision:(e.allowFlip?"flipfit":"none")+" flipfit",using:e.callback,within:e.within}},bottom:function(e){return{my:"left top+"+e.tailDimensions.topBottom.height,at:"left bottom",of:e.target,collision:"flipfit "+(e.allowFlip?"flip":"none"),using:e.callback,within:e.within}},left:function(e){return{my:"right-"+e.tailDimensions.leftRight.width+" top",at:"left top",of:e.target,collision:(e.allowFlip?"flipfit":"none")+" flipfit",using:e.callback,within:e.within}}},_show:function(){var t,i=this,n=e(this._lastFocused);this.$element.show().attr("aria-hidden",!1),!this.$element.find(":focusable").length&&this.$element.is(":not([aria-labelledby]):not([aria-label])")&&(t=this._getContentElement(this.$element),this.$element.attr("aria-labelledby",t.first().attr("id"))),this._position(),this._previousFocus=e(document.activeElement),0!==this._previousFocus.length&&(this._restoreClass=this._previousFocus.hasClass("is-selected"),this._previousFocus.addClass("is-selected")),this.options.preventAutoHide||(clearTimeout(this.autoHideInitTimeout),this.autoHideInitTimeout=setTimeout((function(){e(document).on("touchstart.popover-hide-"+i.uuid,i._clickOutsideHandler.bind(i)),e(document).on("click.popover-hide-"+i.uuid,i._clickOutsideHandler.bind(i)),i._moveLastEventToFrontOfQueue(document,"touchstart"),i._moveLastEventToFrontOfQueue(document,"click")}),0)),n.length||(n=this.$element.find(":tabbable").first()).length?n.focus():this.$element.focus(),e(document).on("keydown.popover-"+this.uuid,this._keyDown.bind(this)),this._moveLastEventToFrontOfQueue(document,"keydown"),this.$element.parent().is("body")&&(this._onScroll=function(){this.$element.parent().is("body")?this._position():(window.removeEventListener("scroll",this._onScroll,!0),this._onScroll=null)}.bind(this),window.addEventListener("scroll",this._onScroll,!0)),this.$element.on("keydown.popover-focusLoop",":focusable",this._tabKeyHandler.bind(this)).on("focusin.popover",this._focusInHandler.bind(this)).on("focusout.popover",this._focusOutHandler.bind(this))},_moveLastEventToFrontOfQueue:function(t,i){var n=e._data(e(t)[0],"events")[i],o=[];n.forEach((function(e,t){0===e.namespace.indexOf("popover-")&&o.push(t)})),o.length>1&&n.splice(o[0],0,n.pop())},_hide:function(){e(document).off("keydown.popover-"+this.uuid),clearTimeout(this.autoHideInitTimeout),this._unforceBlur(),this.$element.hide().attr("aria-hidden",!0),e(document).off(".popover-hide-"+this.uuid),0!==this._previousFocus.length&&this._previousFocus.toggleClass("is-selected",this._restoreClass),this._lastFocused=null,this.$element.off("keydown.popover-focusLoop, focusin.popover, focusout.popover"),this._onScroll&&(window.removeEventListener("scroll",this._onScroll,!0),this._onScroll=null)},_setContent:function(){"string"==typeof this.options.content&&(this._$content.html(this.options.content),this._position())},setPosition:function(e){this.set("pointAt",e)},_keyDown:function(e){switch(e.which){case 27:this._escapeKeyHandler(e);break;case 117:this._gotoTriggerHandler(e)}},_escapeKeyHandler:function(t){(e(document.activeElement).is(this.$element)||e(document.activeElement).closest(this.$element).length)&&this._previousFocus.focus(),this.hide(),t.preventDefault(),t.stopImmediatePropagation()},_clickOutsideHandler:function(t){var i=e(t.target);0===i.closest(".coral-Popover").length&&i.closest("body").length>0&&(e(document.activeElement).is(document.body)&&this._previousFocus.focus(),this.hide(),t.preventDefault(),t.stopImmediatePropagation())},_gotoTriggerHandler:function(t){e(document.activeElement).is(this.$element)||e(document.activeElement).closest(this.$element).length?(this._previousFocus.focus(),this._forceBlur()):(this._unforceBlur(),this._lastFocused?this._lastFocused.focus():this.$element.find(":focusable").addBack().first().focus()),t.preventDefault(),t.stopImmediatePropagation()},_tabKeyHandler:function(t){e(t.currentTarget);var i,n=this.$element.find(":tabbable");switch(t.which){case 9:t.shiftKey&&t.currentTarget===n[0]?i=n.last():t.shiftKey||t.currentTarget!==n[n.length-1]||(i=n.first())}i&&i.length&&(t.preventDefault(),i.focus()),this._lastFocused=document.activeElement},_focusTimeoutInt:-1,_focusInHandler:function(t){clearTimeout(this._focusTimeoutInt),e(t.currentTarget).addClass("is-focused")},_focusOutHandler:function(t){var i=e(t.currentTarget),n=this;clearTimeout(this._focusTimeoutInt),this._focusTimeoutInt=setTimeout((function(){i.removeClass("is-focused"),!n.options.preventAutoHide&&n.$element.get(0).contains(t.target)&&0===e(document.activeElement).closest(n.$element).length&&n.$element.closest(".coral-Popover").length>1&&n.hide()}),50)},_forcedBlur:!1,_forceBlur:function(){this._forcedBlur||(this._forcedBlur=!0,this.$element.find(":focusable").addBack().each((function(t,i){var n=e(i);void 0===n.data("cached-tabindex")&&n.data("cached-tabindex",n.attr("tabindex")),n.attr("tabindex",-1)})),this.$element.attr("aria-hidden",!0).on("focusin.popover-"+this.uuid,this._unforceBlur.bind(this)))},_unforceBlur:function(){this._forcedBlur&&(this._forcedBlur=!1,this.$element.find(":focusable").addBack().each((function(t,i){var n=e(i);void 0===n.data("cached-tabindex")?n.removeAttr("tabindex"):n.attr("tabindex",n.data("cached-tabindex")).removeData("cached-tabindex")})),this.$element.attr("aria-hidden",!1).off("focusin.popover-"+this.uuid))},_makeAccessible:function(){var e=this._getContentElement(this.$element);this.$element.attr({role:"dialog",tabindex:"-1"}),e.attr("role",e.length>1?"group":null).not("[id]").each((function(e,t){t.setAttribute("id",CUI.util.getNextId())}))}}),CUI.Widget.registry.register("popover",CUI.Popover),e((function(){e(document).on("touchstart.popover.data-api click.popover.data-api",'[data-toggle="popover"]',(function(t){var i=e(this),n=CUI.util.getDataTarget(i);(n=n&&n.length>0?n:i.next(".coral-Popover")).popover(e.extend({pointAt:i},n.data(),i.data())).data("popover").toggleVisibility(),t.preventDefault()}))}))}(window.jQuery),function(e,t,i){CUI.SelectList=new Class({toString:"SelectList",extend:CUI.Widget,construct:function(e){this.applyOptions(),this.$element.on("change:type",this._setType.bind(this)).on("click",this._SELECTABLE_SELECTOR,this._triggerSelected.bind(this)).on("mouseenter",this._SELECTABLE_SELECTOR,this._handleMouseEnter.bind(this)),this._makeAccessible()},defaults:{type:"static",multiple:!1,relatedElement:null,autofocus:!0,autohide:!0,dataurl:null,dataurlformat:"html",datapaging:!0,datapagesize:10,dataadditional:null,loadData:e.noop,position:"center bottom-1",collisionAdjustment:""},getItems:function(){return this.$element.children(".coral-SelectList-item").toArray().map((function(t){var i=e(t);return i.is(".coral-SelectList-item--option")?new CUI.SelectList.Option({element:i}):i.is(".coral-SelectList-item--optgroup")?new CUI.SelectList.Group({element:i}):void 0}))},getOption:function(t){if(!e.isNumeric(t))throw new TypeError("Position should be numeric");var i=this.$element.children(".coral-SelectList-item"),n=i.eq(t);if(t<0||0===n.length)throw new RangeError("Position >"+t+"< is not within expected range [0,"+(i.length-1)+"]");if(!n.is(".coral-SelectList-item--option"))throw new TypeError("Position does not point to option element");return new CUI.SelectList.Option({element:n})},getGroup:function(t){if(!e.isNumeric(t))throw new TypeError("Position should be numeric");var i=this.$element.children(".coral-SelectList-item"),n=i.eq(t);if(t<0||0===n.length)throw new RangeError("Position >"+t+"< is not within expected range [0,"+(i.length-1)+"]");if(!n.is(".coral-SelectList-item--optgroup"))throw new TypeError("Position does not point to group element");return new CUI.SelectList.Group({element:n})},addOption:function(t,i){var n,o,a;if(e.isArray(t)||t&&t.jquery)for(a=0;a<t.length;a++)this.addOption(t[a],void 0!==i?i+a:void 0);else if(t&&t.$element)this.addOption(t.$element);else{if(e.isPlainObject(t))n=t;else{if(!(t instanceof Element))throw new TypeError("Only Object, Element, CUI.SelectList.Option, jQuery and Array type arguments allowed.");n={value:(o=e(t)).data("value"),display:o.text()}}o||(o=e("<li>",{class:"coral-SelectList-item coral-SelectList-item--option","data-value":n.value}).text(n.display)),this._addItem(o,i),this.$element.trigger(e.Event("itemadded",{item:new CUI.SelectList.Option({element:o})}))}},addGroup:function(t,i){var n,o,a;if(e.isArray(t)||t&&t.jquery)for(a=0;a<t.length;a++)this.addGroup(t[a],void 0!==i?i+a:void 0);else if(t&&t.$element)this.addGroup(t.$element);else{if("string"===e.type(t))n={display:t};else{if(!(t instanceof Element))throw new TypeError("Only String, Element, CUI.SelectList.Group, jQuery and Array type arguments allowed.");n={display:(o=e(t)).children(".coral-SelectList-groupHeader").text()}}o||(o=e("<li>",{class:"coral-SelectList-item coral-SelectList-item--optgroup"})),0===o.find(".coral-SelectList-groupHeader").length&&o.prepend(e("<span>",{class:"coral-SelectList-groupHeader"}).text(n.display)),0===o.find(".coral-SelectList-sublist").length&&o.append(e("<ul>",{class:"coral-SelectList-sublist"})),this._addItem(o,i),this.$element.trigger(e.Event("itemadded",{item:new CUI.SelectList.Group({element:o})}))}},_addItem:function(e,t){this._makeAccessibleListOption(e);var i=this._getList(),n=this._getItems();if(void 0===t||t===n.length)return i.append(e),n.length;if(0===t)return i.prepend(e),0;var o=n.eq(t);if(t>0&&o.length)return o.before(e),t;throw new RangeError("Position "+t+" is not within accepted range [0..."+n.length+"].")},_getList:function(){return this.$element},_getItems:function(){return this._getList().children(".coral-SelectList-item")},_SELECTABLE_SELECTOR:".coral-SelectList-item--option:not(.is-disabled):not(.is-hidden)",applyOptions:function(){this._setType()},_setType:function(){var e,t=this;function i(){var e=t.$element.get(0),i=e.scrollHeight,n=e.scrollTop;i-t.$element.height()<=n+30&&t._handleLoadData()}"dynamic"===this.options.type?this.$element.on("scroll.cui-selectlist-dynamic-load",(function(n){e&&clearTimeout(e),t._loadingComplete||this._loadingIsActive||(e=setTimeout(i,500))})):this.$element.off("scroll.cui-selectlist-dynamic-load")},_ownerElement:null,_makeAccessible:function(){var t=e(this.options.relatedElement),i=this.$element.hasClass("is-visible");this._ownerElement=e('[aria-owns*="'+this.$element.attr("id")+'"]'),t.length&&(this._ownerElement.length||(this._ownerElement=t)),this._ownerElement.attr({id:this._ownerElement.attr("id")||CUI.util.getNextId(),"aria-haspopup":!0,"aria-expanded":i}),t.not(this._ownerElement).removeAttr("aria-haspopup").removeAttr("aria-expanded"),this.$element.attr({role:"listbox","aria-hidden":!i,"aria-multiselectable":this.options.multiple||null,tabindex:-1}),i&&(this.$element.attr("tabindex",0),this.$element.not(".is-inline").addClass("is-inline")),this.$element.off("focusin.cui-selectlist focusout.cui-selectlist").on("focusin.cui-selectlist",this._handleFocusIn.bind(this)).on("focusout.cui-selectlist",this._handleFocusOut.bind(this)),this._makeAccessibleListOption(this.$element.children())},_hasFocus:function(){return this._ownerElement.is(document.activeElement)||1===e(document.activeElement).closest(this.$element).length},_handleFocusIn:function(e){0===this.$element.find(this._SELECTABLE_SELECTOR+'[aria-selected="true"], '+this._SELECTABLE_SELECTOR+'[tabindex="0"], '+this._SELECTABLE_SELECTOR+".is-highlighted").first().length&&(this.setCaretToItem(this.$element.find(this._SELECTABLE_SELECTOR).first(),!0),this.$element.attr("tabindex",-1)),this.$element.is(".is-inline")&&(this.$element.addClass("is-focused"),this.$element.off("keydown.cui-selectlist keypress.cui-selectlist").on("keydown.cui-selectlist",this._handleKeyDown.bind(this)).on("keypress.cui-selectlist",this._handleKeyPress.bind(this)))},_handleFocusOut:function(e){this.$element.is(".is-inline")&&(this.$element.removeClass("is-focused"),this.$element.off("keydown.cui-selectlist keypress.cui-selectlist"))},_restoreFocusToOwnerElement:function(){var e=this._ownerElement;e.is(":tabbable")||(e=e.find('input[type="text"], input[type="search"], button, input[type="button"]').filter(":tabbable").first()),e.trigger("focus")},_handleKeyDown:function(t){var i,n=this.$element.find(this._SELECTABLE_SELECTOR),o=n.filter(".is-highlighted"),a=n.index(o);if(n.length){switch(t.which){case 13:case 32:o.length&&1===e(document.activeElement).closest(this.$element).length&&(o.trigger("click"),t.preventDefault());break;case 27:this.hide(),t.preventDefault();break;case 33:case 38:a>0?i=n[a-1]:-1==a&&(i=n[n.length-1]),t.preventDefault();break;case 34:case 40:a+1<n.length&&(i=n[a+1]),t.preventDefault();break;case 36:i=n[0],t.preventDefault();break;case 35:i=n[n.length-1],t.preventDefault();break;case 9:this.options.visible&&this.options.autohide&&t.preventDefault()}void 0!==i&&this._hasFocus()&&this.setCaretToItem(e(i),!0)}},_keypressTimeoutID:null,_keypressTimeoutDuration:1e3,_keypressSearchString:"",_unicodeRangesRegExp:/[\u0000-\u007F|\u0080-\u00FF|\u0100-\u017F|\u0180-\u024F|\u0250-\u02AF|\u02B0-\u02FF|\u0300-\u036F|\u0370-\u03FF|\u0400-\u04FF|\u0500-\u052F|\u0530-\u058F|\u0590-\u05FF|\u0600-\u06FF|\u0700-\u074F|\u0780-\u07BF|\u0900-\u097F|\u0980-\u09FF|\u0A00-\u0A7F|\u0A80-\u0AFF|\u0B00-\u0B7F|\u0B80-\u0BFF|\u0C00-\u0C7F|\u0C80-\u0CFF|\u0D00-\u0D7F|\u0D80-\u0DFF|\u0E00-\u0E7F|\u0E80-\u0EFF|\u0F00-\u0FFF|\u1000-\u109F|\u10A0-\u10FF|\u1100-\u11FF|\u1200-\u137F|\u13A0-\u13FF|\u1400-\u167F|\u1680-\u169F|\u16A0-\u16FF|\u1700-\u171F|\u1720-\u173F|\u1740-\u175F|\u1760-\u177F|\u1780-\u17FF|\u1800-\u18AF|\u1900-\u194F|\u1950-\u197F|\u19E0-\u19FF|\u1D00-\u1D7F|\u1E00-\u1EFF|\u1F00-\u1FFF|\u2000-\u206F|\u2070-\u209F|\u20A0-\u20CF|\u20D0-\u20FF|\u2100-\u214F|\u2150-\u218F|\u2190-\u21FF|\u2200-\u22FF|\u2300-\u23FF|\u2400-\u243F|\u2440-\u245F|\u2460-\u24FF|\u2500-\u257F|\u2580-\u259F|\u25A0-\u25FF|\u2600-\u26FF|\u2700-\u27BF|\u27C0-\u27EF|\u27F0-\u27FF|\u2800-\u28FF|\u2900-\u297F|\u2980-\u29FF|\u2A00-\u2AFF|\u2B00-\u2BFF|\u2E80-\u2EFF|\u2F00-\u2FDF|\u2FF0-\u2FFF|\u3000-\u303F|\u3040-\u309F|\u30A0-\u30FF|\u3100-\u312F|\u3130-\u318F|\u3190-\u319F|\u31A0-\u31BF|\u31F0-\u31FF|\u3200-\u32FF|\u3300-\u33FF|\u3400-\u4DBF|\u4DC0-\u4DFF|\u4E00-\u9FFF|\uA000-\uA48F|\uA490-\uA4CF|\uAC00-\uD7AF|\uD800-\uDB7F|\uDB80-\uDBFF|\uDC00-\uDFFF|\uE000-\uF8FF|\uF900-\uFAFF|\uFB00-\uFB4F|\uFB50-\uFDFF|\uFE00-\uFE0F|\uFE20-\uFE2F|\uFE30-\uFE4F|\uFE50-\uFE6F|\uFE70-\uFEFF|\uFF00-\uFFEF|\uFFF0-\uFFFF]/,_handleKeyPress:function(t){var i,n,o,a,r,s,l=this.$element.find(this._SELECTABLE_SELECTOR),c=l.filter(".is-highlighted"),d=l.index(c),u="";if(l.length)switch(t.which){case 13:case 32:case 27:case 33:case 37:case 38:case 34:case 39:case 40:case 36:case 35:case 9:break;default:if(clearTimeout(this._keypressTimeoutID),u=String.fromCharCode(t.which),this._unicodeRangesRegExp.test(u)||(u=""),""===u)return;for(this._keypressSearchString+=u!==this._keypressSearchString?u:"",this._keypressTimeoutID=setTimeout(function(){this._keypressSearchString=""}.bind(this),this._keypressTimeoutDuration),n=-1===d?0:1===this._keypressSearchString.length?d+1:d,r=new RegExp("^"+this._keypressSearchString.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),"i"),o=n;o<l.length;o++)if(a=l.eq(o),s=e.trim(a.data("display")||a.text()),r.test(s)){i=a;break}if(void 0===i)for(o=0;o<n;o++)if(a=l.eq(o),s=e.trim(a.data("display")||a.text()),r.test(s)){i=a;break}void 0!==i&&this.setCaretToItem(i,!0)}},_makeAccessibleListOption:function(t){t.each((function(t,i){var n,o=e(i);o.hasClass("coral-SelectList-item--optgroup")?((n=o.children(".coral-SelectList-groupHeader")).attr({id:n.attr("id")||CUI.util.getNextId(),role:"heading"}),o.attr({role:"presentation"}).children("ul").each((function(t,i){e(i).attr({role:"group","aria-labelledby":n.attr("id")})})).children("li").each((function(t,i){var n=e(i);n.attr({role:"option",id:n.attr("id")||CUI.util.getNextId()})}))):o.attr({role:"option",id:o.attr("id")||CUI.util.getNextId()})}))},setCaretToItem:function(e,t){this.$element.find(".coral-SelectList-item--option").removeClass("is-highlighted").removeAttr("tabindex"),e.addClass("is-highlighted").attr("tabindex",0),this._ownerElement.attr("aria-activedescendant",e.attr("id")),this.$element.attr("aria-activedescendant",e.attr("id")),this._hasFocus()?e.trigger("focus"):t&&this.scrollToItem(e)},resetCaret:function(){this.$element.find('[role="option"]').removeClass("is-highlighted").removeAttr("tabindex"),this.$element.scrollTop(0),this._ownerElement.removeAttr("aria-activedescendant"),this.$element.removeAttr("aria-activedescendant")},scrollToItem:function(e){if(e.length){var t=e.position().top,i=e.outerHeight(!1),n=this.$element[0],o=t+i-n.clientHeight;o>0?n.scrollTop+=o:t<0&&(n.scrollTop+=t)}},show:function(){return this.options.visible?this:(o(),this.inherited(arguments))},_show:function(){var t=this,i=this.$element.find(this._SELECTABLE_SELECTOR+'[aria-selected="true"], '+this._SELECTABLE_SELECTOR+'[tabindex="0"], '+this._SELECTABLE_SELECTOR+".is-highlighted").first();(this.$element.addClass("is-visible").attr("aria-hidden",!1),this._ownerElement.attr("aria-expanded",!0),this._position(),this.options.autofocus&&(0===i.length&&(i=this.$element.find(this._SELECTABLE_SELECTOR).first()),this.setCaretToItem(i,!0)),"dynamic"===this.options.type)&&(this._outstandingRequest||this._handleLoadData()).done((function(){t.options.autofocus&&t.setCaretToItem(t.$element.find(t._SELECTABLE_SELECTOR).first(),!0)}));e(document).on("keydown.cui-selectlist",this._handleKeyDown.bind(this)).on("keypress.cui-selectlist",this._handleKeyPress.bind(this))},_position:function(){if(this.options.visible){this.$element.position({my:"top",at:this.options.position,of:this.options.relatedElement,collision:this.options.collisionAdjustment});var t=e(this.options.relatedElement);this.$element.offset().top<t.offset().top?(this.$element.removeClass("is-below").addClass("is-above"),t.removeClass("is-above").addClass("is-below")):(this.$element.removeClass("is-above").addClass("is-below"),t.removeClass("is-below").addClass("is-above"))}},_hide:function(){e(this.options.relatedElement);var t=this._ownerElement,i=!0,o=this._hasFocus();this.$element.removeClass("is-visible").attr("aria-hidden",!0),this._ownerElement.attr("aria-expanded",!1),this.reset(),e(n).each((function(){var t=e(this).data("selectList");t&&!t.get("autohide")&&t.get("visible")&&(i=!1)})),i&&e(document).off("keydown.cui-selectlist keypress.cui-selectlist"),t.removeAttr("aria-activedescendant"),t.length&&o&&setTimeout(this._restoreFocusToOwnerElement.bind(this),50)},_triggerSelected:function(t){var i=e(t.currentTarget),n=i.data("value"),o=i.data("display")||i.text();i.trigger(e.Event("selected",{selectedValue:n,displayedValue:o}))},_handleMouseEnter:function(t){this.setCaretToItem(e(t.currentTarget),!1)},clearItems:function(){this.$element.empty()},_pagestart:0,_loadingComplete:!1,_loadingIsActive:!1,_outstandingRequest:null,_handleLoadData:function(){var t,i=this,n=this._pagestart+this.options.datapagesize;return this._outstandingRequest&&"function"==typeof this._outstandingRequest.abort?this._outstandingRequest.abort():(e("<div/>",{class:"coral-SelectList-item--wait",role:"presentation"}).append(e("<span/>",{class:"coral-Wait",role:"progressbar"})).appendTo(i.$element),this._position(),this._loadingIsActive=!0),this.options.dataurl?t=e.ajax({url:this.options.dataurl,context:this,dataType:this.options.dataurlformat,data:e.extend({start:this._pagestart,end:n},this.options.dataadditional||{})}).done((function(t){var n=0;if("html"===i.options.dataurlformat){var o=e(t);n=o.filter("li").length,i._makeAccessibleListOption(o),i.$element.append(o)}n<i.options.datapagesize&&(this._loadingComplete=!0)})):(t=this.options.loadData.call(this,this._pagestart,n)).done((function(e){void 0!==e&&(i._loadingComplete=e)})),t.done((function(){i._pagestart=n})),t.always((function(){i.$element.find(".coral-SelectList-item--wait").remove(),i._position(),i._loadingIsActive=!1,i._outstandingRequest=null})),this._outstandingRequest=t,t},reset:function(){"dynamic"===this.options.type&&(this.clearItems(),this._pagestart=0,this._loadingComplete=!1)},triggerLoadData:function(e){e&&this.reset(),this._handleLoadData()},filter:function(t){var i=this.$element.find(".coral-SelectList-item--option"),n=this.$element.find(".coral-SelectList-item--optgroup");t?(i.each((function(){var i=e(this),n=!t.call(this,i.data("value"),i.data("display")||i.text());i.toggleClass("is-hidden",n),n&&i.removeClass("is-highlighted")})),n.each((function(){var t=e(this),i=t.find('[role="option"]:not(.is-hidden)').length>0;t.toggleClass("is-hidden",!i)}))):(i.removeClass("is-hidden"),n.removeClass("is-hidden")),this._position()}}),CUI.Widget.registry.register("selectlist",CUI.SelectList),CUI.options.dataAPI&&e(document).on("cui-contentloaded.data-api",(function(t){CUI.SelectList.init(e("[data-init~=selectlist]",t.target))}));var n=".coral-SelectList",o=function(){e(n).each((function(){var t=e(this).data("selectList");t&&t.get("autohide")&&t.hide()}))},a=function(){var t,i=CUI.util.getDataTarget(e(this));return i.length&&((t=i.data("selectList")).get("relatedElement")||(t.set("relatedElement",this),t._makeAccessible()),t.resetCaret(),t.toggleVisibility()),!1};e(document).on("click.cui-selectlist",o).on("click.cui-selectlist",n,(function(e){e.stopPropagation()})).on("click.cui-selectlist","[data-toggle~=selectlist]",a).on("keydown.cui-selectlist-toggleSelector","[data-toggle~=selectlist]",(function(t){var i=CUI.util.getDataTarget(e(this)),n=i.data("selectList"),o=i.length&&i.hasClass("is-visible");switch(t.which){case 40:i.length&&!o&&a.call(this),t.preventDefault();break;case 9:o&&n.get("autohide")&&t.preventDefault()}}))}(jQuery),function(e,t,i){CUI.SelectList.Item=new Class({toString:"SelectList.Item",$element:void 0,_cachedPosition:null,construct:function(t){this.$element=e(t.element)},getPosition:function(){var e=this.$element.index();return e>-1?e:this._cachedPosition},getDisplay:function(){throw new Error("Subclass responsibility")},remove:function(){var t=this._getParent();this._cachedPosition=this.getPosition(),this.$element.remove(),t.trigger(e.Event("itemremoved",{item:this}))},_getParent:function(){throw new Error("Subclass responsibility")}})}(jQuery),jQuery,CUI.SelectList.Option=new Class({toString:"SelectList.Option",extend:CUI.SelectList.Item,getDisplay:function(){return this.$element.text()},getValue:function(){return this.$element.attr("data-value")},_getParent:function(){return this.$element.closest(".coral-SelectList, .coral-SelectList-item--optgroup")}}),function(e,t,i){CUI.SelectList.Group=new Class({toString:"SelectList.Group",extend:CUI.SelectList.Item,getDisplay:function(){return this.$element.children("span").text()},getItems:function(){return this._getItems().toArray().map((function(e){return new CUI.SelectList.Option({element:e})}))},getOption:function(t){if(!e.isNumeric(t))throw new TypeError("Position should be numeric");var i=this._getItems(),n=i.eq(t);if(t<0||0===n.length)throw new RangeError("Position >"+t+"< is not within expected range [0,"+(i.length-1)+"]");return new CUI.SelectList.Option({element:n})},addOption:CUI.SelectList.prototype.addOption,_addItem:CUI.SelectList.prototype._addItem,_getList:function(){return this.$element.children(".coral-SelectList-sublist").first()},_getItems:CUI.SelectList.prototype._getItems,_makeAccessibleListOption:CUI.SelectList.prototype._makeAccessibleListOption,_getParent:function(){return this.$element.parent()}})}(jQuery),function(e,t,i){CUI.TagList=new Class({toString:"TagList",extend:CUI.Widget,construct:function(e){var t=this;this.applyOptions(),this.$element.on("change:values",this._setValues.bind(this)).on("change:disabled",this._toggleDisabled.bind(this)),this.$element.on("click","button",(function(e){var i=t.$element.children().has(e.currentTarget).find("input");t.removeItem(i.val())})),this._makeAccessible()},defaults:{fieldname:"",values:null,disabled:!1,tag:"li",renderer:null},_existingValues:null,applyOptions:function(){var t=this;this._existingValues=[],this.options.values=this.options.values||[],this.options.values.length>0?this._setValues():this.$element.find("input").each((function(i,n){var o=e(n);t._existingValues.push(o.attr("value"))})),this._toggleDisabled(this.options.disabled)},_setValues:function(){var e=this.options.values;this.$element.empty(),this.options.values=[],this.addItem(e)},_makeAccessible:function(){this.$element.attr({role:"listbox"}),this.$element.children(this.options.tag).attr({role:"option",tabindex:0}).on("keydown",this._onKeyDown.bind(this)).children(".coral-TagList-tag-removeButton").attr({tabindex:-1})},_onKeyDown:function(t){if(8===t.which){t.preventDefault(),t.stopPropagation();var i=e(t.currentTarget).next();0===i.length&&(i=e(t.currentTarget).prev()),this.removeItem(e(t.currentTarget).children("input").val()),i.focus()}},_show:function(){this.$element.show().attr("aria-hidden",!1)},_hide:function(){this.$element.hide().attr("aria-hidden",!0)},_removeItem:function(t){var i=this.$element.children(':has(input[value="'+t+'"])');i.length>0&&(i.remove(),this.$element.trigger(e.Event("itemremoved"),{value:t}))},_appendItem:function(t){var i,n;if("string"===e.type(t)?i=n=t:(i=t.display,n=t.value),n+="",!(e.inArray(n,this._existingValues)>-1||0===n.length)){this._existingValues.push(n);var o=this.options.renderer||this._renderTag,a=e(o.call(this,n,i));a.on("keydown",this._onKeyDown.bind(this)),this._toggleItemDisabled(a[0],this.options.disabled),this.$element.append(a),this.$element.trigger(e.Event("itemadded"),{value:n,display:i})}},_renderTag:function(t,i){var n,o;return n=e("<"+this.options.tag+"/>",{role:"option",tabindex:"0",class:"coral-TagList-tag"+(this.options.multiline?" coral-TagList-tag--multiline":""),title:i}),o=e("<button/>",{class:"coral-MinimalButton coral-TagList-tag-removeButton",type:"button",tabindex:"-1",title:"Remove"}).appendTo(n),e("<i/>",{class:"coral-Icon coral-Icon--sizeXS coral-Icon--close"}).appendTo(o),e("<span/>",{class:"coral-TagList-tag-label",text:i}).appendTo(n),e("<input/>",{type:"hidden",value:t,name:this.options.fieldname}).appendTo(n),n},_toggleDisabled:function(e){var t="boolean"==typeof e?e:this.options.disabled,i=this._getItems();this.$element.toggleClass("is-disabled",t),this.$element.attr("aria-disabled",t),i.map(function(e){this._toggleItemDisabled(e,t)}.bind(this))},_toggleItemDisabled:function(t,i){var n="boolean"==typeof i?i:this.options.disabled;e(t).find("input, button").each((function(t,i){e(i).prop("disabled",n)})),e(t).attr("tabindex",n?-1:0)},_getItems:function(){var e=this.$element.children();return this._existingValues.map((function(t){var i=e.has('input[value="'+t+'"]');return i.length>1&&(i=i.first()),!!i.length&&i[0]})).filter((function(e){return e}))},removeItem:function(e){var t=this._existingValues.indexOf(""+e);t>-1&&(this._existingValues.splice(t,1),this._removeItem(e))},addItem:function(t){var i=this,n=e.isArray(t)?t:[t];e.each(n,(function(e,t){i._appendItem(t)}))},getValues:function(){return this._existingValues.slice(0)}}),CUI.Widget.registry.register("taglist",CUI.TagList),CUI.options.dataAPI&&e(document).on("cui-contentloaded.data-api",(function(t){CUI.TagList.init(e("[data-init~=taglist]",t.target))}))}(jQuery),function(e,t,i){CUI.Select=new Class({toString:"Select",extend:CUI.Widget,construct:function(){this._button=this.$element.children(".coral-Select-button"),this._buttonText=this._button.children(".coral-Select-button-text"),this._nativeSelect=this.$element.children(".coral-Select-select"),this._selectList=this.$element.children(".coral-SelectList"),this._tagList=this.$element.children(".coral-TagList"),this._valueInput=this.$element.children("input[type=hidden]"),this.$element.on("change:disabled",function(e){e.target===this.$element[0]&&this._toggleDisabled()}.bind(this)),this.applyOptions()},defaults:{type:"static",disabled:!1,nativewidget:!1,nativewidgetonmobile:!0,multiple:!1,tagConfig:null,selectlistConfig:null},applyOptions:function(){switch(this._nativeSelect.length>0&&this._nativeSelect.prop("multiple")&&(this.options.multiple=!0),this._createSelectList(),(this.options.disabled||this._button.hasClass("is-disabled")||this.$element.data("disabled"))&&this.set("disabled",!0),this._nativeSelect.removeClass("coral-Select-select--native"),this._nativeSelect.off(".selectlist"),this._button.off(".selectlist"),this._getModeOfOperation()){case"nativeselect":this._prepareSelectForInteraction(),this._disableKeyboardInteractionWithSelectList();break;case"selectlist":this._prepareSelectListForInteraction(),this._disableKeyboardInteractionWithNativeSelect();break;case"hybrid":this._prepareSelectForInteraction(),this._prepareSelectListForInteraction(),this._hybridEventHandling(),this._disableKeyboardInteractionWithNativeSelect()}this.options.multiple?this._setTagList():"static"===this.options.type&&this._handleNativeSelect(),this._makeAccessible()},_makeAccessible:function(){var i,n,o,a=!!t.navigator.platform.match(/(Mac|iPhone|iPod|iPad)/i);this._button.attr({id:this._button.attr("id")||CUI.util.getNextId()}),this._button.hasClass("is-invalid")&&(this._button.attr({"aria-invalid":!0}),this._nativeSelect.attr({"aria-invalid":!0}),this._selectList.attr({"aria-invalid":!0})),i=this._nativeSelect.length&&this._nativeSelect.attr("id")?'label[for="'+this._nativeSelect.attr("id")+'"]':'label[for="'+this._button.attr("id")+'"]',(n=e(i)).attr({id:n.attr("id")||CUI.util.getNextId()}),o=n.attr("id"),this._buttonText.attr({id:this._buttonText.attr("id")||CUI.util.getNextId()}),this._button.attr({role:a?"button":"combobox","aria-expanded":!1,"aria-haspopup":!0,"aria-labelledby":o?this._buttonText.attr("id")+" "+o:null,"aria-owns":this._selectList.attr("id"),"aria-multiselectable":this.options.multiple||null}),this._selectListWidget&&this._selectListWidget._makeAccessible(),this._selectList.attr({"aria-controls":this._button.attr("id"),"aria-multiselectable":this.options.multiple||null}),n.length&&!this._button.is("[aria-hidden=true]")&&n.on("click.selectLabel",function(e){this._button.focus(),e.preventDefault()}.bind(this))},getValue:function(){return this.options.multiple?this._tagListWidget.getValues():"static"===this.options.type?this._nativeSelect[0][this._nativeSelect[0].selectedIndex].value:"dynamic"===this.options.type?this._valueInput.val():null},setValue:function(t){var i=this;void 0===t?t=[]:e.isArray(t)||(t=[t]);var n=[],o=function(e){var o=e.getValue();-1===t.indexOf(o)?n.push(o):i._select(o,e.getDisplay())};this.getItems().forEach((function(e){e instanceof CUI.SelectList.Option?o(e):e instanceof CUI.SelectList.Group&&e.getItems().forEach(o)})),this._deselect(n)},getItems:function(){return this._selectListWidget.getItems()},getOption:function(e){return this._selectListWidget.getOption(e)},getGroup:function(e){return this._selectListWidget.getGroup(e)},addOption:function(e,t){this._selectListWidget.addOption(e,t)},addGroup:function(e,t){this._selectListWidget.addGroup(e,t)},_getModeOfOperation:function(){return"dynamic"===this.options.type?"selectlist":this.options.nativewidget?"nativeselect":this.options.nativewidgetonmobile?"hybrid":"selectlist"},_hybridEventHandling:function(){var e=!1,t=!1,i=this;this._nativeSelect.on("touchstart.selectlist",(function(){e=!0})).on("pointerdown.selectlist",(function(t){t.originalEvent&&"touch"===t.originalEvent.pointerType&&(e=!0)})).on("MSPointerDown.selectlist",(function(t){t.originalEvent&&2===t.originalEvent.pointerType&&(e=!0)})).on("mousedown.selectlist",(function(n){e?e=!1:1===n.which&&(i._nativeSelect.attr("disabled","disabled"),setTimeout((function(){i._nativeSelect.removeAttr("disabled"),i._button.focus()}),0),t=!0,i._button.click())})).on("click.selectlist",(function(e){t&&(e.stopPropagation(),t=!1)})).on("mouseenter.selectlist mouseleave.selectlist",(function(e){i._button.toggleClass("is-hovered","mouseenter"===e.type)})).on("focus.selectlist",(function(e){i._button.toggleClass("is-focused","focus"===e.type)})).on("blur.selectlist",(function(e){i._button.removeClass("is-focused")}))},_disableKeyboardInteractionWithNativeSelect:function(){this._nativeSelect.attr({tabindex:"-1","aria-hidden":!0}),this._nativeSelect.off("focusin.nativeselect focusout.nativeselect keydown.nativeselect pointerdown.nativeselect MSPointerDown.nativeselect mousedown.nativeselect")},_disableKeyboardInteractionWithSelectList:function(){this._button.attr({tabindex:"-1","aria-hidden":!0})},_prepareSelectForInteraction:function(){var e=this;e._nativeSelect.addClass("coral-Select-select--native"),e._nativeSelect.css({height:e._button.outerHeight()}),e._nativeSelect.on("change.select",e._handleNativeSelect.bind(e)),e._nativeSelect.on("focusin.nativeselect",(function(){e._button.addClass("is-focused")})),e._nativeSelect.on("focusout.nativeselect",(function(t){e._button.removeClass("is-focused")}))},_createSelectList:function(){var t=this,i="static";0===this._selectList.length?this._selectList=e("<ul/>",{id:CUI.util.getNextId(),class:"coral-SelectList"}).appendTo(this.$element):this._selectList.attr("id")||this._selectList.attr("id",CUI.util.getNextId()),this._nativeSelect.length>0?this._parseMarkup():i="dynamic",this._selectList.selectList(e.extend({relatedElement:this._button,type:i},this.options.selectlistConfig||{})),this._selectListWidget=this._selectList.data("selectList"),this._selectList.on("itemadded",this._addItemToSelect.bind(this)).on("itemremoved",(function(e){var i;i=e.item instanceof CUI.SelectList.Group?e.item.getItems().map((function(e){return e.getValue()})):[e.item.getValue()],t._deselect(i),t._removeItemFromSelect(e)}))},_addItemToSelect:function(t){var i;if(t.item instanceof CUI.SelectList.Option)(i=e("<option>")).attr("value",t.item.getValue());else{if(!(t.item instanceof CUI.SelectList.Group))return;i=e("<optgroup>")}i.text(t.item.getDisplay());var n=this._nativeSelect;t.target!=this._selectList.get(0)&&(n=n.children().eq(e(t.target).closest(".coral-SelectList-item--optgroup").index()));var o=t.item.getPosition();o>=n.children().length?n.append(i):0===o?n.prepend(i):n.children().eq(o).before(i)},_removeItemFromSelect:function(t){var i=this._nativeSelect;t.target!=this._selectList.get(0)&&(i=i.children().eq(e(t.target).closest(".coral-SelectList-item--optgroup").index())),i.children().eq(t.item.getPosition()).remove()},_prepareSelectListForInteraction:function(){var e=this;this._button.attr({"data-toggle":"selectlist","data-target":"#"+this._selectList.attr("id")}),this._selectList.on("selected.select",this._handleSelectedFromSelectList.bind(this)).on("show.select hide.select",(function(t){"show"!==t.type&&e._button.removeClass("is-above is-below"),e._button.toggleClass("is-active","show"===t.type)}))},_handleNativeSelect:function(t){var i,n,o=this;o.options.multiple?(e.each(o._nativeSelect[0].options,(function(e,t){t.selected?o._tagListWidget.addItem({value:t.value,display:t.text}):o._tagListWidget.removeItem(t.value)})),i=o._tagListWidget.getValues()):o._nativeSelect[0]&&(n=o._nativeSelect[0][o._nativeSelect[0].selectedIndex],o._buttonText.text(n?n.text:""),i=n?n.value:null),t&&this.$element.trigger(e.Event("selected",{selected:i}))},_syncSelectionToNativeSelect:function(t){this._nativeSelect.length&&e.each(this._nativeSelect[0].options,(function(e,i){i.selected=t.indexOf(i.value)>-1}))},_syncSelectionToSelectList:function(t){this._selectList.length&&e.each(this._selectList.find(this._selectListWidget._SELECTABLE_SELECTOR),(function(i,n){var o=e(n);o.attr("aria-selected",t.indexOf(o.attr("data-value"))>-1)}))},_parseMarkup:function(){var t=this,i=this._nativeSelect.children("optgroup");function n(i,n){i.children("option").each((function(i,o){var a=e(o);e("<li/>",{class:"coral-SelectList-item coral-SelectList-item--option","data-value":a.val(),text:a.text()}).appendTo(n).toggleClass("is-disabled",o.hasAttribute("disabled")).attr("aria-selected",o.hasAttribute("selected")&&!t.options.multiple)}))}i.length>0?i.each((function(i,o){var a=e(o),r=e("<li/>",{class:"coral-SelectList-item coral-SelectList-item--optgroup"}).append(e("<span/>",{class:"coral-SelectList-groupHeader",text:a.attr("label")}));n(a,e("<ul/>",{class:"coral-SelectList-sublist"}).appendTo(r)),t._selectList.append(r)})):n(this._nativeSelect,this._selectList)},_setTagList:function(){var t=this;0===this._tagList.length&&(this._tagList=e("<ol/>",{class:"coral-TagList"}).appendTo(this.$element)),this._tagList.tagList(this.options.tagConfig||{}),this._tagListWidget=this._tagList.data("tagList"),this._tagList.on("itemremoved",(function(e,i){var n=t._tagListWidget.getValues();t._syncSelectionToNativeSelect(n),t._syncSelectionToSelectList(n)})),this._handleNativeSelect()},_handleSelectedFromSelectList:function(t){t&&t.stopPropagation(),this._selectListWidget.hide(),this._select(t.selectedValue,t.displayedValue),this._button.trigger("focus"),this.$element.trigger(e.Event("selected",{selected:this.getValue()}))},_select:function(e,t){var i;this.options.multiple?(this._tagListWidget.addItem({value:e,display:t}),i=this._tagListWidget.getValues()):(this._buttonText.text(t),this._valueInput.val(e),i=[""+e]),this._syncSelectionToNativeSelect(i),this._syncSelectionToSelectList(i)},_deselect:function(e){var t,i=this;if(this.options.multiple)e.forEach((function(e){i._tagListWidget.removeItem(e)})),t=this._tagListWidget.getValues();else if(e.indexOf(this.getValue())>-1){var n,o,a=this._getFirstOptionWithoutValues(this._getAllOptions(),e);a?(n=a.getValue(),o=a.getDisplay(),t=[n]):(n="",o="",t=[]),this._buttonText.text(o),this._valueInput.val(n)}t&&(this._syncSelectionToNativeSelect(t),this._syncSelectionToSelectList(t))},_toggleDisabled:function(e){var t="boolean"==typeof e?e:this.options.disabled;this._button.toggleClass("is-disabled",t),this._button.attr("aria-disabled",t),this._button.prop("disabled",t),this._nativeSelect.prop("disabled",t),this._selectList.attr("aria-disabled",t),this._tagListWidget&&this._tagListWidget.set("disabled",t),e&&this._selectListWidget&&this._selectListWidget.hide()},_getFirstOptionWithoutValues:function(e,t){for(var i=0;i<e.length;i++){var n=e[i];if(-1===t.indexOf(n.getValue()))return n}},_getAllOptions:function(){for(var e=this.getItems(),t=[],i=0;i<e.length;i++){var n=e[i];n instanceof CUI.SelectList.Group?t=t.concat(n.getItems()):t.push(n)}return t}}),CUI.Widget.registry.register("select",CUI.Select),CUI.options.dataAPI&&e(document).on("cui-contentloaded.data-api",(function(t){CUI.Select.init(e("[data-init~=select]",t.target))}))}(jQuery,this),function(e){CUI.Tooltip=new Class({toString:"Tooltip",extend:CUI.Widget,construct:function(t){if(this.options.target&&(this.options.target=e(this.options.target)),0===this.$element.length&&this.options.target&&(this.$element=e("<div>"),this.$element.insertAfter(this.options.target)),this.$element.addClass("coral-Tooltip"),this.$element.data("interactive")&&(this.options.interactive=!0,this.options.target||(this.options.target=this.$element.parent())),this.$element.data("target")&&(this.options.target=e(this.$element.data("target"))),this.options.arrow||(this.options.arrow="left",this.$element.hasClass("coral-Tooltip--positionRight")&&(this.options.arrow="left"),this.$element.hasClass("coral-Tooltip--positionLeft")&&(this.options.arrow="right"),this.$element.hasClass("coral-Tooltip--positionBelow")&&(this.options.arrow="top"),this.$element.hasClass("coral-Tooltip--positionAbove")&&(this.options.arrow="bottom")),this.options.type||(this.options.type="info",this.$element.hasClass("coral-Tooltip--info")&&(this.options.type="info"),this.$element.hasClass("coral-Tooltip--error")&&(this.options.type="error"),this.$element.hasClass("coral-Tooltip--success")&&(this.options.type="success"),this.$element.hasClass("coral-Tooltip--notice")&&(this.options.type="notice"),this.$element.hasClass("coral-Tooltip--inspect")&&(this.options.type="inspect")),this.options.interactive&&(this.options.visible=!1),this.$element.toggleClass("is-hidden",!this.options.visible),this.$element.on("change:content",this._setContent.bind(this)),this.$element.on("change:type",this._setType.bind(this)),this.$element.on("change:arrow",this._setArrow.bind(this)),this.applyOptions(),this.reposition(),this._makeAccessible(),this.options.target&&this.options.target.data("tooltip",this),this.options.interactive&&this.options.target){var i=null;e(this.options.target).on("touchstart.cui-tooltip",function(e){i&&clearTimeout(i),this.show(),i=setTimeout(function(){this.hide()}.bind(this),3e3)}.bind(this));var n=!1;e(this.options.target).on("mouseover.cui-tooltip focusin.cui-tooltip",function(e){n&&clearTimeout(n),n=setTimeout(function(){this.show(),this.$element.attr("aria-hidden","false")}.bind(this),this.options.delay)}.bind(this)),e(this.options.target).on("focusout.cui-tooltip",function(e){n&&clearTimeout(n),this.hide(),this.$element.attr("aria-hidden","true")}.bind(this)),e(this.options.target).on("mouseout.cui-tooltip",function(t){e(document.activeElement).is(this.options.target)||(n&&clearTimeout(n),this.hide(),this.$element.attr("aria-hidden","true"))}.bind(this))}},_makeAccessible:function(){this.$element.attr({role:"tooltip",id:this.$element.attr("id")||CUI.util.getNextId()}),this.options.target&&this.options.target.attr("aria-describedby",this.$element.attr("id")),e(this.options.target).is(":empty")&&e(this.options.target).attr("aria-label",this.options.content)},defaults:{target:null,visible:!0,type:null,interactive:!1,arrow:null,delay:500,distance:5},_stylesTypes:{info:"coral-Tooltip--info",error:"coral-Tooltip--error",notice:"coral-Tooltip--notice",success:"coral-Tooltip--success",inspect:"coral-Tooltip--inspect"},_arrows:{left:"coral-Tooltip--positionRight",right:"coral-Tooltip--positionLeft",top:"coral-Tooltip--positionBelow",bottom:"coral-Tooltip--positionAbove"},applyOptions:function(){this._setContent(),this._setType(),this._setArrow()},_setType:function(){if("string"==typeof this.options.type&&this._stylesTypes.hasOwnProperty(this.options.type)){var e=this._stylesTypes.info+" "+this._stylesTypes.error+" "+this._stylesTypes.notice+" "+this._stylesTypes.success+" "+this._stylesTypes.inspect;this.$element.removeClass(e),this.$element.addClass(this._stylesTypes[this.options.type]),this.reposition()}},_setArrow:function(){if("string"==typeof this.options.arrow&&this._arrows.hasOwnProperty(this.options.arrow)){var e=this._arrows.left+" "+this._arrows.right+" "+this._arrows.top+" "+this._arrows.bottom;this.$element.removeClass(e),this.$element.addClass(this._arrows[this.options.arrow]),this.reposition()}},_setContent:function(){"string"==typeof this.options.content&&(this.$element.html(this.options.content),this.reposition())},_show:function(){this.$element.hasClass("is-hidden")&&(this.$element.removeClass("is-hidden"),this.$element.css("display","none")),this.$element.fadeIn(),e(document).on("keydown.cui-tooltip",function(e){27===e.which&&(this._hide(),e.preventDefault(),e.stopPropagation())}.bind(this))},_hide:function(){return this.$element.fadeOut(400,function(){this.options.autoDestroy&&(this.$element.remove(),e(this.options.target).off(".cui-tooltip"),e(this.options.target).data("tooltip",null)),e(document).off("keydown.cui-tooltip")}.bind(this)),this},reposition:function(){if(this.options.target){this.$element.detach().insertAfter(this.options.target),this.$element.css("position","absolute");var t=e(this.options.target),i=t.outerWidth(!0),n=t.outerHeight(!0),o=t.position().left,a=t.position().top,r=t.offsetParent();r.is("html")||(a+=r.scrollTop(),o+=r.scrollLeft());var s=this.$element.outerWidth(!0),l=this.$element.outerHeight(!0),c=0,d=0;return"left"===this.options.arrow&&(c=o+i+this.options.distance,d=a+(n-l)/2),"right"===this.options.arrow&&(c=o-s-this.options.distance,d=a+(n-l)/2),"bottom"===this.options.arrow&&(c=o+(i-s)/2,d=a-l-this.options.distance),"top"===this.options.arrow&&(c=o+(i-s)/2,d=a+n+this.options.distance),this.$element.css("left",c),this.$element.css("top",d),this}}}),CUI.Widget.registry.register("tooltip",CUI.Tooltip),CUI.options.dataAPI&&(e(document).on("cui-contentloaded.data-api",(function(t){CUI.Tooltip.init(e("[data-init~=tooltip]",t.target)),e("[data-init~=quicktip][data-quicktip-content]:empty").not("[aria-label], [aria-labelledby], img[alt], input, select, textarea, button").each((function(t,i){var n=e(i);1===n.closest("label").length||n.attr("id")&&e('label[for="'+n.attr("id")+'"]').length>0||n.attr("aria-label",n.attr("data-quicktip-content"))})),e("[data-init~=quicktip]").not("input, select, textarea, button").not(":tabbable").attr("tabindex",0)})),e(document).on("touchstart mouseover focusin","[data-init~=quicktip]",(function(t){var i,n=e(this),o=n.data("tooltip"),a=function(t){t.hide(),n.removeAttr("aria-describedby"),n.off("mouseout.cui-quicktip focusout.cui-quicktip"),e(window).off("keydown.cui-tooltip mousedown.cui-tooltip")};if(!o)switch(i=new CUI.Tooltip({target:n,content:n.data("quicktip-content")||n.html(),type:n.data("quicktip-type"),arrow:n.data("quicktip-arrow"),interactive:!1,autoDestroy:!0,visible:!1}).show(),n.data("quicktip",i),t.type){case"mouseover":case"focusin":"mouseover"===t.type?n.on("mouseout.cui-quicktip",(function(){e(document.activeElement).is(n)||a(i)})):n.on("focusout.cui-quicktip",(function(){a(i)})),e(window).on("keydown.cui-tooltip",(function(e){27===e.which&&(a(i),e.preventDefault())})).on("mousedown.cui-tooltip",(function(e){n.is(e.target)||i.$element.is(e.target)||a(i)}));break;default:setTimeout((function(){a(i)}),3e3)}})))}(window.jQuery),function(e,t,i){var n;CUI.Slider=new Class({toString:"Slider",extend:CUI.Widget,construct:function(){var t=this,i=this.$element.attr("id"),n=[];this._readOptions(),i||(i=CUI.util.getNextId(),this.$element.attr("id",i)),this._renderMissingElements(),this.$inputs=this.$element.find("input"),this.$inputs.each((function(i,o){var a=e(o);a.is("[step]")||a.attr("step",t.options.step),a.is("[min]")||a.attr("min",t.options.min),a.is("[max]")||a.attr("max",t.options.max),a.is("[value]")?n.push(a.attr("value")):(a.attr({value:t.options.value}),n.push(t.options.value)),0===i&&(a.is(":disabled")?(t.options.disabled=!0,t.$element.addClass("is-disabled")):t.options.disabled&&(a.attr("disabled","disabled"),t.$element.addClass("is-disabled")))})),t.values=n,"vertical"===this.options.orientation&&(this.isVertical=!0),this.$element.on("touchstart.slider pointerdown.slider mspointerdown.slider mousedown.slider",this._mouseDown.bind(this)).on("focusin.slider","input[type=range], [role=slider].coral-Slider-handle",this._focus.bind(this)).on("focusout.slider","input[type=range], [role=slider].coral-Slider-handle",this._blur.bind(this)).on("input.slider change.slider","input",this._handleInputChange.bind(this)),this.$element.on("change:value",this._processValueChanged.bind(this)).on("change:disabled",this._processDisabledChanged.bind(this)).on("change:min",this._processMinMaxStepChanged.bind(this)).on("change:max",this._processMinMaxStepChanged.bind(this)).on("change:step",this._processMinMaxStepChanged.bind(this)),this._render(),this._makeAccessible()},defaults:{step:"1",min:"1",max:"100",value:"1",orientation:"horizontal",slide:!1,disabled:!1,tooltips:!1,tooltipFormatter:function(e){return e.toString()},valuetextFormatter:function(e){return e.toString()},ticks:!1,filled:!1,bound:!1},values:[],$inputs:null,$ticks:null,$fill:null,$handles:null,$tooltips:null,isVertical:!1,draggingPosition:-1,_inputsOrHandles:null,_readOptions:function(){this.$element.hasClass("coral-Slider--vertical")&&(this.options.orientation="vertical",this.isVertical=!0),this.$element.hasClass("coral-Slider--tooltips")&&(this.options.tooltips=!0),this.$element.hasClass("coral-Slider--ticked")&&(this.options.ticks=!0),this.$element.hasClass("coral-Slider--filled")&&(this.options.filled=!0),this.$element.hasClass("coral-Slider--bound")&&(this.options.bound=!0),(this.$element.data("slide")||this.$element.hasClass("coral-Slider--slide"))&&(this.options.slide=!0)},setValue:function(e,t){t=t||0,this._updateValue(t,e,!0),this._moveHandles(),this.options.filled&&this._updateFill()},_renderMissingElements:function(){if(!this.$element.find("input").length){var t,i=this,n=e.isArray(this.options.value)?this.options.value:[this.options.value];e.each(n,(function(n,o){(t=e("<input>")).attr({type:"range",min:i.options.min,max:i.options.max,step:i.options.step,value:o}),i.$element.append(t)}))}if(!this.$element.find("div.coral-Slider-clickarea").length){var o=e('<div class="coral-Slider-clickarea">');this.$element.prepend(o)}this.$element.toggleClass("coral-Slider",!0),this.$element.toggleClass("coral-Slider--vertical","vertical"===this.options.orientation),this.$element.toggleClass("coral-Slider--tooltips",this.options.tooltips),this.$element.toggleClass("coral-Slider--ticked",this.options.ticks),this.$element.toggleClass("coral-Slider--filled",this.options.filled)},_processValueChanged:function(){var t=this,i=e.isArray(this.options.value)?this.options.value:[this.options.value];e.each(i,(function(e,i){t._updateValue(e,i,!0)})),this._moveHandles(),this.options.filled&&this._updateFill()},_processMinMaxStepChanged:function(){var t=this;this.$inputs.attr({min:this.options.min,max:this.options.max,step:this.options.step,value:""}),this._supportsRangeInput||this.$handles.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuestep":this.options.step}),e.each(this.values,(function(e,i){t._updateValue(e,i,!0)})),this.options.ticks&&(this.$element.find(".coral-Slider-ticks").remove(),this._buildTicks()),this.options.filled&&(this.$element.find(".coral-Slider-fill").remove(),this._buildFill()),this._moveHandles(),this.options.filled&&this._updateFill()},_processDisabledChanged:function(){this.options.disabled?(this.$inputs.attr("disabled","disabled"),this.$handles.each((function(){e(this).removeClass("is-focused"),e(this).parent().removeClass("is-focused"),this._supportsRangeInput||e(this).attr("aria-disabled",!0)}))):(this.$inputs.removeAttr("disabled"),this._supportsRangeInput||this.$handles.removeAttr("aria-disabled")),this.$element.toggleClass("is-disabled",this.options.disabled)},_render:function(){var t=this.$inputs.map((function(){return e(this).attr("max")})),i=this.$inputs.map((function(){return e(this).attr("min")})),n=this.$inputs.map((function(){return e(this).attr("step")}));this.options.max=Math.max.apply(null,t.toArray()),this.options.min=Math.min.apply(null,i.toArray()),this.options.step=Math.min.apply(null,n.toArray()),this._adjustLabelling(),this.options.ticks&&this._buildTicks(),this.options.filled&&this._buildFill(),this.$element.toggleClass("coral-Slider--slide",this.options.slide),this._buildHandles()},_buildTicks:function(){var t=e("<div/>").addClass("coral-Slider-ticks"),i=Math.round((this.options.max-this.options.min)/this.options.step)-1,n=this.isVertical?this.$element.height():this.$element.width();this.$element.prepend(t);for(var o=0;o<i;o++){var a=n*(o+1)/(i+1)/n*100,r=e("<div/>").addClass("coral-Slider-tick").css(this.isVertical?"bottom":"left",a+"%");t.append(r)}this.$ticks=t.find(".coral-Slider-tick"),this.options.filled},_buildFill:function(){if(this.$fill=e("<div/>").addClass("coral-Slider-fill"),0!==this.values.length){var t,i,n=this.isVertical?"height":"width",o=this.isVertical?"bottom":"left";this.values.length<2?(t=(this.values[0]-this.options.min)/(this.options.max-this.options.min)*100,this.$fill.css(n,t+"%")):(t=(this._getLowestValue()-this.options.min)/(this.options.max-this.options.min)*100,i=(this._getHighestValue()-this._getLowestValue())/(this.options.max-this.options.min)*100,this.$fill.css(n,i+"%").css(o,t+"%"))}this.$element.prepend(this.$fill),this.options.filled=!0},_buildHandles:function(){var t=this,i=t.$element.attr("id");t.$inputs.each((function(n){var o,a=e(this),r=a.wrap("<div/>").parent().addClass("coral-Slider-value"),s=(t.values[n]-t.options.min)/(t.options.max-t.options.min)*100+"%",l=t.isVertical?"bottom":"left",c=e("<div/>").addClass("coral-Slider-handle u-coral-openHand").css(l,s).attr({id:i+"-handle"+n});if(a.css(l,s),r.append(c),t.options.tooltips&&(o=e("<output>"+a.attr("value")+"</output>").addClass("coral-Tooltip coral-Tooltip--inspect "+(t.isVertical?"coral-Tooltip--positionRight":"coral-Tooltip--positionAbove")).attr({role:"tooltip","aria-hidden":!0,id:a.attr("id")+"-tooltip",for:a.attr("id")}),c.append(o)),t.$inputs.length>1&&a.attr("aria-labelledby"))for(var d,u=a.attr("aria-labelledby").split(" "),h=0;h<u.length;h++)h>0&&(d=e("#"+u[h]),c.prepend(d))})),t.$handles=t.$element.find(".coral-Slider-handle"),t.$tooltips=t.$element.find(".coral-Tooltip"),t._moveHandles()},_handleClick:function(e){if(this.options.disabled)return!1;var i=e.pageX,n=e.pageY,o=/^(ms)?pointerdown$/i.test(e.type);if("touchstart"===e.type){var a=e.originalEvent.touches.length>0?e.originalEvent.touches:e.originalEvent.changedTouches;i=a[0].pageX,n=a[0].pageY}else o&&(i=e.originalEvent.clientX+t.pageXOffset,n=e.originalEvent.clientY+t.pageYOffset);if(void 0!==i&&void 0!==n){var r=this._findNearestHandle(i,n),s=this._getValueFromCoord(i,n,!0);isNaN(s)||(this._updateValue(r,s),this._moveHandles(),this.options.filled&&this._updateFill()),("mousedown"===e.type||o)&&this.$handles.eq(r).data("mousedown",!0),this._inputsOrHandles.eq(r).focus()}},_findNearestHandle:function(t,i){var n=this,o=1/0,a=0;return n.$handles.each((function(r){var s=e(this).offset().left,l=e(this).offset().top,c=e(this).width(),d=e(this).height(),u=Math.abs(t-(s+c/2));"vertical"===n.options.orientation&&(u=Math.abs(i-(l+d/2))),u<o&&(o=u,a=r)})),a},_handleInputChange:function(t){if(this.options.disabled)return!1;var i=e(t.target),n=this.$inputs.index(i);i.val()!==this.values[n]&&(this.setValue(i.val(),n),i.is(document.activeElement)&&(this.$handles.eq(n).removeData("mousedown"),this._focus(t)))},_focus:function(i){if(this.options.disabled)return!1;var n=this,o=e(i.target),a=o.closest(".coral-Slider-value"),r=a.find(".coral-Slider-handle");r.data("mousedown")||(this.$element.addClass("is-focused"),a.addClass("is-focused"),r.addClass("is-focused")),e(t).on("touchstart.slider pointerdown.slider mspointerdown.slider mousedown.slide",(function(t){1!==e(t.target).closest(n.$element).length&&o.trigger("focusout.slider")}))},_blur:function(i){if(this.options.disabled)return!1;var n=e(i.target).closest(".coral-Slider-value"),o=n.find(".coral-Slider-handle");this.$element.removeClass("is-focused"),n.removeClass("is-focused"),o.removeClass("is-focused").removeData("mousedown"),e(t).off("touchstart.slider pointerdown.slider mspointerdown.slider mousedown.slider")},_keyDown:function(t){if(this.options.disabled)return!1;var i=e(t.target),n=t.which||t.keyCode,o=i.closest(".coral-Slider-value").find("input"),a=this.$inputs.index(o),r=this.$handles.eq(a),s=Number(o.val()),l=Number(this.options.step),c=Number(this.options.min),d=Number(this.options.max),u=Math.max(l,Math.round((d-c)/10)),h=!1;switch(r.removeData("mousedown"),this._focus(t),n){case 40:case 37:s-=l,h=!0;break;case 38:case 39:s+=l,h=!0;break;case 33:s+=u-s%u,h=!0;break;case 34:s-=u-(s%u==0?0:u-s%u),h=!0;break;case 35:s=d,h=!0;break;case 36:s=c,h=!0}h&&t.preventDefault(),s!==Number(o.val())&&(this.setValue(s,a),o.trigger("change.slider"))},_mouseDown:function(i){if(this.options.disabled)return!1;i.preventDefault();var n,o=this;this.draggingPosition=-1,this.$handles.each((function(e,t){t===i.target&&(o.draggingPosition=e)})),this.$tooltips.each((function(e,t){t===i.target&&(o.draggingPosition=e)})),this.draggingPosition<0?this._handleClick(i):((n=this.$handles.eq(this.draggingPosition)).addClass("is-dragged"),e("body").addClass("u-coral-closedHand"),e(t).on("touchmove.slider pointermove.slider mspointermove.slider mousemove.slider",this._handleDragging.bind(this)),e(t).on("touchend.slider pointerup.slider mspointerup.slider mouseup.slider",this._mouseUp.bind(this)),("mousedown"===i.type||/^(ms)?pointerdown$/i.test(i.type))&&n.data("mousedown",!0),this._inputsOrHandles.eq(this.draggingPosition).focus())},_handleDragging:function(e){var i=e.pageX,n=e.pageY;if(e.originalEvent.targetTouches){var o=e.originalEvent.targetTouches.item(0);i=o.pageX,n=o.pageY}else/^(ms)?pointermove$/i.test(e.type)&&(i=e.originalEvent.clientX+t.pageXOffset,n=e.originalEvent.clientY+t.pageYOffset);this._updateValue(this.draggingPosition,this._getValueFromCoord(i,n)),this._moveHandles(),this.options.filled&&this._updateFill(),e.preventDefault()},_mouseUp:function(){this.$handles.eq(this.draggingPosition).removeClass("is-dragged"),e("body").removeClass("u-coral-closedHand"),this.draggingPosition=-1,e(t).off("mousemove.slider mspointermove.slider pointermove.slider touchmove.slider"),e(t).off("mouseup.slider mspointerup.slider pointerup.slider touchend.slider")},_clickLabel:function(e){this.options.disabled||this._inputsOrHandles.eq(0).focus()},_updateValue:function(t,i,n){var o,a,r=this,s=r.$inputs.eq(t),l=i.toString(),c=["min","max"],d={};s.val()===l&&s.attr("value")===l&&r.values[t]===l||(i=this._snapValueToStep(i,this.options.min,this.options.max,this.options.step),2===r.$inputs.length&&this.options.bound&&(o=r.$inputs.eq(!t),a=Number(o.val()),i=Math[c[t]](i,a),o.attr(c[t],i),c[!t],e.extend(d,{ariaAttribute:a})),r.values[t]=i.toString(),e.extend(d,{value:i,"aria-valuetext":r._supportsRangeInput?r.options.valuetextFormatter(i):null}),s.val(i).attr(d),this._supportsRangeInput||r.$handles.each((function(n,o){var s=n===t;"aria-value"+c[!s],d={ariaAttr:s?a:i},s&&e.extend(d,{"aria-valuenow":i,"aria-valuetext":r.options.valuetextFormatter(i)}),e(o).attr(d)})),n||setTimeout((function(){s.change()}),1))},_moveHandles:function(){var t=this;this.$handles.each((function(i,n){var o,a=e(n),r=(t.values[i]-t.options.min)/(t.options.max-t.options.min)*100,s=t.$inputs.eq(i);"vertical"===t.options.orientation?(a.css("bottom",r+"%"),s.css("bottom",r+"%")):(a.css("left",r+"%"),s.css("left",r+"%")),t.options.tooltips&&((o=t.$tooltips.eq(i)).html(t.options.tooltipFormatter(t.values[i])),"vertical"===t.options.orientation?o.css("top",-(o.outerHeight()+a.outerHeight()/2)/2+"px"):o.css("left",-(o.outerWidth()+a.outerWidth()/2)/2+"px"))}))},_updateFill:function(){var e;if(0!==this.values.length)if(2===this.values.length){e=(this._getLowestValue()-this.options.min)/(this.options.max-this.options.min)*100;var t=(this._getHighestValue()-this.options.min)/(this.options.max-this.options.min)*100-e;"vertical"===this.options.orientation?this.$fill.css("bottom",e+"%").css("height",t+"%"):this.$fill.css("left",e+"%").css("width",t+"%")}else e=(this.values[0]-this.options.min)/(this.options.max-this.options.min)*100,"vertical"===this.options.orientation?this.$fill.css("height",e+"%"):this.$fill.css("width",e+"%");this.options.ticks&&this._coverTicks()},_coverTicks:function(){var t=this;t.$ticks.each((function(i){var n=t._getValueFromCoord(e(this).offset().left,e(this).offset().top);2===t.values.length?n>=t._getLowestValue()&&n<=t._getHighestValue()?e(this).addClass("coral-Slider-tick--covered"):e(this).removeClass("coral-Slider-tick--covered"):n<=t._getHighestValue()?e(this).addClass("coral-Slider-tick--covered"):e(this).removeClass("coral-Slider-tick--covered")}))},_getValueFromCoord:function(e,t,i){var n,o=this.$element.offset();if("vertical"===this.options.orientation){var a=this.$element.height();n=(o.top+a-t)/a}else{var r=this.$element.width();n=(e-o.left)/r}if(i&&(n<0||n>1))return NaN;var s=1*this.options.min+(this.options.max-this.options.min)*n;return this._snapValueToStep(s,this.options.min,this.options.max,this.options.step)},_getHighestValue:function(){return Math.max.apply(null,this.values)},_getLowestValue:function(){return Math.min.apply(null,this.values)},_makeAccessible:function(){var t,i,n=this;this.$inputs.each((function(o,a){t=e(a),i=n.$handles.eq(o),n._supportsRangeInput?(t.attr({"aria-valuetext":n.options.valuetextFormatter(t.attr("value")),"aria-hidden":null,tabindex:null}),i.attr({role:null,"aria-valuemin":null,"aria-valuemax":null,"aria-valuestep":null,"aria-valuenow":null,"aria-valuetext":null,tabindex:null,"aria-labelledby":null}),e('label[for="#'+i.attr("id")+'"]').attr("for",t.attr("id"))):(t.attr({"aria-valuetext":null,"aria-hidden":!0,tabindex:-1}),i.attr({role:"slider","aria-valuemin":t.attr("min"),"aria-valuemax":t.attr("max"),"aria-valuestep":t.attr("step"),"aria-valuenow":t.attr("value"),"aria-valuetext":n.options.valuetextFormatter(t.attr("value")),tabindex:t.is(":disabled")?null:0,"aria-labelledby":t.attr("aria-labelledby")||null}),e('label[for="'+t.attr("id")+'"]').attr("for",i.attr("id")))})),n._supportsRangeInput?(this._inputsOrHandles=this.$inputs,this.$element.off("keydown.slider")):(this._inputsOrHandles=this.$handles,this.$element.on("keydown.slider","[role=slider].coral-Slider-handle",this._keyDown.bind(this))),e.each(this.values,(function(e,t){n._updateValue(e,t,!0)}))},_adjustLabelling:function(){this.$element.attr("id");var e=this._adjustFieldsetAndLegend();this._adjustInputLabels(e)},_adjustFieldsetAndLegend:function(){var t,i,n=this.$element.attr("id"),o=this.$element.children("fieldset"),a=o.children("legend");return o.length&&(this.$element.append(o.contents(":not(legend)")),(t=e("<div/>",{role:"group",class:"coral-Slider-fieldset"}).insertBefore(this.$element)).append(this.$element),a.length&&((i=e("<div/>")).append(a.contents()),e.each(a.prop("attributes"),(function(){i.attr(this.name,this.value)})),i.attr("id")||i.attr("id",n+"-legend"),o.replaceWith(i),a=i.insertBefore(this.$element),t.attr("aria-labelledby",a.attr("id")))),a},_adjustInputLabels:function(i){var n=this,o=this.$element.attr("id"),a=e(i);this.$inputs.each((function(i,r){var s,l=e(r),c=l.attr("id"),d=l.attr("aria-labelledby");c||(l.attr("id",o+"-input"+i),c=l.attr("id")),d||(d="",l.attr("aria-labelledby",d)),s=n.$element.find('label[for="'+c+'"]'),a.length&&-1===t.navigator.platform.indexOf("Win")&&-1===d.indexOf(a.attr("id"))&&(d=a.attr("id")+(d.length?" ":"")+d,l.attr("aria-labelledby",d)),s.length&&(s.not(l.parent()).insertBefore(n.$element),s.each((function(t){e(this).attr("id")||e(this).attr("id",c+"-label"+t),-1===d.indexOf(c+"-label"+t)&&(d=d+(d.length?" ":"")+c+"-label"+t,l.attr("aria-labelledby",d)),e(this).on("mousedown.slider",(function(e){n._inputsOrHandles.eq(t).focus(),e.preventDefault(),e.stopImmediatePropagation()}))}))),l.parent().is("label")&&((s=l.parent()).attr("id")||s.attr("id",c+"-label"),s.attr("for")||s.attr("for",c),l.insertAfter(s),a.length&&s.addClass("u-coral-screenReaderOnly").attr({"aria-hidden":!0}),s.insertBefore(n.$element)),s.length&&-1===d.indexOf(s.attr("id"))&&(d=d+(d.length?" ":"")+s.attr("id"),l.attr("aria-labelledby",d)),0===s.length&&d.length>0&&(s=e("#"+d.split(" ")[0])),0===d.length&&l.removeAttr("aria-labelledby"),0===i&&(s.length&&s.on("click.slider",n._clickLabel.bind(n)),a.length&&a.on("click.slider",n._clickLabel.bind(n)))}))},_supportsRangeInput:(n=document.createElement("input"),n.setAttribute("type","range"),"range"===n.type),_snapValueToStep:function(e,t,i,n){var o,a=(e-t)%(n=parseFloat(n)),r=n.toString().replace(/^(?:\d+)(?:\.(\d+))?$/g,"$1").length;return(o=2*Math.abs(a)>=n?e-Math.abs(a)+n:e-a)<t?o=t:o>i&&(o=t+Math.floor((i-t)/n)*n),r>0&&(o=parseFloat(o.toFixed(r))),o}}),CUI.Widget.registry.register("slider",CUI.Slider),CUI.options.dataAPI&&e(document).on("cui-contentloaded.data-api",(function(t){CUI.Slider.init(e('.coral-Slider[data-init~="slider"]',t.target))}))}(jQuery,this),function(e){CUI.LabeledSlider=new Class({toString:"LabeledSlider",extend:CUI.Slider,construct:function(){this.$element.addClass("coral-Slider--labeled"),this.options.alternating&&this.$element.addClass("coral-Slider--alternatingLabels")},defaults:e.extend(CUI.Slider.prototype.defaults,{alternating:!1}),_readOptions:function(){this.inherited(arguments),this.$element.hasClass("coral-Slider--alternatingLabels")&&(this.options.alternating=!0)},_getTickLabel:function(e){return this.$element.find("ul.coral-Slider-tickLabels li").eq(e).html()},_buildTicks:function(){var t=e("<div></div>").addClass("coral-Slider-ticks"),i=Math.ceil((this.options.max-this.options.min)/this.options.step)+1,n=this.isVertical?this.$element.height():this.$element.width(),o=n/i*100/n;this.$element.append(t),this.options.alternating&&(o*=2);for(var a=0;a<i;a++){var r=n*a/(i-1)/n*100,s=e("<div/>").addClass("coral-Slider-tick").css(this.isVertical?"bottom":"left",r+"%"),l="coral-Slider-tickLabel-"+this.$element.attr("id")+"-"+a,c=e("<div/>").addClass("coral-Slider-tickLabel").attr("id",l);t.append(s),this.isVertical||(r-=o/2),c.css(this.isVertical?"bottom":"left",r+"%"),this.isVertical||c.css("width",o+"%"),c.append(this._getTickLabel(a)),t.append(c)}this.$ticks=t.find(".coral-Slider-tick"),this.options.filled&&this._coverTicks()},_moveHandles:function(){var e=this;this.inherited(arguments),this.$ticks&&0!==this.$ticks.length&&this.$inputs.each((function(t){var i=e.$inputs.eq(t),n=e.$handles.eq(t),o=i.offset(),a=o.left+i.width()/2,r=o.top+i.height()/2,s=e._findNearestTick(a,r),l=e.$ticks.eq(s).next(".coral-Slider-tickLabel");(e._supportsRangeInput?i:n).attr({"aria-describedby":l.attr("id")})}))},_findNearestTick:function(t,i){if(this.$ticks&&0!==this.$ticks.length){var n=this,o=1/0,a=0;return n.$ticks.each((function(r){var s=e(this).offset().left,l=e(this).offset().top,c=e(this).width(),d=e(this).height(),u=Math.abs(t-(s+c/2));"vertical"===n.options.orientation&&(u=Math.abs(i-(l+d/2))),u<o&&(o=u,a=r)})),a}}}),CUI.Widget.registry.register("labeled-slider",CUI.LabeledSlider),CUI.options.dataAPI&&e(document).on("cui-contentloaded.data-api",(function(t){CUI.LabeledSlider.init(e(".coral-Slider[data-init~='labeled-slider']",t.target))}))}(window.jQuery),function(e,t,i){CUI.ColumnView=new Class({toString:"ColumnView",extend:CUI.Widget,defaults:{multiselect:!1,single:!1},construct:function(){this._handleDocumentKeyUp=this._handleDocumentKeyUp.bind(this),this._handleDocumentKeyDown=this._handleDocumentKeyDown.bind(this),this._activeColumnRequest=0,this.$element.addClass("coral-ColumnView"),(this.get("single")||this.$element.hasClass("coral-ColumnView--single"))&&(this.set("single",!0),this.$element.addClass("coral-ColumnView--single")),(this.get("multiselect")||this.$element.hasClass("coral-ColumnView--multiselect"))&&(this.set("multiselect",!0),this.$element.addClass("coral-ColumnView--multiselect")),this.$element.on("click",".coral-ColumnView-item",this._itemActivateHandler.bind(this)),this.$element.on("click",".coral-ColumnView-icon",this._itemSelectHandler.bind(this)),this.$element.on("click",".coral-ColumnView-column-content",this._columnContentHandler.bind(this)),this.get("src")?this.setSource(this.get("src")):this._loadInnerMarkup(),this._makeAccessible()},destroy:function(){this.$element.removeData("columnView"),this.$element.off("click",".coral-ColumnView-item"),this.$element.off("click",".coral-ColumnView-icon"),this.$element.off("click",".coral-ColumnView-column-content"),this.$element.off("keydown"),this.$element.find(".coral-ColumnView-column-content").off("scroll"),e(document).off("keyup",this._handleDocumentKeyUp),e(document).off("keydown",this._handleDocumentKeyDown),delete this._data,delete this.$element},_handleDocumentKeyUp:function(e){16===e.which&&this.$element.removeClass("is-unselectable")},_handleDocumentKeyDown:function(e){16===e.which&&this.$element.addClass("is-unselectable")},_makeAccessible:function(){this.$element.attr("tabindex","0"),e(document).on("keyup",this._handleDocumentKeyUp),e(document).on("keydown",this._handleDocumentKeyDown),this.$element.on("keydown",function(e){var t=!1,i=this.getSelectedItems(),n=this.$element.data("lastSelected");if(i.length>0)switch(e.which){case 38:t=!0,e.shiftKey?n.item.is(":not(:first-child)")&&(n.direction&&"up"!==n.direction||(n.item=n.item.prev(),n.item.hasClass("is-selected")&&!n.item.prev().hasClass("is-selected")&&(n.item=n.item.prev())),n.item.find(".coral-ColumnView-icon").trigger("click"),n.item.hasClass("is-selected")&&n.item.prev().hasClass("is-selected")&&(n.item=n.item.prevUntil(":not(.is-selected)").last()),1===(i=this.getSelectedItems()).length&&i[0].item.is(":first-child")&&(n.item=i[0].item.next()),this.$element.data("lastSelected",{item:n.item,direction:"up"})):0!==i[0].item.prev().length?i[0].item.prev().trigger("click"):i.length>1&&i[0].item.trigger("click");break;case 40:t=!0,e.shiftKey?n.item.is(":not(:last-child)")&&(n.direction&&"down"!==n.direction||(n.item=n.item.next(),n.item.hasClass("is-selected")&&!n.item.next().hasClass("is-selected")&&(n.item=n.item.next())),n.item.find(".coral-ColumnView-icon").trigger("click"),n.item.hasClass("is-selected")&&n.item.next().hasClass("is-selected")&&(n.item=n.item.nextUntil(":not(.is-selected)").last()),1===i.length&&i[0].item.is(":last-child")&&(n.item=i[0].item),1===(i=this.getSelectedItems()).length&&i[0].item.is(":last-child")&&(n.item=i[0].item.prev()),this.$element.data("lastSelected",{item:n.item,direction:"down"})):0!==i[i.length-1].item.next().length?i[i.length-1].item.next().trigger("click",{metaKey:!0}):i.length>1&&i[i.length-1].item.trigger("click");break;case 39:t=!0,i[0].item.hasClass("coral-ColumnView-item--hasChildren")&&this._getActiveColumn().next().find(".coral-ColumnView-item").first().trigger("click");break;case 37:t=!0,this._getActiveColumn().prev().find(".coral-ColumnView-item.is-active").trigger("click")}else{var o=this.$element.children(".coral-ColumnView-column").first().find(".coral-ColumnView-item");switch(e.which){case 38:(o=o.last()).trigger("click"),this.$element.data("lastSelected",{item:o,direction:"up"}),t=!0;break;case 40:case 39:(o=o.first()).trigger("click"),this.$element.data("lastSelected",{item:o,direction:"down"}),t=!0}}t&&(e.stopImmediatePropagation(),e.preventDefault())}.bind(this))},_loadInnerMarkup:function(){if(this.$element.children().length>0){var e=this.$element.html();this._data={},this._data["/"]=e,this.$element.empty();var t=++this._activeColumnRequest;this.setNextColumn("/").done(function(e,i){this._setActiveColumn(i,!1,t)}.bind(this))}},setSource:function(t){this.cancelNavigation();var i=e.Deferred();this._data={},this.$element.empty();var n=++this._activeColumnRequest;return this.setNextColumn(t).done(function(e,t){this._setActiveColumn(t,!1,n),i.resolve()}.bind(this)).fail((function(){i.reject()})),i.promise()},setData:function(e,t){if(!e._links||!e._links.self||!e._links.self.href)throw"Invalid data: needs to contain self link (_links.self.href)";var i=e._links.self.href;if(this._data=t||!this._data?{}:this._data,this._storeData(e),t){this.cancelNavigation(),this.$element.empty();var n=++this._activeColumnRequest;this.setNextColumn(i).done(function(e,t){this._setActiveColumn(t,!1,n)}.bind(this))}},getSelectedItems:function(){var t=[];return this._getColumnContent(this._getActiveColumn()).children(".is-active").each((function(i,n){var o=e(n);t.push({checked:o.hasClass("is-selected"),data:o.data("data"),item:o})})),t},getBreadcrumbItems:function(){var t=[];return this._getActiveColumn().prevAll().find(".is-active").each((function(i,n){var o=e(n);t.push({checked:o.hasClass("is-selected"),data:o.data("data"),item:o})})),t},getTargetColumn:function(){var e=this._getActiveColumn(),t=this.getSelectedItems().filter((function(e){return!e.checked}));return 1===t.length&&t[0].data&&t[0].data.hasChildren?e.next().data("data"):e.data("data")},navigate:function(t,i){var n,o=this,a=e.Deferred();i?"active"===i?n=o._getActiveColumn():"string"==typeof i?n=o.$element.children().filter((function(){return e(this).data("href")===i})):i instanceof e&&(n=i):n=o.$element.find(".coral-ColumnView-column:eq(0)"),n.nextAll().remove(),o.cancelNavigation(),o._navigation=o._navigation||{};var r=(o._lastNavigationId||0)+1;if(o._lastNavigationId=r,o._navigation[r]="pending",n.length>0){var s=function(i,n){if("cancel"===o._navigation[r])return o._navigation[r]="cancelled",void a.reject();var l=t(o._data[i.data("href")],i);if(l){var c=l instanceof e?l:i.find(".coral-ColumnView-item").filter((function(){return e(this).data("href")===(l._links&&l._links.self?l._links.self.href:l)})).eq(0),d=c.data("href");c&&c.length>0&&(o._setActiveColumn(c,!1,n),c.addClass("is-active")),(c||d)&&o.$element.trigger("coral-columnview-item-select",[c.data("data"),c]);var u=++o._activeColumnRequest;d?o.setNextColumn(d,(function(){return"pending"===o._navigation[r]})).done((function(e,t){s(t,u)})).fail((function(){o._navigation[r]="failed",a.reject()})):(o._scrollToColumn(),o._navigation[r]="finished",a.resolve())}else!1===l?(o._scrollToColumn(),o._navigation[r]="finished",a.resolve()):o._loadNext(i).done((function(){s(i,u)})).fail((function(){o._navigation[r]="failed",a.reject()}))};s(n,++o._activeColumnRequest)}else o._navigation[r]="failed",a.reject();var l=a.promise();return l.navigationId=r,l},cancelNavigation:function(t){return this._navigation=this._navigation||{},t?!(!this._navigation.hasOwnProperty(t)||"pending"!==this._navigation[t])&&(this._navigation[t]="cancel",!0):(e.each(this._navigation,function(e,t){"pending"===this._navigation[e]&&(this._navigation[e]="cancel")}.bind(this)),!0)},renderColumn:function(t){var i=this._data[t];if("object"===e.type(i)){var n=e('<div class="coral-ColumnView-column"></div>'),o=e('<div class="coral-ColumnView-column-content"></div>').appendTo(n);if(this.get("single")&&i._links&&i._links.up){var a=i._links.self?i._links.self.title:"",r=e('<a class="coral-ColumnView-item coral-ColumnView-item--back"></a>').append(e('<div class="coral-ColumnView-label"></div>').text(a));n.prepend(r)}if(i._embedded&&i._embedded.items)for(;i;){if(i._embedded&&i._embedded.items)for(var s=i._embedded.items,l=0;l<s.length;l++){var c=s[l];this.renderItem(c).appendTo(o)}i=this._data[i._links.next]}else(i.properties||i.preview)&&o.append(this.renderPreview(i));return n}return e(i)},renderItem:function(t){var i=e('<div class="coral-ColumnView-item"></div>');if(t.hasChildren&&i.addClass("coral-ColumnView-item--hasChildren"),t.icon||t.image){var n=e('<div class="coral-ColumnView-icon"></div>').appendTo(i);t.image?e("<img/>").addClass("coral-ColumnView-thumbnail").attr("src",t.image).appendTo(n):e("<i/>").addClass("coral-Icon coral-Icon--"+t.icon+" coral-Icon--sizeS").appendTo(n)}return e('<div class="coral-ColumnView-label"></div>').text(t._links.self.title).appendTo(i),i},renderPreview:function(t){var i=e('<div class="coral-ColumnView-preview"></div>');if(t.preview)if(t.preview.image){var n=e('<div class="coral-ColumnView-preview-icon"></div>');e('<img class="coral-ColumnView-preview-thumbnail">').attr("src",t.preview.image).appendTo(n),n.appendTo(i)}else if(t.preview.icon){var o=e('<div class="coral-ColumnView-preview-icon"></div>');e("<i></i>").addClass("coral-Icon coral-Icon--"+t.preview.icon+" coral-Icon--sizeL").appendTo(o),o.appendTo(i)}if(t.properties)for(var a=0;a<t.properties.length;a++){var r=t.properties[a],s=e('<div class="coral-ColumnView-preview-label"></div>').text(r.label).appendTo(i),l=e('<div class="coral-ColumnView-preview-value"></div>').text(r.value).appendTo(i);r.icon&&(e("<i></i>").addClass("coral-Icon coral-Icon--"+r.icon+" coral-Icon--sizeXS").prependTo(l),s.before('<div class="coral-ColumnView-preview-spacer"></div>'))}return i},setNextColumn:function(t,i){var n=e.Deferred(),o=function(){if("function"!==e.type(i)||i()){var o=this.renderColumn(t);this._prepareColumn(o,t);var a=this._getActiveColumn();this.get("single")&&a.length>0&&o.addClass("is-right"),a.nextAll().empty().removeClass("is-active"),a.length>0&&a.next().length>0?a.next().replaceWith(o):this.$element.append(o),this._loadMoreIfNeeded(o).always(function(){n.resolve(this._data[t],o)}.bind(this))}else n.reject()}.bind(this);return this._data[t]?o(t):this._loadData(t).done(o).fail((function(){n.reject()})),n.promise()},setPreviousColumn:function(t,i){var n=e.Deferred(),o=function(){if("function"!==e.type(i)||i()){var o=this.renderColumn(t);this._prepareColumn(o,t),this.get("single")&&o.addClass("is-left");var a=this._getActiveColumn();a.length>0&&a.prevAll().remove(),this.$element.prepend(o),this._loadMoreIfNeeded(o).always(function(){n.resolve(this._data[t],o)}.bind(this))}else n.reject()}.bind(this);return this._data[t]?o(t):this._loadData(t).done(o).fail((function(){n.reject()})),n.promise()},addItem:function(t,i,n){var o,a;o=i?"string"===e.type(i)?"active"===i?this._getActiveColumn():this.$element.children().filter((function(){return e(this).data("href")===i})):e(i):this._getActiveColumn(),a=t instanceof e?t:this._prepareItem(this.renderItem(t),t);var r=this._getColumnContent(o),s=r.children();return 0===n?r.prepend(a):n>0&&n<s.length?s.eq(n-1).after(a):r.append(a),a},_getActiveColumn:function(){return this.$element.children(".is-active")},_getColumnContent:function(t){var i=t.children(".coral-ColumnView-column-content");return 0===i.length&&(i=e('<div class="coral-ColumnView-column-content"></div>').appendTo(t)).on("scroll",this._columnScrollHandler.bind(this)),i},_prepareColumn:function(t,i){var n=this._data[i],o=this._getColumnContent(t);if(t.data("href",i),"object"===e.type(n)&&(t.data("data",n),n._links&&n._links.next&&t.data("next",n._links.next.href),n._links&&n._links.up&&t.data("back",n._links.up.href),n._embedded&&n._embedded.items)){var a=n._embedded.items;o.find(".coral-ColumnView-item").each(function(t,i){this._prepareItem(e(i),a[t])}.bind(this))}return o.on("scroll",this._columnScrollHandler.bind(this)),t},_prepareItem:function(e,t){return e.data("data",t),t._links&&t._links.self&&e.data("href",t._links.self.href),e},_storeData:function(t){var i=t._links.self.href;if(this._data[i]=t,t._embedded&&t._embedded.items){var n=t._embedded.items;e.each(n,function(e,t){(t.properties||t.preview||t._embedded&&t._embedded.items)&&this._storeData(t)}.bind(this))}},_loadData:function(t,i){return this._data&&this._data[t]?e.Deferred().resolve(this._data[t]):(this._pendingRequests=this._pendingRequests||{},this._pendingRequests[t]||(this._pendingRequests[t]=e.ajax({url:t,cache:!1}).done(function(i){this._data=this._data||{},this._data[t]=i,"object"===e.type(i)&&this._storeData(i),this.$element.trigger("coral-columnview-load",[t,i]),delete this._pendingRequests[t]}.bind(this))),this._pendingRequests[t])},_loadMoreIfNeeded:function(t){var i=e.Deferred(),n=this._getColumnContent(t),o=n.children(".coral-ColumnView-item"),a=0;return o.each((function(t,i){a+=e(i).height()})),a<n.height()&&t.data("next")?this._loadNext(t).done(function(){this._loadMoreIfNeeded(t).done((function(){i.resolve()})).fail((function(){i.reject()}))}.bind(this)).fail((function(){i.reject()})):i.resolve(),i.promise()},_columnContentHandler:function(t){if(!this.get("single")){var i=e(t.target);if(i.hasClass("coral-ColumnView-column-content")){this.cancelNavigation(),t.preventDefault();var n=i.closest(".coral-ColumnView-column");n.nextAll().empty().removeClass("is-active"),n.find(".coral-ColumnView-item").removeClass("is-active");var o=n.prev();0!==o.length&&o.addClass("is-active"),n.removeClass("is-active"),this._scrollToColumn();var a=o.find(".coral-ColumnView-item.is-active");this.$element.trigger("coral-columnview-item-select",[a.data("data"),a])}}},_itemActivateHandler:function(i){this.cancelNavigation(),i.preventDefault();var n=e(i.target).closest(".coral-ColumnView-item");if(i.shiftKey&&(document.selection?document.selection.empty():t.getSelection&&t.getSelection().removeAllRanges&&t.getSelection().removeAllRanges()),i.metaKey||i.ctrlKey||i.shiftKey)return this._itemSelectHandler(i);var o=n.data("href"),a=n.closest(".coral-ColumnView-column");this.$element.data("lastSelected",{item:n});var r=++this._activeColumnRequest;if(o)if(this.get("single"))this.setNextColumn(o).done(function(e,t){setTimeout(function(){this._setActiveColumn(t,!1,r)}.bind(this),30)}.bind(this));else if(n.hasClass("is-active")&&!n.hasClass("is-selected")&&a[0]===this._getActiveColumn()[0]){n.removeClass("is-active"),a.nextAll().empty().removeClass("is-active");var s=a.prev();0!==s.length&&s.addClass("is-active"),a.removeClass("is-active"),this._scrollToColumn()}else this._setActiveColumn(n,!1),n.addClass("is-active"),n.focus(),this.setNextColumn(o).done(function(e,t){this._scrollToColumn()}.bind(this));else n.hasClass("coral-ColumnView-item--back")&&a.data("back")&&this.setPreviousColumn(a.data("back")).done(function(e,t){setTimeout(function(){this._setActiveColumn(t,!1,r)}.bind(this),30)}.bind(this));this.$element.trigger("coral-columnview-item-select",[n.data("data"),n])},_itemSelectHandler:function(t){if(this.get("multiselect")){t.stopPropagation(),t.preventDefault();var i=e(t.target).closest(".coral-ColumnView-item");this._setActiveColumn(i,!0);var n;i.data("href");if(i.toggleClass("is-active is-selected"),0===this.getSelectedItems().length){var o=this._getActiveColumn(),a=o.prev();0!==a.length&&a.addClass("is-active"),o.removeClass("is-active")}if(t.shiftKey)if(1===this.getSelectedItems().length){if(i.is(":not(:first-child)"))i.siblings().first().addClass("is-active is-selected").nextUntil(i).addClass("is-active is-selected");n="down"}else this.$element.data("lastSelected").item.index()<i.index()?(this.$element.data("lastSelected").item.nextUntil(i).addClass("is-active is-selected"),n="down"):(this.$element.data("lastSelected").item.prevUntil(i).addClass("is-active is-selected"),n="up");this.$element.data("lastSelected",{item:i.hasClass("is-selected")?i:i.siblings(".is-selected").first(),direction:n}),this._scrollToColumn(),this.$element.trigger("coral-columnview-item-select",[i.data("data"),i])}},_columnScrollHandler:function(t){var i=e(t.target),n=i.closest(".coral-ColumnView-column");i[0].scrollTop+i.height()+10>=i[0].scrollHeight&&this._loadNext(n)},_loadNext:function(t){var i=e.Deferred(),n=t.data("next");if(n){t.removeAttr("data-next"),t.removeData("next");var o=this._getColumnContent(t),a=function(){var a=this._data[n],r=!1;if("object"===e.type(a)){if(a._embedded&&a._embedded.items){for(var s=a._embedded.items,l=0;l<s.length;l++){var c=s[l];this._prepareItem(this.renderItem(c),c).appendTo(o)}this._data[t.data("href")]._embedded.items=this._data[t.data("href")]._embedded.items.concat(a._embedded.items)}a._links&&a._links.next?t.data("next",a._links.next.href):r=!0}else{var d=e(a);d.data("next")?t.data("next",d.data("next")):r=!0,d.find(".coral-ColumnView-item").appendTo(o)}r&&(t.removeAttr("data-next"),t.removeData("next")),i.resolve()}.bind(this);this._data[n]?a(this._data[n]):this._loadData(n,t).done(a).fail((function(){i.reject()}))}else i.reject();return i.promise()},_setActiveColumn:function(e,t,i){if(!(void 0!==i&&i<this._activeColumnRequest)){var n=this._getActiveColumn(),o=e.closest(".coral-ColumnView-column"),a=this._getColumnContent(o),r=!1;e.is(".coral-ColumnView-item")&&(r=!0,!0===t?a.children(".is-active:not(.is-selected)").addClass("is-selected"):a.children(".is-active:not(.is-selected)").removeClass("is-active"),!1!==t&&!1!==o.hasClass("is-active")||a.children(".is-selected").removeClass("is-active is-selected")),n.removeClass("is-active"),(0!==n.length||r)&&o.addClass("is-active"),this.get("single")?n.index()<o.index()?(n.addClass("is-left"),o.removeClass("is-right")):n.index()>o.index()&&(n.addClass("is-right"),o.removeClass("is-left")):o.nextAll().empty().removeData().removeClass("is-active")}},_scrollToColumn:function(){var t,i,n,o=this._getActiveColumn();if(0===o.length)return t=0,i=1.5*this.$element.scrollLeft(),void this.$element.animate({scrollLeft:t},i);(n=1===this.getSelectedItems().filter((function(e){return!e.checked})).length?o.next():o).position()&&n.position().left+n.outerWidth()>=this.$element.width()?(n.nextAll().remove(),i=1.5*((t=this.$element[0].scrollWidth-this.$element.outerWidth())-this.$element.scrollLeft()),this.$element.animate({scrollLeft:t},i)):o.position()&&o.position().left<0&&(t=0,o.prevAll().each((function(){t+=e(this).outerWidth()})),i=1.5*(this.$element.scrollLeft()-t),this.$element.animate({scrollLeft:t},i))}}),CUI.Widget.registry.register("columnview",CUI.ColumnView),CUI.options.dataAPI&&e(document).on("cui-contentloaded.data-api",(function(t){CUI.ColumnView.init(e("[data-init~=columnview]",t.target))}))}(jQuery,this),function(e,t,i){CUI.Modal=new Class({toString:"Modal",extend:CUI.Widget,construct:function(t){this.header=this.$element.find(".coral-Modal-header"),this.body=this.$element.find(".coral-Modal-body"),this.footer=this.$element.find(".coral-Modal-footer"),this._previousFocus=e(),this.backdrop=e("<div/>",{class:"coral-Modal-backdrop",style:"display: none;"}).on("click",function(e){"static"!==this.options.backdrop&&this.hide()}.bind(this)),this.body.loadWithSpinner(this.options.remote),this.applyOptions(),this.$element.on("change:heading",this._setHeading.bind(this)).on("change:header",this._setHeader.bind(this)).on("change:content",this._setContent.bind(this)).on("change:buttons",this._setFooter.bind(this)).on("change:type",this._setType.bind(this)).on("change:fullscreen",this._setFullscreen.bind(this)).on("click",'[data-dismiss="modal"]',this.hide.bind(this)),this._makeAccessible()},defaults:{backdrop:"static",visible:!0,type:"default",fullscreen:!1,attachToBody:!0},_types:{default:{class:"",iconClass:""},error:{class:"coral-Modal--error",iconClass:"coral-Icon--alert"},notice:{class:"coral-Modal--notice",iconClass:"coral-Icon--alert"},success:{class:"coral-Modal--success",iconClass:"coral-Icon--checkCircle"},help:{class:"coral-Modal--help",iconClass:"coral-Icon--helpCircle"},info:{class:"coral-Modal--info",iconClass:"coral-Icon--infoCircle"}},applyOptions:function(){this._setHeader(),this._setHeading(),this._setContent(),this._setFooter(),this._setType(),this._setFullscreen(),this.options.visible&&(this.options.visible=!1,this.show())},_makeAccessible:function(){var t=this,i="modal-header"+(new Date).getTime()+"-";this.$element.attr({role:"dialog","aria-hidden":!this.options.visible,"aria-labelledby":i+"label","aria-describedby":i+"message",tabindex:-1}),this.header.find("h2").attr({id:i+"label",tabindex:0}),this.body.attr({id:i+"message",role:"document",tabindex:0}),this.$element.on("keydown",":focusable",(function(i){e(i.currentTarget);var n,o=t.$element.find(":tabbable");switch(i.which){case 9:i.shiftKey&&i.currentTarget===o[0]?n=o.last():i.shiftKey||i.currentTarget!==o[o.length-1]||(n=o.first())}n&&(i.preventDefault(),n.trigger("focus"))}))},_setType:function(){if(this.options.type){var e=this.$element.find(".coral-Modal-header > .coral-Icon");for(var t in this._types)this.$element.removeClass(this._types[t].class),e.removeClass(this._types[t].iconClass);"default"!==this.options.type&&(this.$element.addClass(this._types[this.options.type].class),e.addClass(this._types[this.options.type].iconClass))}},_setHeader:function(){this.options.header&&this.header.find("h2").html(this.options.header)},_setHeading:function(){this.options.heading&&(this.options.header=this.options.heading,this._setHeader.apply(this,arguments))},_setContent:function(){this.options.content&&this.body.html(this.options.content)},_setFooter:function(){if(e.isArray(this.options.buttons)){var t=this;this.footer.empty(),e.each(this.options.buttons,(function(i,n){var o=n.href?e("<a/>",{class:"button"}):e("<button/>",{class:"coral-Button",type:"button"});o.html(n.label),"hide"===n.click?o.attr("data-dismiss","modal"):e.isFunction(n.click)&&o.on("click",n.click.bind(t,{dialog:t})),n.href&&o.attr("href",n.href),n.className&&o.addClass(n.className),t.footer.append(o)}))}},_setFullscreen:function(){this.options.fullscreen?this.$element.addClass("fullscreen"):this.$element.removeClass("fullscreen"),this.$element.css({"margin-left":0,"margin-top":0})},_show:function(){var t=e("body"),i=this;return this._previousFocus=e(":focus"),this._previousFocus.trigger("blur"),t.addClass("coral-Modal.is-open"),this.$element.trigger("beforeshow"),this._toggleBackdrop(!0),this.options.attachToBody&&(0===this.$element.parent("body").length&&this.$element.appendTo(t),this.$element.siblings("[aria-hidden]").each((function(t,i){e(i).data("aria-hidden",e(i).attr("aria-hidden"))})),this.$element.siblings().not("script, link, style").attr("aria-hidden",this.options.visible)),this.$element.attr("aria-hidden",!this.options.visible),this.center(),this.$element.fadeIn(),this.$element.find(":tabbable:not(.coral-Modal-header .coral-Modal-closeButton):first").focus(),e('<div class="coral-Modal-tabcapture" tabindex="0"/>').on("focus.modal-tabcapture",(function(t){var n,o=i.$element.find(":tabbable"),a=e("body > .coral-Modal-tabcapture").last();0===(n=t.currentTarget===a[0]?o.filter(":not(.coral-Modal-header .coral-Modal-closeButton):last"):o.filter(":not(.coral-Modal-header .coral-Modal-closeButton):first")).length&&(n=i.$element),n.trigger("focus")})).prependTo(t).clone(!0).appendTo(t),e(document).on("keydown.modal-escape",this._escapeKeyHandler.bind(this)),this},_hide:function(){return e("body").removeClass("coral-Modal.is-open").find(".coral-Modal-tabcapture").off("focus.modal-tabcapture").remove(),e(document).off("keydown.modal-escape"),this.$element.trigger("beforehide"),this._toggleBackdrop(!1),this.$element.attr("aria-hidden",!this.options.visible),this.$element.siblings().removeAttr("aria-hidden").filter((function(){return void 0!==e(this).data("aria-hidden")})).each((function(t,i){e(i).attr("aria-hidden",e(i).data("aria-hidden")).removeData("aria-hidden")})),this.$element.fadeOut().trigger("blur"),this._previousFocus.trigger("focus"),this},center:function(){var e=this.$element.outerWidth(),t=this.$element.outerHeight();this.options.fullscreen||this.$element.css({"margin-left":-e/2,"margin-top":-t/2})},_toggleBackdrop:function(t){if(this.options.backdrop){var i=e("body");(t||this.backdrop.is(":hidden"))&&!1!==t?this.backdrop.appendTo(i).fadeIn():this.backdrop.fadeOut((function(){e(this).detach()}))}},_escapeKeyHandler:function(e){27===e.which&&this.hide()}}),CUI.Widget.registry.register("modal",CUI.Modal),CUI.options.dataAPI&&(e(document).on("cui-contentloaded.data-api",(function(t){CUI.Modal.init(e("[data-init~=modal]",t.target))})),e(document).on("click.modal.data-api",'[data-toggle="modal"]',(function(t){t.preventDefault();var i=e(this),n=CUI.util.getDataTarget(i),o=i.attr("href"),a=e.extend({remote:!/#/.test(o)&&o},n.data(),i.data());i.is(document.activeElement)||(i.is(":focusable")||i.attr("tabindex",0),i.focus()),"string"==typeof a.buttons&&(a.buttons=JSON.parse(a.buttons));var r=n.data("modal");n.modal(a),r&&n.data("modal").set({visible:!r.get("visible")})})))}(jQuery),function(e,t,i){CUI.Tabs=new Class({toString:"Tabs",extend:CUI.Widget,construct:function(e){this.tablist=this._findOrCreateTabList(),this.panelist=this._findOrCreatePaneList(),this._applyOptions(),this.$element.on("change:type",this._setType.bind(this)),this.$element.on("change:active",this._setActive.bind(this))},defaults:{},DEFAULT_VARIANT_KEY:"default",VARIANT_TYPES:["default","stacked","nav"],VARIANT_CLASS_MAPPING:{default:"",stacked:"coral-TabPanel--stacked",nav:"coral-TabPanel--large"},setDisabled:function(e,t){var i=t||!1;return e.toggleClass("is-disabled",i).prop("aria-disabled",i),this},setEnabled:function(e){return this.setDisabled(e,!0)},addItem:function(t){var i=this._getTabs();t=e.extend({tabContent:"",panelContent:"",panelID:void 0,panelURL:void 0,index:i.length,enabled:!0,active:!0},t);var n=e('<section class="coral-TabPanel-pane"/>').append(t.panelContent);void 0!==t.panelID&&n.attr("id",t.panelID);var o=e('<a class="coral-TabPanel-tab" data-toggle="tab"/>').append(t.tabContent);void 0!==t.panelURL&&o.attr("href",t.panelURL);var a=Math.min(Math.max(t.index,0),i.length);return 0===a?(this.tablist.prepend(o),this.panelist.prepend(n)):(i.eq(a-1).after(o),this._getPanels().eq(a-1).after(n)),t.enabled||o.addClass("is-disabled"),this._makeTabsAccessible(o),t.active&&t.enabled&&this._activateTab(o,!0),n.attr("id")},removeItem:function(e){var t,i,n=this._getTabs(),o=this._getPanels();if("number"==typeof e?(t=n.eq(e),i=o.eq(e)):"string"==typeof e&&(t=n.filter('[aria-controls="'+e+'"]'),i=o.filter("#"+e)),t&&i){if(t.hasClass("is-active")){var a=t.nextAll('.coral-TabPanel-tab[data-toggle="tab"]:not(.is-disabled)').first();0===a.length&&(a=t.prevAll('.coral-TabPanel-tab[data-toggle="tab"]:not(.is-disabled)').first()),1===a.length&&this._activateTab(a,!0)}i.remove(),t.remove()}},_findOrCreateTabList:function(){var t=this.$element.find(".coral-TabPanel-navigation");return 0===t.length&&(t=e("<nav>").addClass("coral-TabPanel-navigation").prependTo(this.$element)),t},_findOrCreatePaneList:function(){var t=this.$element.find(".coral-TabPanel-content");return 0===t.length&&(t=e("<div>").addClass("coral-TabPanel-content").appendTo(this.$element)),t},_applyOptions:function(){var e=this._getTabs().filter(".is-active");this.options.type&&this._setType(this.options.type),this._initTabswitch(),this._makeAccessible(),0===e.length?this._setActive(this.options.active||0):this._activateTab(e,!0)},_getTabs:function(){return this.tablist.find('> .coral-TabPanel-tab[data-toggle="tab"]')},_getPanels:function(){return this.panelist.children(".coral-TabPanel-pane")},_setActive:function(t){t=e.isNumeric(t)?t:this.options.active;var i=this._getTabs().eq(t);this._activateTab(i,!0)},_setType:function(t){var i=this,n="string"===e.type(t)?t:this.options.type;if(this.VARIANT_TYPES.indexOf(n)>-1&&void 0!==this.VARIANT_CLASS_MAPPING[n]){var o=Object.keys(this.VARIANT_CLASS_MAPPING).map((function(e){return i.VARIANT_CLASS_MAPPING[e]}));this.$element.removeClass(o.join(" ")),this.$element.addClass(this.VARIANT_CLASS_MAPPING[n])}},_activateTab:function(e,t){var i,n=e.attr("href"),o=this._getTabs(),a=this._getPanels();if(e.hasClass("is-disabled"))return e.blur(),!1;i=a.filter("#"+e.attr("aria-controls")),n&&"#"!==n.charAt(0)&&i.loadWithSpinner(n),o.removeClass("is-active").attr({"aria-selected":!1,tabindex:-1}),a.removeClass("is-active").attr({"aria-hidden":!0}),e.addClass("is-active").attr({"aria-selected":!0,tabindex:0}),i.addClass("is-active").attr({"aria-hidden":!1}),t||e.trigger("focus")},_initTabswitch:function(){var t=this;this.$element.on("click",'> .coral-TabPanel-navigation > .coral-TabPanel-tab[data-toggle="tab"]',(function(i){var n=e(i.currentTarget);i.preventDefault(),t._activateTab(n)}))},_makeAccessible:function(){this._makeTabsAccessible(),this._makeTablistAccessible()},_makeTabsAccessible:function(t){var i=this._getPanels();(t=t||this._getTabs()).each((function(t,n){var o=e(n),a=i.eq(o.index()),r=a.attr("id")||CUI.util.getNextId(),s={role:"tab",tabindex:-1,"aria-selected":!1,"aria-controls":r,"aria-disabled":o.hasClass("is-disabled")};o.attr("href")||(s.href="#"),o.attr(s),a.attr({id:r,role:"tabpanel","aria-hidden":!0})}))},_makeTablistAccessible:function(){var t=this;this.tablist.attr("role","tablist"),this.tablist.on("keydown",'> [role="tab"]',(function(i){var n=e(i.currentTarget),o=e(i.delegateTarget).find('> [role="tab"]').not('[aria-disabled="true"]'),a=n,r=!0,s=o.index(n);switch(i.which){case 33:case 37:case 38:a=s-1>-1?o[s-1]:o[o.length-1];break;case 34:case 39:case 40:a=s+1<o.length?o[s+1]:o[0];break;case 36:a=o[0];break;case 35:a=o[o.length-1];break;default:r=!1}r&&(i.preventDefault(),t._activateTab(e(a)))}))}}),CUI.Widget.registry.register("tabs",CUI.Tabs),CUI.options.dataAPI&&e(document).on("cui-contentloaded.data-api",(function(t){CUI.Tabs.init(e("[data-init~=tabs]",t.target))}))}(jQuery),function(e){var t=0,i="js-coral-pathbrowser-input",n=['<div class="coral-Pathbrowser-pickerBar"><nav class="coral-Crumbs"></nav></div>','<div class="coral-Pathbrowser-pickerPanel">','<div class="coral-ColumnView"></div>',"</div>"].join(""),o=['<div class="coral-TabPanel coral-TabPanel--stacked">','<nav class="coral-TabPanel-navigation">','<a class="coral-TabPanel-tab is-active" data-toggle="tab"><i class="coral-Icon coral-Icon-sizeXS coral-Icon--compass"></i></a>',"</nav>",'<div class="coral-TabPanel-content">','<section class="coral-TabPanel-pane is-active">'+n+"</section>","</div>","</div>"].join(""),a=['<div class="coral-Pathbrowser-picker coral-Modal" id="%ID%">','<div class="coral-Modal-header">','<h2 class="coral-Modal-title coral-Heading coral-Heading--2"></h2>','<button type="button" class="js-coral-pathbrowser-confirm coral-Button coral-Button--square coral-Button--primary" title="Confirm">','<i class="coral-Icon coral-Icon-sizeXS coral-Icon--check"></i>',"</button>",'<button type="button" class="js-coral-pathbrowser-cancel coral-Button coral-Button--square coral-Button" title="Cancel">','<i class="coral-Icon coral-Icon-sizeXS coral-Icon--close"></i>',"</button>","</div>",'<div class="coral-Modal-body"></div>',"</div>"].join(""),r=new function(){var t={};return{register:function(e,i){t.hasOwnProperty(e)?t[e].push(i):t[e]=[i]},get:function(i,n){n("test","test");return t.hasOwnProperty(i)?"function"==typeof n?e.grep(t[i],n):t[i]:[]}}};CUI.PathBrowser=new Class({toString:"PathBrowser",extend:CUI.Widget,construct:function(n){var o,a,r,l=["optionLoader","optionValueReader","optionTitleReader","autocompleteCallback","optionRenderer"];this.guid=t+=1;for(var c=0;c<l.length;c++)o=this.options[l[c]],a=this._getHandler(l[c],"cui.pathbrowser."+l[c].toLowerCase()+".default"),"function"==typeof o?this[l[c]]=o.bind(this):"string"==typeof o?(r=this._getHandler(l[c],o),this[l[c]]=r||(a||e.noop())):a&&(this[l[c]]=a);for(this.options.value&&this.set("value",this.options.value),this._render();this.options.optionDisplayStrings.length<this.options.options.length;)this.options.optionDisplayStrings.push(this.options.options[this.options.optionDisplayStrings.length]);this._selectlist=this.$element.find(".coral-SelectList"),0===this._selectlist.length?this._selectlist=e("<ul/>",{id:CUI.util.getNextId(),class:"coral-SelectList"}).appendTo(this.$element):this._selectlist.attr("id")||this._selectlist.attr("id",CUI.util.getNextId()),this.inputElement.attr("aria-owns",this._selectlist.attr("id")),this.dropdownList=new CUI.SelectList({element:this._selectlist,relatedElement:this.$element,autofocus:!1,autohide:!0}),this.$button=this.$element.find(".js-coral-pathbrowser-button"),this.pickerEnabled=0!==this.$button.length&&this.options.pickerSrc,this.pickerEnabled&&this._constructPicker(),this.$element.on("change:value",this._handleValueChange.bind(this)),this.$element.on("change:disabled",this._update.bind(this)),this.$element.on("change:placeholder",this._update.bind(this)),this.$element.on("change:options",this._changeOptions.bind(this)),this.$element.on("input","."+i,function(){this.options.disabled||(this.typeTimeout&&clearTimeout(this.typeTimeout),this.typeTimeout=setTimeout(this._inputChanged.bind(this),this.options.delay))}.bind(this)),this.pickerEnabled&&(this.$button.on("click",this._clickedPickerButton.bind(this)),this.$picker.on("beforehide",this._beforeHidePicker.bind(this)),this.$picker.on(s,this._pickerSelectionConfirmed.bind(this))),this.$element.on("blur","."+i,function(){this.options.disabled||(this.typeTimeout&&clearTimeout(this.typeTimeout),this.typeTimeout=null,this.selectedIndex>=0&&(""===this.inputElement.val()?this.setSelectedIndex(-1):this._update()))}.bind(this)),this.$element.on("keydown","input",this._keyPressed.bind(this)),this.$element.on("keyup","input",this._keyUp.bind(this)),this.dropdownList.on("selected",function(e){var t=null!=e.selectedValue?e.selectedValue.toString():null;this.dropdownList.hide(200),this.setSelectedIndex(this.options.options.indexOf(t)),this.inputElement.focus()}.bind(this))},defaults:{autocompleteCallback:e.noop(),options:[],optionDisplayStrings:[],optionLoader:e.noop(),optionLoaderRoot:null,optionValueReader:e.noop(),optionTitleReader:e.noop(),showTitles:!0,rootPath:"/content",delay:200,placeholder:null,optionRenderer:e.noop(),position:"below",autoPosition:!0,pickerSrc:null,pickerAdditionalTabs:null,pickerTitle:"Select path",pickerValueKey:"value",pickerIdKey:"id",crumbRoot:"Content",rootPathValidSelection:!0},dropdownList:null,inputElement:null,typeTimeout:null,selectedIndex:-1,triggeredBackspace:!1,setSelectedIndex:function(e){e<-1||e>=this.options.options.length||(this.selectedIndex=e,this._update())},getSelectedIndex:function(){return this.selectedIndex},_changeOptions:function(e){e.widget===this&&(this.selectedIndex=-1,this._update())},_render:function(){this._readDataFromMarkup(),this.$element.find("select option").length>0&&0===this.options.options.length&&(this.options.options=[],this.options.optionDisplayStrings=[],this.$element.find("select option").each(function(t,i){this.options.options.push(e(i).val()),this.options.optionDisplayStrings.push(e.trim(e(i).text())),e(i).attr("selected")&&(this.selectedIndex=t)}.bind(this))),this.inputElement=this.$element.find("."+i),this.$element.removeClass("is-highlighted"),this.options.placeholder||(this.options.placeholder=this.inputElement.attr("placeholder")),this._update()},_readDataFromMarkup:function(){for(var t,i,n=[{attr:"data-option-loader",key:"optionLoader"},{attr:"data-option-value-reader",key:"optionValueReader"},{attr:"data-option-title-reader",key:"optionTitleReader"},{attr:"data-autocomplete-callback",key:"autocompleteCallback"},{attr:"data-option-renderer",key:"optionRenderer"}],o=0;o<n.length;o++)this.$element.attr(n[o].attr)&&(t=this._getHandler(n[o].key,"cui.pathbrowser."+n[o].key.toLowerCase()+".default"),i=this._getHandler(n[o].key,this.$element.attr(n[o].attr)),this[n[o].key]=i||(t||e.noop()));this.$element.attr("data-option-loader-root")&&(this.options.optionLoaderRoot=this.$element.attr("data-option-loader-root")),this.$element.attr("data-root-path")&&(this.options.rootPath=this.$element.attr("data-root-path")),this.$element.attr("placeholder")&&(this.options.placeholder=this.$element.attr("placeholder")),this.$element.attr("data-placeholder")&&(this.options.placeholder=this.$element.attr("data-placeholder")),(this.$element.attr("disabled")||this.$element.attr("data-disabled"))&&(this.options.disabled=!0)},_handleValueChange:function(e){this.options.value&&this._setInputValue(this.options.value)},_update:function(){if(this.options.placeholder&&this.inputElement.attr("placeholder",this.options.placeholder),this.options.disabled?(this.$element.addClass("is-disabled"),this.inputElement.add(this.$button).prop("disabled",!0)):(this.$element.removeClass("is-disabled"),this.inputElement.add(this.$button).prop("disabled",!1)),this.selectedIndex>=0){var e=this.options.options[this.selectedIndex];if(e&&0!==e.indexOf("/")){var t="",i=this.inputElement.val().lastIndexOf("/");i>=0&&(t=this.inputElement.val().substring(0,i+1)),e=t+e}this._setInputValue(e,!0)}},_setInputValue:function(e,t){null!=e&&(this.inputElement.val(e),this.inputElement.change(),t&&this.inputElement==document.activeElement&&CUI.util.selectText(this.inputElement,e.length))},_keyUp:function(e){8===e.keyCode&&(this.triggeredBackspace=!1)},_keyPressed:function(e){var t=e.keyCode;this.dropdownList.get("visible")||40===t&&(this._inputChanged(),e.preventDefault())},_inputChanged:function(){var e=this,t=this.inputElement.val();t.length>0?this.autocompleteCallback(t).done((function(t){e._showAutocompleter(t)})).fail((function(){})):this.dropdownList.hide()},_showAutocompleter:function(e){if(this.dropdownList.hide(),e&&0!==e.length){this._selectlist.empty();for(var t=0;t<e.length;t++)this._selectlist.append(this.optionRenderer(null,e[t]));this.dropdownList.show()}},_rebuildOptions:function(t,i,n){var o=this,a=CUI.util.getNested(n,o.options.optionLoaderRoot);if(a){var r=[],s=[];e.each(a,function(e,t){var i;i=o.optionValueReader?o.optionValueReader(t):"object"==typeof t?t.path:t,r.push(i);var n="";o.optionTitleReader?n=o.optionTitleReader(t):"object"==typeof t&&(n=t.title),s.push(n)}.bind(o)),o.options.options=r,o.options.optionDisplayStrings=s;var l=o._filterOptions(i);t.resolve(l)}else t.reject()},_filterOptions:function(t){var i=[],n=t.split("/");return n=n[n.length-1].toLowerCase(),e.each(this.options.options,function(e,t){t.toLowerCase().indexOf(n,0)>=0&&i.push(e)}.bind(this)),i},_getHandler:function(e,t){var i=function(e){return function(t,i){return t.name===e}}.call(this,t),n=r.get(e,i)[0];return n&&"function"==typeof n.handler?n.handler.bind(this):void 0},_constructPicker:function(){var t,i="mod-guid-"+this.guid,n="#"+i+".coral-Modal";this.$picker=e("body").find(n),0===this.$picker.length&&(e("body").append(a.replace("%ID%",i)),this.$picker=e("body").find(n)),t=e.extend({},this.options,{element:this.$picker}),this.picker=new l(t)},_clickedPickerButton:function(){var t,i=this;i.options.disabled||(i.picker.columnView?i.picker.startup(i.inputElement.val()):(i.$button.prop("disabled",!0),t=e('<div class="coral-Wait coral-Wait--large coral-Wait--center"></div>').appendTo("body"),i.picker.startup(i.inputElement.val()).always((function(){i.$button.prop("disabled",!1),t.remove()}))))},_beforeHidePicker:function(){this.pickerShown=!1,this.inputElement.removeClass("is-highlighted")},_pickerSelectionConfirmed:function(e){e.selectedValue&&(-1!==this.options.options.indexOf(e.selectedValue)?this.setSelectedIndex(e.selectedValue):(this.setSelectedIndex(-1),this._setInputValue(e.selectedValue,!0)),this.inputElement.focus())}});var s="coral-pathbrowser-picker-confirm",l=new Class({toString:"Picker",extend:CUI.Widget,construct:function(t){this.$element.modal({visible:!1}),this.modal=this.$element.data("modal"),this.modal.backdrop.addClass("coral-Pathbrowser-picker-backdrop"),this._hasTabs=null!=this.options.pickerAdditionalTabs;var i=this.$element.find(".coral-Modal-body"),a=this._hasTabs?e(o):e(n);i.append(a),this._selection=this._hasTabs?{}:[],this.$tabPanel=this.$element.find(".coral-TabPanel"),this.tabPanel=new CUI.Tabs({element:this.$tabPanel}),this._setupAdditionalTabs(),this.$columnView=this.$element.find(".coral-ColumnView"),this.$crumbs=this.$element.find("."+c),this.crumbs=new h({element:this.$crumbs}),this._setCrumbRootHref(this.options.pickerSrc),this.$cancel=this.$element.find(".js-coral-pathbrowser-cancel"),this.$confirm=this.$element.find(".js-coral-pathbrowser-confirm"),this._setupListeners()},startup:function(t){var i,n=e.Deferred(),o=this,a=function(){o._renderPicker(),o._showPicker(),o.selectPath(t).fail((function(){-1!=t.indexOf("#")&&(t=t.substring(0,t.lastIndexOf("#")),o.selectPath(t).fail((function(){-1!=t.indexOf(".")&&(t=t.substring(0,t.lastIndexOf(".")),o.selectPath(t).always((function(){o._buildCrumbs(o._determineCrumbs())})))})).always((function(){o._buildCrumbs(o._determineCrumbs()),o._updateConfirm()})))})).always((function(){o._buildCrumbs(o._determineCrumbs())}))};return o.columnView?(a(),n.resolve(),o.$columnView.focus()):(i=new CUI.ColumnView({element:o.$columnView,multiselect:o.options.pickerMultiselect||!1})).setSource(o.options.pickerSrc).done((function(){o.columnView=i,a(),n.resolve(),o.$columnView.focus()})).fail((function(){n.fail()})),e(document).on("keypress.pathbrowser-confirm",function(t){13===t.which&&(e(":focus").is(this.$cancel)?this._takeDown():this.$confirm.prop("disabled")||this._selectionConfirmed())}.bind(this)),n.promise()},selectPath:function(t){var i,n,o,a,r=e.Deferred();if(t=t.replace(/\/$/,""),i=this.options.rootPath||"/",t&&t.slice(0,i.length)==i){if(t="/"==(t=t.slice(i.length)).charAt(0)?t.substr(1):t,n=t.split("/"),a=this.options.pickerIdKey,n.length){var s=0;return o=function(t,i){if(s==n.length)return!1;var o=i.find(".coral-ColumnView-item").filter((function(){var t,i=e(this).data("data");return!!(t=i&&i[a]?i[a]:e(this).data(a))&&String(t)===n[s]}));return s++,1==o.length?o:void 0},this.columnView.navigate(o)}r.reject()}else r.reject();return r},_showPicker:function(){this.modal.show()},_hidePicker:function(){this.modal.hide()},_takeDown:function(){e(document).off("keypress.pathbrowser-confirm"),this._hidePicker()},_setupListeners:function(){var e=this;e.$cancel.on("click",e._takeDown.bind(e)),e.$confirm.on("click",e._selectionConfirmed.bind(e)),e.$columnView.on("coral-columnview-item-select",e._itemSelected.bind(e)),e.$element.on("coral-pathbrowser-picker-select",(function(t){var i=t.selectedValue?t.selectedValue:[];e._handleSelection.call(e,i)})),this._hasTabs&&this.tabPanel._getTabs().on("focus",e._updateConfirm.bind(e))},_setupAdditionalTabs:function(){var e=this.options.pickerAdditionalTabs;if(e&&e.length>0)for(var t=0;t<e.length;t++){var i=e[t];i&&(i.active=!0===i.active,this.tabPanel.addItem(i))}},_setupCrumbListeners:function(t){var i=this;e(t).on("click",(function(n){if(!e(this).hasClass(d)&&!e(this).hasClass(u)){var o,a,r,s=t.data("coral-columnview-item"),l=!0;s&&s.item?(r=s.item,a=function(e,t){if(l)return l=!1,t.find(r).click()}):a=function(e,t){},(o=e(t).attr("href"))&&i.columnView.navigate(a,o).done((function(){i._buildCrumbs()}))}n.preventDefault()}))},_itemSelected:function(t){var i=this._getSelectedValue(!0);this.$element.trigger(e.Event("coral-pathbrowser-picker-select",{selectedValue:i})),this._buildCrumbs(this._determineCrumbs())},_enableConfirm:function(e){this.$confirm.prop("disabled",!e)},_updateConfirm:function(){var e=this._getSelection(),t=e&&e.length>0;this._enableConfirm(t)},_setSelection:function(e){if(this._hasTabs){var t=this._getActivePaneId();this._selection[t]=e}else this._selection=e},_getSelection:function(){var e;if(this._hasTabs){var t=this._getActivePaneId();e=this._selection[t]}else e=this._selection;return e},_handleSelection:function(e){this._setSelection(e),this._updateConfirm()},_getActivePaneId:function(){var e=this.tabPanel.panelist.find(".coral-TabPanel-pane.is-active");return e.length>0?e.get(0).id:void 0},_selectionConfirmed:function(){var t=this._getSelection();this.$element.trigger(e.Event(s,{selectedValue:t})),this._takeDown()},_getSelectedValue:function(e){var t,i=this.columnView.getSelectedItems(),n=!0;if(i.length>0&&(i[0].data&&i[0].data[this.options.pickerValueKey]?t=i[0].data[this.options.pickerValueKey]:i[0].item&&(t=i[0].item.data(this.options.pickerValueKey)),e&&(i[0].data&&i[0].data.invalid||i[0].item&&i[0].item.data("invalid"))&&(n=!1)),void 0===t&&this.options.rootPathValidSelection&&(t=this.options.rootPath),t&&n)return t},_renderPicker:function(){this.$element.find(".coral-Modal-title").text(this.options.pickerTitle)},_resetPicker:function(){this.columnView.setSource(this.options.pickerSrc),this._updateConfirm(),this._buildCrumbs();var t=this._getSelectedValue(!0);this.$element.trigger(e.Event("coral-pathbrowser-picker-select",{selectedValue:t}))},_buildCrumbs:function(t){this.crumbs.removeAllItems();var i=this.crumbs.addItem(this.options.crumbRoot,this.options.pickerSrc);i.on("click",function(e){e.preventDefault(),i.hasClass(d)||i.hasClass(u)||this._resetPicker()}.bind(this)),t&&e.each(t,function(e,t){var i;t&&(i=this.crumbs.addItem(t),this._setupCrumbListeners(i))}.bind(this)),this.crumbs.truncate()},_determineCrumbs:function(){var t=this.columnView.getBreadcrumbItems(),i=this.columnView.getSelectedItems();return e.each(t,function(e,i){t[e]=this._getCrumbFromColumnViewItem(i,!1)}.bind(this)),i.length>0&&t.push(this._getCrumbFromColumnViewItem(i[0],!0)),t},_getCrumbFromColumnViewItem:function(t,i){var n,o=t.data,a=t.item,r=e("<a></a>");if(r.data("coral-columnview-item",t),r.toggleClass(d,i),n=e(a).closest(".coral-ColumnView-column").data("href")){if(r.attr("href",n),o&&o._links&&o._links.self&&o._links.self.title)return r.text(o._links.self.title);if(a)return r.text(a.text().trim())}},_setCrumbRootHref:function(t){e.isPlainObject(this.options.crumbRoot)?this.options.crumbRoot.href=t:this.options.crumbRoot&&this.options.crumbRoot.jquery&&this.options.crumbRoot.attr("href",t)}}),c="coral-Crumbs",d="coral-Crumbs-item--unavailable",u="coral-Crumbs-item--noNavigation",h=new Class({toString:"Crumbs",extend:CUI.Widget,construct:function(e){this._decorateElement(),this._findOrCreateEllipsis(),this.truncate()},addItem:function(e,t){var i=this._itemFromTitleOrObjectOrElement(e,t);return this.$element.append(i),i},removeAllItems:function(){return delete this._firstCrumb,this.$element.children().remove().not(".coral-Crumbs-item--ellipsis")},truncate:function(){var t=this.$element.children(),i=this.$element.width()-100;t.removeClass("is-collapsed"),this._ellipsis.remove();var n=Array.prototype.reduce.call(t,(function(t,i){return t+e(i).outerWidth()}),0);if(t.length&&n>i){for(var o=n,a=1,r=t.length-1;a<r&&o>i;a++){var s=e(t[a]);o-=s.width(),s.addClass("is-collapsed")}this._ellipsis.insertAfter(t[0]).addClass("is-collapsed")}},_ellipsis:e(),_decorateElement:function(){if(!this.$element.is("nav"))throw new Error("Crumbs expects to be attached to a nav element");this.$element.addClass(c),this.$element.children().addClass("coral-Crumbs-item")},_findOrCreateEllipsis:function(){var t=this.$element.find(".coral-Crumbs-item--ellipsis");0===t.length&&(t=e('<a class="coral-Crumbs-item coral-Crumbs-item--ellipsis" href="#"></a>')),this._ellipsis=t},_itemFromTitleOrObjectOrElement:function(t,i){var n,o=t,a="string"==typeof o?o:void 0,r=e.isPlainObject(o)?o:void 0,s=o&&o.jquery?o:void 0;return s?(n=s).addClass("coral-Crumbs-item"):n=r?this._constructItemFromObject(r):this._constructItemFromTitleAndRef(a,i),n},_constructItemFromTitleAndRef:function(t,i){return e("<a>").attr("href",i).text(t).addClass("coral-Crumbs-item")},_constructItemFromObject:function(t){var i=this._constructItemFromTitleAndRef(t.title,t.href);if(t.hasOwnProperty("isAvailable")&&!t.isAvailable&&(i.addClass(d),i.attr("tabindex",-1)),t.hasOwnProperty("isNavigable")&&!t.isNavigable&&i.addClass(u),t.hasOwnProperty("icon")){var n=e('<i class="coral-Crumbs-item-icon coral-Icon"></i>');n.addClass(t.icon),i.prepend(n)}return i}});CUI.util.plugClass(CUI.PathBrowser),CUI.options.dataAPI&&e(document).on("cui-contentloaded.data-api",(function(t){e("[data-init~='pathbrowser']",t.target).pathBrowser()})),CUI.PathBrowser.register=function(e,t){r.register(e,t)},CUI.PathBrowser.register("optionRenderer",{name:"cui.pathbrowser.optionrenderer.default",handler:function(t,i){var n=this.options.options[i];if(0===n.indexOf("/")){var o=n.lastIndexOf("/");n=n.substring(o+1)}var a="";return this.options.showTitles&&this.options.optionDisplayStrings[i]&&this.options.optionDisplayStrings[i].length>0&&(a=" "+this.options.optionDisplayStrings[i]),e("<li>",{class:"coral-SelectList-item coral-SelectList-item--option","data-value":n}).text(n+a)}}),CUI.PathBrowser.register("autocompleteCallback",{name:"cui.pathbrowser.autocompletecallback.default",handler:function(t){var i=this,n=e.Deferred();if(0!==t.indexOf("/"))return n.resolve([]),n.promise();var o=t.substring(0,t.lastIndexOf("/"))||"/";if(o!=this.lastBasePath&&i.optionLoader){var a=!1;"/"===o&&i.options.rootPath&&(""!==(t=i.options.rootPath.replace(/\/$/,""))?a=!0:t="/"),a&&(o=t,t+="/",i._setInputValue(t));var r={loadOptions:i.optionLoader},s=e.Deferred();s.promise(r),r.done((function(o){e.isFunction(o.promise)?o.done((function(e){i._rebuildOptions(n,t,e)})):i._rebuildOptions(n,t,o)}));var l=r.loadOptions(o,(function(e){s.resolve(e)}));l&&s.resolve(l)}else n.resolve(i._filterOptions(t));return this.lastBasePath=o,n.promise()}})}(window.jQuery),window.CUI=window.CUI||{},CUI.imageeditor=CUI.imageeditor||{},CUI.imageeditor.actions={},CUI.imageeditor.plugins={},CUI.imageeditor.ui={},CUI.imageeditor.strings={},CUI.imageeditor.strings["de-DE"]={"control.toolbar.close":"Abbrechen","control.toolbar.finish":"Beenden","crop.aspect_ratios.16_to_9":"16 : 9","crop.aspect_ratios.2_to_3":"2 : 3","crop.aspect_ratios.3_to_5":"3 : 5","crop.aspect_ratios.free_hand":"Freihand","crop.aspect_ratios.square":"Quadrat","crop.template.removecrop":"Beschnitt entfernen","crop.toolbar.confirm":"Bestätigen","crop.toolbar.identifier":"Zuschneiden","crop.toolbar.launch":"Beschnitt beginnen","crop.toolbar.launchwithratio":"Beschnitt beginnen","crop.toolbar.unlaunch":"Abbrechen","flip.toolbar.horizontal":"Horizontal spiegeln","flip.toolbar.vertical":"Vertikal spiegeln","fullscreen.toolbar.fullscreen":"In die Vollbildansicht wechseln","fullscreen.toolbar.fullscreenexit":"Vollbildansicht verlassen","history.toolbar.redo":"Wiederherstellen","history.toolbar.undo":"Rückgängig","map.template.alt_text":"Alt-Text","map.template.confirm":"Bestätigen","map.template.delete":"Löschen","map.template.new_tab":"Neuer Tab","map.template.parent_frame":"Parent-Frame","map.template.path":"Pfad","map.template.path_picker":"Pfad-Picker","map.template.same_tab":"Selber Tab","map.template.target":"Ziel","map.template.top_frame":"Top-Frame","map.template.unlaunch":"Abbrechen","map.toolbar.circle":"Kreisförmige Karte hinzufügen","map.toolbar.confirm":"Bestätigen","map.toolbar.launch":"Karte starten","map.toolbar.polygon":"Polygonkarte hinzufügen","map.toolbar.rectangle":"Rechteckige Karte hinzufügen","map.toolbar.unlaunch":"Abbrechen","rotate.toolbar.left":"Nach links drehen","rotate.toolbar.right":"Nach rechts drehen","rotate.toolbar.right.finish":"Bild gedreht rechts","rotate.toolbar.left.finish":"Bild Gedreht nach links","flip.toolbar.vertical.finish":"Bild vertikal gekippt","flip.toolbar.horizontal.finish":"Bild horizontal gekippt","image.edit.finish":"Bild erfolgreich bearbeitet","zoom.toolbar.popupslider":"Zoom-Schieberegler öffnen","zoom.toolbar.reset100":"Zoom zurücksetzen"},CUI.imageeditor.strings["en-US"]={"control.toolbar.close":"Cancel","control.toolbar.finish":"Finish","crop.aspect_ratios.16_to_9":"16 : 9","crop.aspect_ratios.2_to_3":"2 : 3","crop.aspect_ratios.3_to_5":"3 : 5","crop.aspect_ratios.free_hand":"Free Hand","crop.aspect_ratios.square":"Square","crop.template.removecrop":"Remove Crop","crop.toolbar.confirm":"Confirm","crop.toolbar.identifier":"Crop","crop.toolbar.launch":"Start Crop","crop.toolbar.launchwithratio":"Start Crop","crop.toolbar.unlaunch":"Cancel","flip.toolbar.horizontal":"Flip Horizontally","flip.toolbar.vertical":"Flip Vertically","fullscreen.toolbar.fullscreen":"Enter Fullscreen","fullscreen.toolbar.fullscreenexit":"Exit Fullscreen","history.toolbar.redo":"Redo","history.toolbar.undo":"Undo","map.template.alt_text":"Alt Text","map.template.confirm":"Confirm","map.template.delete":"Delete","map.template.new_tab":"New Tab","map.template.parent_frame":"Parent Frame","map.template.path":"Path","map.template.path_picker":"Path Picker","map.template.same_tab":"Same Tab","map.template.target":"Target","map.template.top_frame":"Top Frame","map.template.unlaunch":"Cancel","map.toolbar.circle":"Add Circular Map","map.toolbar.confirm":"Confirm","map.toolbar.launch":"Launch Map","map.toolbar.polygon":"Add Polygon Map","map.toolbar.rectangle":"Add Rectangular Map","map.toolbar.unlaunch":"Cancel","rotate.toolbar.left":"Rotate Left","rotate.toolbar.right":"Rotate Right","rotate.toolbar.right.finish":"Image Rotated Right","rotate.toolbar.left.finish":"Image Rotated Left","flip.toolbar.vertical.finish":"Image Flipped Vertically","flip.toolbar.horizontal.finish":"Image Flipped Horizontally","image.edit.finish":"Image Edited Successfully","zoom.toolbar.popupslider":"Open Zoom Slider","zoom.toolbar.reset100":"Reset Zoom"},CUI.imageeditor.strings["es-ES"]={"control.toolbar.close":"Cancelar","control.toolbar.finish":"Terminar","crop.aspect_ratios.16_to_9":"16 : 9","crop.aspect_ratios.2_to_3":"2 : 3","crop.aspect_ratios.3_to_5":"3 : 5","crop.aspect_ratios.free_hand":"Manos libres","crop.aspect_ratios.square":"cuadrado","crop.template.removecrop":"Eliminar corte","crop.toolbar.confirm":"Confirmar","crop.toolbar.identifier":"Cortar","crop.toolbar.launch":"Empezar a cortar","crop.toolbar.launchwithratio":"Empezar a cortar","crop.toolbar.unlaunch":"Cancelar","flip.toolbar.horizontal":"Girar horizontalmente","flip.toolbar.vertical":"Girar verticalmente","fullscreen.toolbar.fullscreen":"Ir a pantalla completa","fullscreen.toolbar.fullscreenexit":"Salir de la pantalla completa","history.toolbar.redo":"Rehacer","history.toolbar.undo":"Deshacer","map.template.alt_text":"Texto alternativo","map.template.confirm":"Confirmar","map.template.delete":"Eliminar","map.template.new_tab":"Nueva pestaña","map.template.parent_frame":"Marco superior","map.template.path":"Ruta","map.template.path_picker":"Seleccionador de ruta","map.template.same_tab":"Misma pestaña","map.template.target":"Meta","map.template.top_frame":"Parte superior","map.template.unlaunch":"Cancelar","map.toolbar.circle":"Añadir mapa circular","map.toolbar.confirm":"Confirmar","map.toolbar.launch":"Iniciar mapa","map.toolbar.polygon":"Añadir mapa poligonal","map.toolbar.rectangle":"Añadir mapa rectangular","map.toolbar.unlaunch":"Cancelar","rotate.toolbar.left":"Girar a la izquierda","rotate.toolbar.right":"Girar a la derecha","rotate.toolbar.right.finish":"Imagen girada a la derecha","rotate.toolbar.left.finish":"Imagen girada a la izquierda","flip.toolbar.vertical.finish":"Imagen volteada verticalmente","flip.toolbar.horizontal.finish":"Imagen volteada horizontalmente","image.edit.finish":"Imagen editada con éxito","zoom.toolbar.popupslider":"Abrir zoom deslizante","zoom.toolbar.reset100":"Restablecer zoom"},CUI.imageeditor.strings["fr-FR"]={"control.toolbar.close":"Annuler","control.toolbar.finish":"Terminer","crop.aspect_ratios.16_to_9":"16 : 9","crop.aspect_ratios.2_to_3":"2 : 3","crop.aspect_ratios.3_to_5":"3 : 5","crop.aspect_ratios.free_hand":"Main libre","crop.aspect_ratios.square":"Carré","crop.template.removecrop":"Annuler le recadrage","crop.toolbar.confirm":"Confirmer","crop.toolbar.identifier":"Recadrer","crop.toolbar.launch":"Commencer le recadrage","crop.toolbar.launchwithratio":"Commencer le recadrage","crop.toolbar.unlaunch":"Annuler","flip.toolbar.horizontal":"Inverser horizontalement","flip.toolbar.vertical":"Inverser verticalement","fullscreen.toolbar.fullscreen":"Passer au mode plein écran","fullscreen.toolbar.fullscreenexit":"Quitter le mode plein écran","history.toolbar.redo":"Refaire","history.toolbar.undo":"Annuler","map.template.alt_text":"Texte alternatif","map.template.confirm":"Confirmer","map.template.delete":"Supprimer","map.template.new_tab":"Nouvel onglet","map.template.parent_frame":"Cadre parent","map.template.path":"Chemin","map.template.path_picker":"Sélecteur de chemin","map.template.same_tab":"Même onglet","map.template.target":"Cible","map.template.top_frame":"Cadre supérieur","map.template.unlaunch":"Annuler","map.toolbar.circle":"Ajouter une carte circulaire","map.toolbar.confirm":"Confirmer","map.toolbar.launch":"Lancer la carte","map.toolbar.polygon":"Ajouter une carte polygonale","map.toolbar.rectangle":"Ajouter une carte rectangulaire","map.toolbar.unlaunch":"Annuler","rotate.toolbar.left":"Faire pivoter vers la gauche","rotate.toolbar.right":"Faire pivoter vers la droite","rotate.toolbar.right.finish":"Image tournée à droite","rotate.toolbar.left.finish":"Image tournée à gauche","flip.toolbar.vertical.finish":"Image renversée verticalement","flip.toolbar.horizontal.finish":"Image retournée horizontalement","image.edit.finish":"Image éditée avec succès","zoom.toolbar.popupslider":"Ouvrir le curseur du zoom","zoom.toolbar.reset100":"Réinitialiser le zoom"},CUI.imageeditor.strings["it-IT"]={"control.toolbar.close":"Annulla","control.toolbar.finish":"Termina","crop.aspect_ratios.16_to_9":"16 : 9","crop.aspect_ratios.2_to_3":"2 : 3","crop.aspect_ratios.3_to_5":"3 : 5","crop.aspect_ratios.free_hand":"Mano Libera","crop.aspect_ratios.square":"Quadrato","crop.template.removecrop":"Rimuovi Ritaglio","crop.toolbar.confirm":"Conferma","crop.toolbar.identifier":"Ritaglia","crop.toolbar.launch":"Avvia Ritaglio","crop.toolbar.launchwithratio":"Avvia Ritaglio","crop.toolbar.unlaunch":"Annulla","flip.toolbar.horizontal":"Inverti Orizzontalmente","flip.toolbar.vertical":"Inverti Verticalmente","fullscreen.toolbar.fullscreen":"Attiva Modalità Schermo Intero","fullscreen.toolbar.fullscreenexit":"Disattiva Modalità Schermo Intero","history.toolbar.redo":"Ripeti Ultima Operazione","history.toolbar.undo":"Annulla Ultima Operazione","map.template.alt_text":"Testo Alternativo","map.template.confirm":"Conferma","map.template.delete":"Cancella","map.template.new_tab":"Nuova Scheda","map.template.parent_frame":"Riquadro Principale","map.template.path":"Percorso","map.template.path_picker":"Selezionatore Del Percorso","map.template.same_tab":"Stessa Scheda","map.template.target":"Obiettivo","map.template.top_frame":"Riquadro Superiore","map.template.unlaunch":"Annulla","map.toolbar.circle":"Aggiungi Mappa Circolare","map.toolbar.confirm":"Conferma","map.toolbar.launch":"Attiva Mappa","map.toolbar.polygon":"Aggiungi Mappa Poligonale","map.toolbar.rectangle":"Aggiungi Mappa Rettangolare","map.toolbar.unlaunch":"Annulla","rotate.toolbar.left":"Ruota A Sinistra","rotate.toolbar.right":"Ruota A Destra","rotate.toolbar.right.finish":"Immagine ruotata a destra","rotate.toolbar.left.finish":"Immagine ruotata a sinistra","flip.toolbar.vertical.finish":"Immagine capovolta verticalmente","flip.toolbar.horizontal.finish":"Immagine capovolta orizzontalmente","image.edit.finish":"Immagine modificata correttamente","zoom.toolbar.popupslider":"Apri Controllo Zoom","zoom.toolbar.reset100":"Reimposta Zoom"},CUI.imageeditor.strings["ja-JP"]={"control.toolbar.close":"キャンセル","control.toolbar.finish":"終了","crop.aspect_ratios.16_to_9":"16 : 9","crop.aspect_ratios.2_to_3":"2 : 3","crop.aspect_ratios.3_to_5":"3 : 5","crop.aspect_ratios.free_hand":"フリーハンド","crop.aspect_ratios.square":"四角","crop.template.removecrop":"切り抜きを解除","crop.toolbar.confirm":"承認","crop.toolbar.identifier":"切り抜き","crop.toolbar.launch":"切り抜きを開始","crop.toolbar.launchwithratio":"切り抜きを開始","crop.toolbar.unlaunch":"キャンセル","flip.toolbar.horizontal":"左右反転","flip.toolbar.vertical":"上下反転","fullscreen.toolbar.fullscreen":"フルスクリーンで表示","fullscreen.toolbar.fullscreenexit":"フルスクリーンを解除","history.toolbar.redo":"やり直す","history.toolbar.undo":"元に戻す","map.template.alt_text":"代替テキスト","map.template.confirm":"承認","map.template.delete":"削除","map.template.new_tab":"新しいタブ","map.template.parent_frame":"親フレーム","map.template.path":"パス","map.template.path_picker":"パスピッカー","map.template.same_tab":"同じタブ","map.template.target":"ターゲット","map.template.top_frame":"トップフレーム","map.template.unlaunch":"キャンセル","map.toolbar.circle":"環状マップを追加","map.toolbar.confirm":"承認","map.toolbar.launch":"マップを表示","map.toolbar.polygon":"ポリゴンマップを追加","map.toolbar.rectangle":"矩形マップを追加","map.toolbar.unlaunch":"キャンセル","rotate.toolbar.left":"左に回転","rotate.toolbar.right":"右に回転","rotate.toolbar.right.finish":"右に回転した画像","rotate.toolbar.left.finish":"左に回転した画像","flip.toolbar.vertical.finish":"イメージを縦に反転","flip.toolbar.horizontal.finish":"イメージが横に反転","image.edit.finish":"画像の編集に成功しました","zoom.toolbar.popupslider":"ズームスライダーを開く","zoom.toolbar.reset100":"ズームをリセット"},CUI.imageeditor.strings["ko-KR"]={"control.toolbar.close":"취소","control.toolbar.finish":"마치기","crop.aspect_ratios.16_to_9":"16 : 9","crop.aspect_ratios.2_to_3":"2 : 3","crop.aspect_ratios.3_to_5":"3 : 5","crop.aspect_ratios.free_hand":"프리 핸드","crop.aspect_ratios.square":"정사각형","crop.template.removecrop":"자르기 제거","crop.toolbar.confirm":"확인","crop.toolbar.identifier":"자르기","crop.toolbar.launch":"자르기 시작","crop.toolbar.launchwithratio":"자르기 시작","crop.toolbar.unlaunch":"취소","flip.toolbar.horizontal":"상하 반전","flip.toolbar.vertical":"좌우 반전","fullscreen.toolbar.fullscreen":"전체화면 들어가기","fullscreen.toolbar.fullscreenexit":"전체화면 나가기","history.toolbar.redo":"다시 실행","history.toolbar.undo":"실행 취소","map.template.alt_text":"대체 텍스트","map.template.confirm":"확인","map.template.delete":"삭제","map.template.new_tab":"새 탭","map.template.parent_frame":"부모 프레임","map.template.path":"경로","map.template.path_picker":"경로 선택기","map.template.same_tab":"같은 탭","map.template.target":"대상","map.template.top_frame":"상위 프레임","map.template.unlaunch":"취소","map.toolbar.circle":"순환형 지도 추가","map.toolbar.confirm":"확인","map.toolbar.launch":"지도 실행","map.toolbar.polygon":"다각형 지도 추가","map.toolbar.rectangle":"사각형 지도 추가","map.toolbar.unlaunch":"취소","rotate.toolbar.left":"왼쪽으로 회전","rotate.toolbar.right":"오른쪽으로 회전","rotate.toolbar.right.finish":"오른쪽으로 회전한 이미지","rotate.toolbar.left.finish":"왼쪽으로 회전한 이미지","flip.toolbar.vertical.finish":"세로로 뒤집힌 이미지","flip.toolbar.horizontal.finish":"이미지가 수평으로 뒤집혔습니다.","image.edit.finish":"이미지 편집 성공적으로","zoom.toolbar.popupslider":"줌 슬라이더 열기","zoom.toolbar.reset100":"줌 재설정"},CUI.imageeditor.strings["pt-BR"]={"control.toolbar.close":"Cancelar","control.toolbar.finish":"Terminar","crop.aspect_ratios.16_to_9":"16 : 9","crop.aspect_ratios.2_to_3":"2 : 3","crop.aspect_ratios.3_to_5":"3 : 5","crop.aspect_ratios.free_hand":"Mão Livre","crop.aspect_ratios.square":"Quadrado","crop.template.removecrop":"Remover Corte","crop.toolbar.confirm":"Confirmar","crop.toolbar.identifier":"CorteÏ","crop.toolbar.launch":"Começar Corte","crop.toolbar.launchwithratio":"Começar Corte","crop.toolbar.unlaunch":"Cancelar","flip.toolbar.horizontal":"Giro Horizontal","flip.toolbar.vertical":"Giro Vertical","fullscreen.toolbar.fullscreen":"Inserir Tela inteira","fullscreen.toolbar.fullscreenexit":"Sair de Tela inteira","history.toolbar.redo":"Refazer","history.toolbar.undo":"Desfazer","map.template.alt_text":"Texto Alternativo","map.template.confirm":"Confirmar","map.template.delete":"Deletar","map.template.new_tab":"Nova Tabela","map.template.parent_frame":"Quadro Principal","map.template.path":"Caminho","map.template.path_picker":"Coletor de Caminho","map.template.same_tab":"Mesma Tabela","map.template.target":"Alvo","map.template.top_frame":"Quadro Superior","map.template.unlaunch":"Cancelar","map.toolbar.circle":"Adicionar Mapa Circular","map.toolbar.confirm":"Confirmar","map.toolbar.launch":"Lançar Mapa","map.toolbar.polygon":"Adicionar Mapa Polígono","map.toolbar.rectangle":"Adicionar Mapa Retangular","map.toolbar.unlaunch":"Cancelar","rotate.toolbar.left":"Girar à Esquerda","rotate.toolbar.right":"Girar à Direita","rotate.toolbar.right.finish":"Imagem girada à direita","rotate.toolbar.left.finish":"Imagem girada à esquerda","flip.toolbar.vertical.finish":"Imagem virada verticalmente","flip.toolbar.horizontal.finish":"Imagem virada horizontalmente","image.edit.finish":"Imagem editada com sucesso","zoom.toolbar.popupslider":"Abrir Zoom Deslizante","zoom.toolbar.reset100":"Restabelecer Zoom"},CUI.imageeditor.strings["zh-CN"]={"control.toolbar.close":"取消","control.toolbar.finish":"完成","crop.aspect_ratios.16_to_9":"16 : 9","crop.aspect_ratios.2_to_3":"2 : 3","crop.aspect_ratios.3_to_5":"3 : 5","crop.aspect_ratios.free_hand":"徒手","crop.aspect_ratios.square":"方形","crop.template.removecrop":"去除裁剪","crop.toolbar.confirm":"确认","crop.toolbar.identifier":"裁剪","crop.toolbar.launch":"开始裁剪","crop.toolbar.launchwithratio":"开始裁剪","crop.toolbar.unlaunch":"取消","flip.toolbar.horizontal":"水平翻转","flip.toolbar.vertical":"垂直翻转","fullscreen.toolbar.fullscreen":"进入全屏","fullscreen.toolbar.fullscreenexit":"退出全屏","history.toolbar.redo":"重做","history.toolbar.undo":"撤销","map.template.alt_text":"Alt 文字","map.template.confirm":"确认","map.template.delete":"删除","map.template.new_tab":"新选项卡","map.template.parent_frame":"父框架","map.template.path":"路径","map.template.path_picker":"路径选择器","map.template.same_tab":"同一选项卡","map.template.target":"目标","map.template.top_frame":"顶层框架","map.template.unlaunch":"取消","map.toolbar.circle":"添加圆形地图","map.toolbar.confirm":"确认","map.toolbar.launch":"启动地图","map.toolbar.polygon":"添加多边形地图","map.toolbar.rectangle":"添加矩形地图","map.toolbar.unlaunch":"取消","rotate.toolbar.left":"向左旋转","rotate.toolbar.right":"向右旋转","rotate.toolbar.right.finish":"右图旋转","rotate.toolbar.left.finish":"图像向左旋转","flip.toolbar.vertical.finish":"垂直翻转图像","flip.toolbar.horizontal.finish":"图像水平翻转","image.edit.finish":"已成功编辑图像","zoom.toolbar.popupslider":"打开缩放滑块","zoom.toolbar.reset100":"重置缩放"},CUI.imageeditor.strings["zh-TW"]={"control.toolbar.close":"取消","control.toolbar.finish":"完成","crop.aspect_ratios.16_to_9":"16 : 9","crop.aspect_ratios.2_to_3":"2 : 3","crop.aspect_ratios.3_to_5":"3 : 5","crop.aspect_ratios.free_hand":"徒手繪圖","crop.aspect_ratios.square":"正方型","crop.template.removecrop":"移除裁切","crop.toolbar.confirm":"確認","crop.toolbar.identifier":"裁切","crop.toolbar.launch":"開始裁切","crop.toolbar.launchwithratio":"開始裁切","crop.toolbar.unlaunch":"取消","flip.toolbar.horizontal":"水平翻轉","flip.toolbar.vertical":"垂直翻轉","fullscreen.toolbar.fullscreen":"進入全螢幕模式","fullscreen.toolbar.fullscreenexit":"離開全螢幕模式","history.toolbar.redo":"取消復原","history.toolbar.undo":"復原","map.template.alt_text":"修改文字","map.template.confirm":"確認","map.template.delete":"刪除","map.template.new_tab":"新分頁","map.template.parent_frame":"母框架","map.template.path":"路徑","map.template.path_picker":"路線選擇器","map.template.same_tab":"同一分頁","map.template.target":"目標","map.template.top_frame":"最上層框架","map.template.unlaunch":"取消","map.toolbar.circle":"新增圓形地圖","map.toolbar.confirm":"確認","map.toolbar.launch":"發佈地圖","map.toolbar.polygon":"新增多邊形地圖","map.toolbar.rectangle":"新增矩型地圖","map.toolbar.unlaunch":"取消","rotate.toolbar.left":"向左旋轉","rotate.toolbar.right":"向右旋轉","rotate.toolbar.right.finish":"右圖旋轉。","rotate.toolbar.left.finish":"圖像向左旋轉。","flip.toolbar.vertical.finish":"垂直翻轉圖像。","flip.toolbar.horizontal.finish":"圖像水準翻轉。","image.edit.finish":"已成功編輯圖像。","zoom.toolbar.popupslider":"開啟縮放滑桿","zoom.toolbar.reset100":"重設縮放"},function(e,t,i){"use strict";var n={en:"en-US","en-us":"en-US",de:"de-DE","de-de":"de-DE",es:"es-ES","es-es":"es-ES",fr:"fr-FR","fr-fr":"fr-FR",it:"it-IT","it-it":"it-IT",ja:"ja-JP","ja-jp":"ja-JP",ko:"ko-KR","ko-kr":"ko-KR",pt:"pt-BR","pt-br":"pt-BR","zh-cn":"zh-CN","zh-hans-cn":"zh-CN","zh-hans":"zh-CN","zh-tw":"zh-TW","zh-hant-tw":"zh-TW","zh-hant":"zh-TW"};CUI.imageeditor.I18nProvider=new Class({toString:"I18nProvider",construct:function(){var e=n[document.documentElement.lang.toLowerCase()]||document.documentElement.lang||"en-US",t=/^(..)-?(.*)$/gi.exec(e);e=void 0!==CUI.imageeditor.strings[t[0]]?t[0]:void 0!==CUI.imageeditor.strings[n[t[1]]]?n[t[1]]:"en-US",this.translations=CUI.imageeditor.strings[e]},get:function(e){return this.has(e)?this.translations[e]:e},has:function(e){return this.translations.hasOwnProperty(e)}})}(jQuery),function(e,t,i){"use strict";CUI.imageeditor.OptionsUtils={loadOptionsAndStartEditing:function(t,i,n){function o(e){"function"==typeof n&&(e=n(e)),t.start(e)}var a={},r=i.data("options"),s=i.data("options-path");e.isPlainObject(r)?o(r):s?e.ajax({url:s,success:function(e){a=e},complete:function(){o(a)}}):o(a)}}}(jQuery),function(e,t,i){"use strict";var n=function(){};CUI.imageeditor.TemplateProvider=new Class({toString:"TemplateProvider",construct:function(t){this.templates=e.extend({},CUI.imageeditor.Templates,t)},get:function(e){return this.has(e)?this.templates[e]:n},has:function(e){return this.templates.hasOwnProperty(e)}}),CUI.imageeditor.TemplateProvider.NOOP=n}(jQuery),function(e,t,i){"use strict";CUI.imageeditor.Theme={IMAGEEDITOR_HIDDEN_CLASS:"u-coral-hidden",TOOLBARITEM_DISABLED_CLASS:"is-disabled",TOOLBARITEM_SELECTED_CLASS:"is-selected",TOOLBARITEM_MODECHANGER_CLASS:"modechanger"}}(jQuery),function(e,t,i){"use strict";CUI.imageeditor.TransformResult=new Class({toString:"TransformResult",result:null,history:null,future:null,construct:function(){this.result={},this.history=[],this.future=[]},registerTransformField:function(e){return!this.result.hasOwnProperty(e)&&(this.result[e]=null,!0)},setTransformValue:function(e,t,i){return!1!==i&&this.storeHistory(),!!this.result.hasOwnProperty(e)&&(this.result[e]=t,!0)},setTransformValues:function(t,i){var n,o,a;if(!1!==i&&this.storeHistory(),e.isPlainObject(t))for(o in t)t.hasOwnProperty(o)&&this.setTransformValue(o,t[o],!1);else if(e.isArray(t))for(n=0;n<t.length;n++)o=(a=e.extend({},t[n])).transformation,delete a.transformation,e.isEmptyObject(a)||this.setTransformValue(o,a,!1)},undo:function(){return!!this.history.length&&(this.storeHistory(),this.future.push(this.history.pop()),this.setTransformValues(this.history.pop(),!1),!0)},redo:function(){return!!this.future.length&&(this.storeHistory(),this.setTransformValues(this.future.pop(),!1),!0)},getTransformValue:function(e){return this.result.hasOwnProperty(e)?this.result[e]:void 0},toJSON:function(){var t,i=[];for(t in this.result)this.result.hasOwnProperty(t)&&e.isPlainObject(this.result[t])&&!e.isEmptyObject(this.result[t])&&i.push(e.extend(!0,{transformation:t},this.result[t]));return i},storeHistory:function(){this.history.push(e.extend(!0,{},this.result))}})}(jQuery),function(e,t,i){"use strict";CUI.imageeditor.UIUtils={getUIContainer:function(t){return(t=e(t)).is(".imageeditor-container")?t:t.parents(".imageeditor-container").first()},getToolbars:function(e,t){var i,n;if(!t)throw new Error("ArgumentError - missing toolbar type");return(i=e.hasClass("imageeditor-container")?e:CUI.imageeditor.UIUtils.getUIContainer(e))&&i.length&&(n=i.find('div[data-type="'+t+'"] > div.imageeditor-toolbar'))&&n.length?n:null},getToolbarContainer:function(e,t){if(!t)throw new Error("ArgumentError - missing toolbar type");var i=e.find('.imageeditor-toolbars [data-type="'+t+'"]');return i.length?i:e.find(".imageeditor-toolbars")},getItem:function(e,t,i){if(!t)throw new Error("ArgumentError - missing toolbar type");return i.find('div[data-type="'+t+'"] button[data-action="'+e+'"]')},getClippingParent:function(t){for(var i,n,o,a,r=e(document.body);t[0]!==r[0];){if(n=t.css("overflow"),o=t.css("overflowX"),a=t.css("overflowY"),"visible"!==o||"visible"!==a||"visible"!==n){i=t;break}t=t.parent()}return i},elementInIframe:function(t){var i=e(t).prop("ownerDocument"),n=null;return e("iframe").each((function(){this.contentDocument!==i||(n=this)})),n},handleTapOrClick:function(e,t,i){var n="";(i=i||{}).timeout||(i.timeout=300),void 0===i.clickIgnoredAfterTouchTimeout&&(i.clickIgnoredAfterTouchTimeout=5e3),void 0===i.preventIgnoredClickEventDefault&&(i.preventIgnoredClickEventDefault=!0),void 0===i.stopIgnoredClickEventImmediatePropagation&&(i.stopIgnoredClickEventImmediatePropagation=!0),void 0===i.preventTouchendDefault&&(i.preventTouchendDefault=!0),void 0!==i.eventNamespace&&i.eventNamespace&&(n=0!==i.eventNamespace.indexOf(".")?"."+i.eventNamespace:i.eventNamespace);var o=null;return(o={lastTouchstartTime:0,lastTouchTime:0,off:function(){e.off("click"+n,o.clickHandler),e.off("touchend"+n,o.touchendHandler),e.off("touchstart"+n,o.touchstartHandler)}}).outerHandler=t,o.clickHandler=function(e){var t=(new Date).getTime();if(i.clickIgnoredAfterTouchTimeout>t-o.lastTouchTime)return i.preventIgnoredClickEventDefault&&e.preventDefault(),void(i.stopIgnoredClickEventImmediatePropagation&&e.stopImmediatePropagation());o.outerHandler.apply(e.currentTarget||{},[e])},o.touchstartHandler=function(e){var t=(new Date).getTime();o.lastTouchstartTime=t,o.lastTouchTime=o.lastTouchstartTime},o.touchendHandler=function(e){var t=(new Date).getTime();o.lastTouchTime=t,i.timeout<t-o.lastTouchstartTime||(i.preventTouchendDefault&&e.preventDefault(),o.lastTouchstartTime=0,o.outerHandler.apply(e.currentTarget||{},[e]))},e.on("click"+n,o.clickHandler),e.on("touchstart"+n,o.touchstartHandler),e.on("touchend"+n,o.touchendHandler),o},installPinchZooming:function(e,t,i,n){this.togglePinchZooming(!0,e,t,i,n)},togglePinchZooming:function(e,t,i,n,o){var a="gesturestart"+(i=i||".imageeditorzoom"),r="gesturechange"+i,s="gestureend"+i;t.off(i),e&&t.on(a,(function(e){var i=n(),a=0,l=null;e.preventDefault(),t.off(r),t.on(r,(function(e){var t=e.originalEvent.scale,n=1;e.preventDefault(),l&&(clearTimeout(l),n=Math.max(1,100-((new Date).getTime()-a))),l=setTimeout((function(){a=(new Date).getTime(),o(t*i,"change"),l=null}),n)})),t.on(s,(function(e){var n=e.originalEvent.scale;e.preventDefault(),l&&clearTimeout(l),t.off(r),t.off(s),o(n*i,"end")}))}))},removePinchZooming:function(e,t){this.togglePinchZooming(!1,e,t)},isHavingClassOrParentHavingClass:function(t,i){if(t){if(t.hasClass||(t=e(t)),t.hasClass(i))return!0;if(t.length)return this.isHavingClassOrParentHavingClass(t.parent(),i)}return!1},isHavingModalParent:function(e){return this.isHavingClassOrParentHavingClass(e,"coral-Modal")},getEventCoordinatesPageRelative:function(e){return e.originalEvent&&e.originalEvent.touches?{x:e.originalEvent.touches[0].pageX,y:e.originalEvent.touches[0].pageY}:{x:e.pageX,y:e.pageY}}}}(jQuery),function(e,t,i){"use strict";var n;CUI.imageeditor.Utils={defer:function(e,i,n,o){var a=e;return n?a=function(){o?e.apply(n,o):e.call(n)}:o&&(a=function(){e.apply(t,o)}),t.setTimeout(a,i)},onPluginCreated:function(e){return e},applyDefaults:function(e,t){var i,n;if(t=t||{},"object"==typeof(e=e||{}))for(i in t)t.hasOwnProperty(i)&&((n=t[i])&&"object"==typeof n&&!CUI.imageeditor.Utils.isArray(n)?e[i]=this.applyDefaults(e[i],n):void 0===e[i]&&(e[i]=n));return e},isArray:function(t){return e.isArray(t)},isString:function(t){return e.isString(t)},endsWith:function(e,t){return null!=e&&(null!=t&&(!(e.length<t.length)&&e.substring(e.length-t.length)===t))},apply:function(t,i,n){return e.extend(t,i,n)},getPagePosition:function(t){var i=e(t).offset();return[i.left,i.top]},getWidth:function(t){return e(t).width()},getHeight:function(t){return e(t).height()},jsonDecode:function(t){return e.parseJSON(t)},getUID:(n=0,function(){return"cui-imageeditor-id-"+n++})}}(jQuery,this),function(e,t,i){"use strict";var n=function(e,t){var i=e;if(t){if("object"!=typeof e)return!1;i=e[t]}if("number"==typeof i&&i>0)return!0;if("string"==typeof i){var n=parseFloat(i);return!isNaN(n)&&n>0&&(""+n===i||CUI.imageeditor.Utils.endsWith(i,"px"))}return!1};CUI.imageeditor.TranslationUtil=function(e){if("object"!=typeof e)throw new Error("Sizes need constructor parameter");this.initRotation(e),this.flip=e.flip||{horizontal:!1,vertical:!1},this.naturalDimensionsBeforeRotation={height:e.naturalHeight,width:e.naturalWidth},this.naturalDimensions=this.rotateDimsIfNecessary(this.naturalDimensionsBeforeRotation),e.cropOnOriginal&&e.cropOnOriginal.width&&e.cropOnOriginal.height?this.cropOnOriginal={top:e.cropOnOriginal.top||0,left:e.cropOnOriginal.left||0,height:e.cropOnOriginal.height,width:e.cropOnOriginal.width}:this.cropOnOriginal={top:0,left:0,height:this.naturalDimensionsBeforeRotation.height,width:this.naturalDimensionsBeforeRotation.width},this.croppedRotatedDim=this.rotateDimsIfNecessary(this.cropOnOriginal),this.determineScaledDimensions(e)},CUI.imageeditor.TranslationUtil.prototype.determineScaledDimensions=function(e){var t,i,o=!1,a=1,r=1,s=1;if(o=!1,(n(e,"fixedWidth")||n(e,"fixedHeight"))&&(o=!0),o){var l=parseInt(e.fixedWidth,10),c=parseInt(e.fixedHeight,10);isNaN(l)?a=r=c/this.croppedRotatedDim.height:isNaN(c)?a=r=l/this.croppedRotatedDim.width:(a=l/this.croppedRotatedDim.width,r=c/this.croppedRotatedDim.height)}if(!o){var d={width:-1,height:-1},u={width:-1,height:-1};n(e,"minWidth")&&(d.width=parseInt(e.minWidth,10)),n(e,"minHeight")&&(d.height=parseInt(e.minHeight,10)),n(e,"maxWidth")&&(u.width=parseInt(e.maxWidth,10)),n(e,"maxHeight")&&(u.height=parseInt(e.maxHeight,10));var h=null;d.width>0?h=d.height>0&&d.width/d.height<this.croppedRotatedDim.width/this.croppedRotatedDim.height?"height":"width":d.height>0&&(h="height");var p=null;u.width>0?p=u.height>0?u.width/u.height<this.croppedRotatedDim.width/this.croppedRotatedDim.height?"width":"height":"width":u.height>0&&(p="height"),h&&("height"===h?d.height>this.croppedRotatedDim.height&&(i=r,a*=(r=d.height/this.croppedRotatedDim.height)/i):d.width>this.croppedRotatedDim.width&&(t=a,r*=(a=d.width/this.croppedRotatedDim.width)/t)),p&&("height"===p?u.height<this.croppedRotatedDim.height&&(i=r,a*=(r=u.height/this.croppedRotatedDim.height)/i):u.width<this.croppedRotatedDim.width&&(t=a,r*=(a=u.width/this.croppedRotatedDim.width)/t))}this.displayDimensions={height:Math.round(this.croppedRotatedDim.height*r),width:Math.round(this.croppedRotatedDim.width*a)},this.fromNaturalToDisplayScaleFactors={width:a,height:r},e.zoomFactor&&(s=e.zoomFactor),this.zoomFactor=s,this.zoomedDimensions={height:Math.round(this.displayDimensions.height*s),width:Math.round(this.displayDimensions.width*s)},this.fromNaturalToZoomedScaleFactors={width:a*s,height:r*s},this.fromDisplayToZoomedScaleFactors={width:s,height:s}},CUI.imageeditor.TranslationUtil.prototype.initRotation=function(e){var t=null;if(e.rotation){var i=parseInt(e.rotation,10);isNaN(i)||(t=i)}(e.rotation=t,this.rotatedByNinetyDegrees=!1,this.rotation=0,e.rotation)&&(this.rotation=e.rotation,90===Math.abs(e.rotation%180)&&(this.rotatedByNinetyDegrees=!0))},CUI.imageeditor.TranslationUtil.prototype.getDisplayDimensions=function(){return this.displayDimensions},CUI.imageeditor.TranslationUtil.prototype.getNaturalDimensions=function(){return this.naturalDimensions},CUI.imageeditor.TranslationUtil.prototype.getZoomedDimensions=function(){return this.zoomedDimensions},CUI.imageeditor.TranslationUtil.prototype.getZoomedDimensionsBeforeRotation=function(){var e=this.getFromNaturalToZoomedScaleFactors(!0),t=this.getNaturalDimensionsBeforeRotation();return{height:Math.round(t.height*e.height),width:Math.round(t.width*e.width)}},CUI.imageeditor.TranslationUtil.prototype.getZoomedCropBeforeRotation=function(){var e=this.getCropOnOriginal(),t=this.getFromNaturalToZoomedScaleFactors(!0);return{top:Math.round(e.top*t.height),left:Math.round(e.left*t.width),height:Math.round(e.height*t.height),width:Math.round(e.width*t.width)}},CUI.imageeditor.TranslationUtil.prototype.getNaturalDimensionsBeforeRotation=function(){return this.naturalDimensionsBeforeRotation},CUI.imageeditor.TranslationUtil.prototype.adaptScaleFactorsToUnrotatedImage=function(e){return this.rotatedByNinetyDegrees?{width:e.height,height:e.width}:e},CUI.imageeditor.TranslationUtil.prototype.getFromNaturalToDisplayScaleFactors=function(e){return e?this.adaptScaleFactorsToUnrotatedImage(this.fromNaturalToDisplayScaleFactors):this.fromNaturalToDisplayScaleFactors},CUI.imageeditor.TranslationUtil.prototype.getFromDisplayToNaturalScaleFactors=function(e){var t=this.getFromNaturalToDisplayScaleFactors(e);return{width:1/t.width,height:1/t.height}},CUI.imageeditor.TranslationUtil.prototype.getFromNaturalToZoomedScaleFactors=function(e){return e?this.adaptScaleFactorsToUnrotatedImage(this.fromNaturalToZoomedScaleFactors):this.fromNaturalToZoomedScaleFactors},CUI.imageeditor.TranslationUtil.prototype.getFromZoomedToNaturalScaleFactors=function(e){var t=this.getFromNaturalToZoomedScaleFactors(e);return{width:1/t.width,height:1/t.height}},CUI.imageeditor.TranslationUtil.prototype.getFromDisplayToZoomedScaleFactors=function(){return this.fromDisplayToZoomedScaleFactors},CUI.imageeditor.TranslationUtil.prototype.getFromZoomedToDisplayScaleFactors=function(){return{width:1/this.zoomFactor,height:1/this.zoomFactor}},CUI.imageeditor.TranslationUtil.prototype.getCropOnOriginal=function(){return this.cropOnOriginal},CUI.imageeditor.TranslationUtil.prototype.getCropOnDisplayBeforeRotation=function(){var e=this.getCropOnOriginal(),t=this.getFromNaturalToDisplayScaleFactors(!0),i={top:e.top*t.height,left:e.left*t.width,height:e.height*t.height,width:e.width*t.width};return i.right=i.left+i.width,i.bottom=i.top+i.height,i},CUI.imageeditor.TranslationUtil.prototype.getCompleteImageAfterScalingDimensions=function(){var e=this.getNaturalDimensions(),t=this.getFromNaturalToDisplayScaleFactors();return{height:e.height*t.height,width:e.width*t.width}},CUI.imageeditor.TranslationUtil.prototype.translateToDisplay=function(e,t,i){var n=this.getFromNaturalToDisplayScaleFactors(i);return{w:Math.round(n.width*e),h:Math.round(n.height*t)}},CUI.imageeditor.TranslationUtil.prototype.translateWidthToDisplay=function(e,t){return Math.round(e*this.getFromNaturalToDisplayScaleFactors(t).width)},CUI.imageeditor.TranslationUtil.prototype.translateHeightToDisplay=function(e,t){return Math.round(e*this.getFromNaturalToDisplayScaleFactors(t).height)},CUI.imageeditor.TranslationUtil.prototype.translateToNatural=function(e,t,i){var n=this.getFromDisplayToNaturalScaleFactors(i);return{w:Math.round(n.width*e),h:Math.round(n.height*t)}},CUI.imageeditor.TranslationUtil.prototype.translateNaturalToZoomed=function(e,t,i){var n=this.getFromNaturalToZoomedScaleFactors(i);return{w:Math.round(n.width*e),h:Math.round(n.height*t)}},CUI.imageeditor.TranslationUtil.prototype.translateZoomedToNatural=function(e,t,i){var n=this.getFromZoomedToNaturalScaleFactors(i);return{w:Math.round(n.width*e),h:Math.round(n.height*t)}},CUI.imageeditor.TranslationUtil.prototype.applyScaleFactors=function(e,t,i){return{w:Math.round(i.width*e),h:Math.round(i.height*t)}},CUI.imageeditor.TranslationUtil.prototype.translatePoints=function(e,t){var i,n,o=[];for(i=0;i<e.length;i++)n=e[i],n="toZoomed"===t?this.translateNaturalToZoomed(n.w,n.h):this.translateZoomedToNatural(n.w,n.h),o.push(n);return o},CUI.imageeditor.TranslationUtil.prototype.zoomPoints=function(e,t){var i,n,o,a=[];for(o=t?this.getFromZoomedToDisplayScaleFactors():this.getFromDisplayToZoomedScaleFactors(),i=0;i<e.length;i++)n=e[i],n=this.applyScaleFactors(n.w,n.h,o),a.push(n);return a},CUI.imageeditor.TranslationUtil.prototype.translateWidthToNatural=function(e,t){return Math.round(1*e/this.getFromNaturalToDisplayScaleFactors(t).width)},CUI.imageeditor.TranslationUtil.prototype.translateHeightToNatural=function(e,t){return Math.round(1*e/this.getFromNaturalToDisplayScaleFactors(t).height)},CUI.imageeditor.TranslationUtil.prototype.scaleCropToNatural=function(e,t){return this.applyScaleFactorsToCrop(e,this.getFromZoomedToNaturalScaleFactors(t))},CUI.imageeditor.TranslationUtil.prototype.scaleCropToZoomed=function(e,t){return this.applyScaleFactorsToCrop(e,this.getFromNaturalToZoomedScaleFactors(t))},CUI.imageeditor.TranslationUtil.prototype.applyScaleFactorsToCrop=function(e,t){return e?{top:Math.round(e.top*t.height),left:Math.round(e.left*t.width),height:Math.round(e.height*t.height),width:Math.round(e.width*t.width)}:null},CUI.imageeditor.TranslationUtil.prototype.rotateDimsIfNecessary=function(e){return e?{height:this.rotatedByNinetyDegrees?e.width:e.height,width:this.rotatedByNinetyDegrees?e.height:e.width}:null},CUI.imageeditor.TranslationUtil.prototype.rotateCropBy90IfNecessary=function(e){return e?{top:this.rotatedByNinetyDegrees?e.left:e.top,left:this.rotatedByNinetyDegrees?e.top:e.left,height:this.rotatedByNinetyDegrees?e.width:e.height,width:this.rotatedByNinetyDegrees?e.height:e.width}:null},CUI.imageeditor.TranslationUtil.prototype.translate=function(t,i,n){var o,a,r=this.rotation,s=this.flip;return a="display"===(i=(i=i||"zoomed").toLowerCase())?this.getDisplayDimensionsBeforeRotation():"natural"===i?this.getNaturalDimensionsBeforeRotation():this.getZoomedDimensionsBeforeRotation(),n=n||e.extend({},t),r%=360,r+=360,r%=360,t.hasOwnProperty("top")&&t.hasOwnProperty("left")&&(r%180==0?(o=0!==r,s.horizontal^o?n.left=a.width-t.width-t.left:n.left=t.left,s.vertical^o?n.top=a.height-t.height-t.top:n.top=t.top):(o=90!==r,s.vertical^o?n.left=t.top:n.left=a.height-t.height-t.top,s.horizontal^o?n.top=a.width-t.width-t.left:n.top=t.left)),r%180!=0?(n.width=t.height,n.height=t.width):(n.width=t.width,n.height=t.height),n}}(jQuery),function(e,t,i){"use strict";CUI.imageeditor.actions.Action=new Class({toString:"Action",config:{},construct:function(e,t){this._init(e,t)},_init:function(e,t){this.editor=e,this.actionId=t},notifyPluginConfig:function(e){this.config=e},isAction:function(e){return!1},isUndoable:function(e){return!0},requiresInitializedComponent:function(e){return!0},execute:function(e){},queryState:function(e,t){return!1},toCss:function(e,t,i){return{}},getString:function(e){return this.editor.i18n.get(this.actionId+"."+e)},getTemplateOptions:function(){var e=this;return{helpers:{i18n:function(t){return e.getString("template."+t)}}}}})}(jQuery),function(e,t,i){"use strict";var n;CUI.imageeditor.actions.ActionRegistry=(n={},{register:function(e,t){n[e]=t},createRegisteredActions:function(e){var t,i={};for(t in n)n.hasOwnProperty(t)&&(i[t]=new n[t](e,t));return i}})}(jQuery),function(e,t,i){"use strict";CUI.imageeditor.actions.Crop=new Class({toString:"Crop",extend:CUI.imageeditor.actions.Action,isAction:function(e){var t=e.toLowerCase();return"croplaunch"===t||"croplaunchwithratio"===t||"cropunlaunch"===t||"cropconfirm"===t||"cropremovecrop"===t},execute:function(e){switch(e.action.toLowerCase()){case"croplaunch":return this.launchCrop(e);case"croplaunchwithratio":return this.launchCropWithRatio(e);case"cropunlaunch":return this.unlaunchCrop(e);case"cropconfirm":return this.confirmCrop(e);case"cropremovecrop":return this.removeCrop(e)}},launchCropWithRatio:function(e){this.popover&&this.popover.get("visible")?this.closeRatioPopover(e):this.openRatioPopover(e)},openRatioPopover:function(t){var i,n;this.clickTarget||(i=e("<div>",{class:"imageeditor-clicktarget"}),e(".imageeditor-controls").append(i),i.on("click",this,this.clickTargetClicked),this.clickTarget=i),this.popover||(n=e("<div>",{class:"imageeditor-popover imageeditor-toolbar-popover coral-Popover"}).html(this.editor.templates.get("crop-popover")({aspectRatios:t.value.getAspectRatios()},this.getTemplateOptions())),e(".imageeditor-controls").append(n),n.trigger("cui-contentloaded"),n.on("click",e.proxy(this.ratioPopoverClicked,this,t.value)),this.popover=new CUI.Popover({element:n,pointFrom:"bottom"})),this.clickTarget.show(),this.popover.set("pointAt",t.ui.find(".coral-Icon--crop:visible").closest(".coral-Button")).show()},closeRatioPopover:function(e){this.popover&&this.popover.hide(),this.clickTarget&&this.clickTarget.hide()},clickTargetClicked:function(e){e.stopPropagation(),setTimeout((function(){e.data.closeRatioPopover()}),300)},ratioPopoverClicked:function(t,i){this.closeRatioPopover();var n=e(i.target).val();"removeCrop"===n?t.execute("removecrop"):t.execute("launch",n)},launchCrop:function(e){var t,i,n=e.createTranslationUtil(),o=this.getFullCanvasCrop(n),a=this.getCurrent(e.result,n);"fullscreen"!==e.mode||a.top===o.top&&a.left===o.left&&a.width===o.width&&a.height===o.height?(o=a,a=this.getDefaultSelection(e,o)):e.element.css("clip",""),t=n.scaleCropToZoomed(o,!0),i=n.scaleCropToZoomed(a,!0),e.editor.togglePinchZooming(!1),e.element.imageSelect({classPrefix:"imageeditor-imageselect-",parent:e.ui.find(".imageeditor-controls"),applyTransformations:!0,aspectRatio:e.value||0,canvas:{top:t.top,left:t.left,width:t.width,height:t.height},selection:{top:i.top,left:i.left,width:i.width,height:i.height}})},unlaunchCrop:function(e){return e.element.imageSelect({call:"destroy"}),e.editor.togglePinchZooming(!0),!0},confirmCrop:function(e){var t=e.element.imageSelect({instance:!0}).getSelection();return this.setCurrent(e.result,e.createTranslationUtil().scaleCropToNatural(t,!0)),this.unlaunchCrop(e)},removeCrop:function(e){return this.setCurrent(e.result,null),!0},toCss:function(e,t,i){var n,o=this.getCurrent(e);if(o)return o=i.scaleCropToZoomed(o,!0),n=this.findCenter(o),{clip:"rect("+[o.top,o.left+o.width,o.top+o.height,o.left].join("px, ")+"px)","transform-origin":n.x+"px "+n.y+"px"}},findCenter:function(e){return{x:e.left+Math.round(e.width/2),y:e.top+Math.round(e.height/2)}},setCurrent:function(e,t){var i=null;t&&(i={top:t.top,left:t.left,width:t.width,height:t.height}),e.setTransformValue("crop",i)},getCurrent:function(t,i){var n=t&&t.getTransformValue("crop");return e.isPlainObject(n)&&n.hasOwnProperty("top")&&n.hasOwnProperty("left")&&n.hasOwnProperty("width")&&n.hasOwnProperty("height")?{top:n.top,left:n.left,width:n.width,height:n.height}:this.getFullCanvasCrop(i)},getFullCanvasCrop:function(e){var t;return e?{top:0,left:0,width:(t=e.getNaturalDimensionsBeforeRotation()).width,height:t.height}:void 0},getDefaultSelection:function(e,t){var i,n=e.createTranslationUtil(),o=n.rotateCropBy90IfNecessary(n.scaleCropToNatural(e.viewportCrop,!1)),a=n.getCropOnOriginal(),r="fullscreen"===e.mode;return i={x:.1*o.width,y:.1*o.height},{top:(r?o.top:a.top)+i.y,left:(r?o.left:a.left)+i.x,width:o.width-2*i.x,height:o.height-2*i.y}}})}(jQuery),CUI.imageeditor.actions.ActionRegistry.register("crop",CUI.imageeditor.actions.Crop),function(e,t,i){"use strict";CUI.imageeditor.actions.Rotate=new Class({toString:"Rotate",extend:CUI.imageeditor.actions.Action,isAction:function(e){return"rotateright"===e||"rotateleft"===e},execute:function(e){var t=CUI.imageeditor.actions.Rotate.ROTATION_ANGLE,i=this.getCurrent(e.result);return"rotateleft"===e.action&&(t=-t),t=i+t,this.setCurrent(e.result,t),!0},setCurrent:function(e,t){e.setTransformValue("rotate",{angle:t})},getCurrent:function(t){var i=t.getTransformValue("rotate");return e.isPlainObject(i)&&i.angle||0},toCss:function(e,t,i){return{transform:"rotate("+this.getCurrent(e)+"deg)"}}})}(jQuery),CUI.imageeditor.actions.Rotate.ROTATION_ANGLE=90,CUI.imageeditor.actions.ActionRegistry.register("rotate",CUI.imageeditor.actions.Rotate),function(e,t,i){"use strict";CUI.imageeditor.actions.Flip=new Class({toString:"Flip",extend:CUI.imageeditor.actions.Action,isAction:function(e){return"fliphorizontal"===e||"flipvertical"===e},execute:function(e){var t,i=this.getCurrent(e.result),n=e.rotation%180!=0;switch(e.action){case"fliphorizontal":t=n?"vertical":"horizontal";break;case"flipvertical":t=n?"horizontal":"vertical";break;default:return!1}return i[t]=!i[t],this.setCurrent(e.result,i),!0},setCurrent:function(e,t){e.setTransformValue("flip",t)},getCurrent:function(t){var i=t.getTransformValue("flip");return e.isPlainObject(i)?{vertical:!!i.vertical,horizontal:!!i.horizontal}:{vertical:!1,horizontal:!1}},toCss:function(e,t,i){var n=this.getCurrent(e);return{transform:" scaleX("+(n.horizontal?"-1":"1")+") scaleY("+(n.vertical?"-1":"1")+")"}}})}(jQuery),CUI.imageeditor.actions.ActionRegistry.register("flip",CUI.imageeditor.actions.Flip),function(e,t,i){"use strict";CUI.imageeditor.actions.Map=new Class({toString:"Map",extend:CUI.imageeditor.actions.Action,MIN_SIZE:40,isAction:function(e){return"maplaunch"===e||"mapunlaunch"===e||"mapconfirm"===e||"maprectangle"===e||"mapcircle"===e||"mappolygon"===e},execute:function(e){switch(e.action){case"maplaunch":return this.launchMap(e);case"mapunlaunch":return this.unlaunchMap(e);case"mapconfirm":return this.confirmMap(e);case"maprectangle":return this.startRectangleArea(e);case"mapcircle":return this.startCircleArea(e);case"mappolygon":return this.startPolygonArea(e)}},launchMap:function(t){this.isActive=!0,t.editor.togglePinchZooming(!1),this.areas=this.getCurrent(t.result),this.drawAreas(t),t.ui.on("click.map deselect_click.map",e.proxy(this.tryToSelectAreaOrUnselect,this,t)),t.ui.on("second_click.map",e.proxy(this.togglePopover,this,t)),this.getMapCont(t.element).on("update.map",e.proxy(this.closePopover,this))},unlaunchMap:function(e){this.isActive=!1,this.unselectCurrentArea(e),this.areas=[],this.drawAreas(e),e.ui.off(".map"),this.getMapCont(e.element).off(".map"),e.editor.togglePinchZooming(!0)},confirmMap:function(e){this.unselectCurrentArea(e),this.setCurrent(e.result,this.areas),this.unlaunchMap(e)},startRectangleArea:function(e){this.unselectCurrentArea(e),this.currentArea={alt:"",href:"",target:"",selection:this.getDefaultNewSelection(e),shape:"rect"},this.selectCurrentArea(e)},startCircleArea:function(e){this.unselectCurrentArea(e),this.currentArea={alt:"",href:"",target:"",selection:this.getDefaultNewSelection(e),shape:"circle"},this.selectCurrentArea(e)},startPolygonArea:function(e){this.unselectCurrentArea(e),this.currentArea={alt:"",href:"",target:"",points:this.getDefaultNewPoints(e),shape:"polygon"},this.selectCurrentArea(e)},getDefaultNewSelection:function(e){var t=e.createTranslationUtil().scaleCropToNatural(e.viewportCrop,!0),i=.2*t.width,n=.2*t.height;return{top:t.top+n,left:t.left+i,width:t.width-2*i,height:t.height-2*n}},getDefaultNewPoints:function(e){var t=e.createTranslationUtil().scaleCropToNatural(e.viewportCrop,!0),i=.2*t.width,n=.2*t.height;return[{w:t.left+.5*t.width,h:t.top+n},{w:t.left+(t.width-i),h:t.top+(t.height-n)},{w:t.left+i,h:t.top+(t.height-n)}]},getCurrent:function(t){var i=t.getTransformValue("map");return i&&i.areas?e.map(i.areas,(function(t){return e.extend(!0,{},t)})):[]},setCurrent:function(e,t){t?e.setTransformValue("map",{areas:t}):e.setTransformValue("map",null)},getMapCont:function(e){return e.parent().find(".imageeditor-controls-map-areas")},drawAreas:function(t){var i,n,o,a,r,s=t.createTranslationUtil(),l=this.getMapCont(t.element),c=s.translate(s.getZoomedCropBeforeRotation(),"zoomed"),d=this.getPolygonOutlineStyling(t);if(l.html(""),this.areas)for(l.css({width:c.width,height:c.height}).position({of:t.element,my:"left top",at:"left+"+c.left+" top+"+c.top,collision:"none"}),o=0;o<this.areas.length;o++)"polygon"===(i=this.areas[o]).shape?((n=e("<canvas/>",{class:"imageeditor-map-canvas",width:c.width,height:c.height}))[0].width=c.width,n[0].height=c.height,r=i.points,r=s.translatePoints(r,"toZoomed"),n.polygon().data("polygon").paintPolygonWithPoints(n,r,d),l.append(n)):(n=e("<div/>",{class:"imageeditor-controls-map-area"}),l.append(n),a=s.scaleCropToZoomed(i.selection),n.css({top:a.top,left:a.left,width:a.width,height:a.height,borderRadius:"circle"===i.shape?"50%":void 0}))},getPolygonOutlineStyling:function(t){var i,n=e(this.getMapCont(t.element).parent()).find(".imageeditor-imagemap-polygon-helper"),o=n.css("border-top-width");return i=e("<div/>",{width:o}).width(),{strokeStyle:n.css("border-top-color"),lineWidth:i}},isCurrentlySelectedArea:function(e){return this.currentImageSelect&&this.currentArea===e},tryToSelectAreaOrUnselect:function(t,i){if(!(i&&e(i.target).parents(".imageeditor-popover").length||i&&e(i.target).parents(".imageeditor-imagemap-holder").length)){var n,o,a,r,s=!1,l=t.createTranslationUtil(),c=e("<div/>").polygon().data("polygon"),d=CUI.imageeditor.UIUtils.getEventCoordinatesPageRelative(i),u=this.getMapCont(t.element).offset(),h={w:d.x-u.left,h:d.y-u.top};for(i.preventDefault(),i.stopPropagation(),o=0;o<this.areas.length;o++)if(s=!1,"polygon"===(n=this.areas[o]).shape?(r=c.pointsToVectors(l.translatePoints(n.points,"toZoomed")),s=c.isPointInsideOrOnEdgeOfPolygon([h.w,h.h],r)):(a=l.scaleCropToZoomed(n.selection),s=c.isCoordsInBoundingBox(a,h.w,h.h)),s){this.isCurrentlySelectedArea(n)||this.createSelectionFromArea(o,t);break}s||this.unselectCurrentArea(t)}},createSelectionFromArea:function(e,t){var i=this.areas[e];this.unselectCurrentArea(t),this.currentArea=i,this.areas.splice(e,1),this.drawAreas(t),this.selectCurrentArea(t)},selectCurrentArea:function(e){var t,i=e.createTranslationUtil();if("polygon"===this.currentArea.shape)t={instance:!0,classPrefix:"imageeditor-imagemap-",parent:e.element.parent().find(".imageeditor-controls"),points:i.translatePoints(this.currentArea.points,"toZoomed")},this.currentImageSelect=this.getMapCont(e.element).imageSelectPolygon(t);else{switch(t={instance:!0,classPrefix:"imageeditor-imagemap-",parent:e.element.parent().find(".imageeditor-controls"),min:this.MIN_SIZE,selection:i.scaleCropToZoomed(this.currentArea.selection)},this.currentArea.shape){case"rect":t.shape="rectangle";break;case"circle":t.shape="ellipse",t.aspectRatio=1}this.currentImageSelect=this.getMapCont(e.element).imageSelect(t)}},unselectCurrentArea:function(e){this.currentImageSelect&&("polygon"===this.currentArea.shape?this.currentArea.points=e.createTranslationUtil().translatePoints(this.currentImageSelect.getPoints(),"toNatural"):this.currentArea.selection=e.createTranslationUtil().scaleCropToNatural(this.currentImageSelect.getSelection()),this.areas.push(this.currentArea),this.removeCurrentSelection(e))},removeCurrentSelection:function(e){this.currentImageSelect&&(this.currentImageSelect.destroy(),this.currentImageSelect=null,this.closePopover(),this.drawAreas(e))},togglePopover:function(e){this.currentImageSelect&&(this.currentPopover||this.createPopover(e),this.currentPopover.get("visible")?this.closePopover():this.openPopover(e))},createPopover:function(t){var i,n={},o=!1,a=e.extend({},CUI.imageeditor.actions.Map.DEFAULT_OPTIONS,this.config);a.pathbrowser=e.extend({},CUI.imageeditor.actions.Map.DEFAULT_OPTIONS.pathbrowser,a.pathbrowser),a.pathbrowser.type&&("picker"===a.pathbrowser.type?(n.pathbrowserPicker=!0,o=!0):"autocomplete"===a.pathbrowser.type&&(n.pathbrowserAutocomplete=!0,o=!0)),o?n.pathbrowser=e.extend({},a.pathbrowser):n.noPathbrowser=!0,i=e("<div>",{class:"imageeditor-popover"}).html(this.editor.templates.get("map-popover")(n,this.getTemplateOptions())),e(".imageeditor-controls").append(i);var r=e(e(i).find(".pathbrowser"));r.length&&r.pathBrowser(n.pathbrowser),i.trigger("cui-contentloaded"),this.currentPopover=new CUI.Popover({element:i,pointFrom:"top",preventAutoHide:!0})},updateAndGetBoundingBoxDiv:function(t){var i,n=this.currentImageSelect.getBoundingBox(),o=this.getMapCont(t.element);return(i=o.find(".imageeditor-map-polygon-bounding-box")).length||((i=e("<div/>",{class:"imageeditor-map-polygon-bounding-box"})).css({position:"absolute"}),o.append(i)),i.css({top:n.top,left:n.left,width:n.width,height:n.height}),i},openPopover:function(t){var i;if(this.currentPopover&&this.currentImageSelect){i="polygon"===this.currentArea.shape?this.updateAndGetBoundingBoxDiv(t):this.currentImageSelect.$selection,this.currentPopover.set("pointAt",i).show();var n,o=this.currentPopover.get("element"),a=this.currentArea;n=a,o.find("[name]").each((function(){var t=e(this),i=t.attr("type"),o=t.attr("name"),a=n[o]||"";if("radio"===i||"checkbox"===i)t.attr("value")===a?t.prop("checked",!0):t.prop("checked",!1),t.change();else if(t.val(a).change(),t.is("select")){var r=t.closest(".coral-Select").data("select");r&&r._handleNativeSelect()}})),o.on("click.map",".imageeditor-map-delete",e.proxy(this.removeCurrentSelection,this,t)).on("click.map",".imageeditor-map-unlaunch",e.proxy(this.metaDataAbort,this)).on("click.map",".imageeditor-map-confirm",e.proxy(this.metaDataConfirm,this))}},closePopover:function(){this.currentPopover&&(this.currentPopover.get("element").off(".map").find(":focus").blur(),this.closeSelect(),this.currentPopover.hide())},metaDataConfirm:function(t){if(this.currentPopover&&this.currentArea){var i,n=this.currentArea,o=this.currentPopover.get("element");i=n,o.find("[name]").each((function(){var t=e(this),n=t.attr("type"),o=t.attr("name"),a=t.val();"radio"===n||"checkbox"===n?t.prop("checked")&&(i[o]=a):i[o]=a})),this.closePopover()}},metaDataAbort:function(e){this.closePopover()},closeSelect:function(){var e=this.currentPopover.get("element").find(".coral-SelectList");e.length&&e.data("selectList").hide()},reposition:function(e){this.getMapCont(e).position({of:e,my:"left top",at:"left top",collision:"none"}),this.currentPopover&&this.currentPopover.get("visible")&&this.currentPopover.hide().show()},toCss:function(e,t,i){this.isActive&&this.reposition(t)}}),CUI.imageeditor.actions.Map.DEFAULT_OPTIONS={pathbrowser:{type:null,rootPath:"/",showTitles:!1,optionLoader:function(e){return[]},optionLoaderRoot:null,optionValueReader:function(e){return""+e},optionTitleReader:function(e){return""+e},pickerSrc:"/libs/wcm/core/content/common/pathbrowser/column.html/?predicate=hierarchyNotFile",pickerTitle:"Choose a target path",picketCrumbRoot:{title:"Root",icon:"coral-Icon-home"}}}}(jQuery),CUI.imageeditor.actions.ActionRegistry.register("map",CUI.imageeditor.actions.Map),function(e,t,i){"use strict";CUI.imageeditor.actions.History=new Class({toString:"History",extend:CUI.imageeditor.actions.Action,isAction:function(e){return"undo"===e||"redo"===e},execute:function(e){switch(e.action){case"undo":e.result.undo();break;case"redo":e.result.redo()}return!0},toCss:function(e,t,i){}})}(jQuery),CUI.imageeditor.actions.ActionRegistry.register("history",CUI.imageeditor.actions.History),function(e,t,i){"use strict";CUI.imageeditor.actions.Fullscreen=new Class({toString:"Fullscreen",extend:CUI.imageeditor.actions.Action,isAction:function(e){return"fullscreen"===e||"fullscreenexit"===e},execute:function(e){return!0},toCss:function(e,t,i){}})}(jQuery),CUI.imageeditor.actions.ActionRegistry.register("fullscreen",CUI.imageeditor.actions.Fullscreen),function(e,t,i){"use strict";CUI.imageeditor.actions.Zoom=new Class({toString:"Zoom",extend:CUI.imageeditor.actions.Action,isAction:function(e){var t=e.toLowerCase();return"zoompopupslider"===t||"zoomreset100"===t},execute:function(e){switch(e.action.toLowerCase()){case"zoompopupslider":return this.popupSlider(e);case"zoomreset100":return this.reset100(e)}},popupSlider:function(e){this.popover&&this.popover.get("visible")?this.closeSliderPopover(e):this.openSliderPopover(e)},openSliderPopover:function(t){var i,n;this.clickTarget||(i=e("<div>",{class:"imageeditor-clicktarget"}),e(".imageeditor-controls").append(i),i.on("click",this,this.clickTargetClicked),this.clickTarget=i),this.popover||(n=e("<div>",{class:"imageeditor-popover imageeditor-toolbar-popover coral-Popover"}).html(this.editor.templates.get("zoomslider-popover")(this.getZoomLimits(t))),e(".imageeditor-controls").append(n),n.trigger("cui-contentloaded"),this.popover=new CUI.Popover({element:n,pointFrom:"bottom"}),this.getSlider().on("change",e.proxy(this.sliderChanged,this,t.value))),this.clickTarget.show(),this.getSlider().setValue(Math.round(100*t.editor.getZoomFactor())),this.popover.set("pointAt",t.ui.find(".coral-Icon--search:visible").closest(".coral-Button")).show()},getZoomLimits:function(e){var t=e.editor.getZoomLimits();return{zoomMin:Math.round(100*t[0]),zoomMax:Math.round(100*t[1])}},getSlider:function(){return e(this.popover.$element.find("div.coral-Slider")).data("slider")},closeSliderPopover:function(e){this.popover&&this.popover.hide(),this.clickTarget&&this.clickTarget.hide()},clickTargetClicked:function(e){e.stopPropagation(),setTimeout((function(){e.data.closeSliderPopover()}),300)},reset100:function(e){e.editor.zoom(1)},sliderChanged:function(t,i){var n=e(i.target).val();t.editor.zoom(.01*n)},toCss:function(e,t,i){}}),CUI.imageeditor.actions.ActionRegistry.register("zoom",CUI.imageeditor.actions.Zoom)}(jQuery),function(e,t,i){"use strict";CUI.imageeditor.plugins.Plugin=new Class({features:null,pluginId:null,editor:null,config:null,construct:function(e,t){this._init(e,t)},_init:function(e,t){this.editor=e,this.pluginId=t},notifyPluginConfig:function(e){this.config=e},getFeatures:function(){return this.features},isFeatureEnabled:function(t){return-1!==e.inArray(t,this.getFeatures())&&(!this.config||!this.config.features||(e.isArray(this.config.features)?-1!==e.inArray(t,this.config.features):"*"===this.config.features||"-"!==this.config.features))},initializeUI:function(e){},execute:function(e,t,i){},registerTransformFields:function(e){return null},getString:function(e){return this.editor.i18n.get(this.pluginId+"."+e)},getTooltip:function(e){return this.getString("toolbar."+e)}})}(jQuery),function(e,t,i){"use strict";var n;CUI.imageeditor.plugins.PluginRegistry=(n={},{register:function(e,t){n[e]=t},createRegisteredPlugins:function(e){var t,i,o={};for(t in n)n.hasOwnProperty(t)&&(i=new n[t](e,t),i=CUI.imageeditor.Utils.onPluginCreated(i),o[t]=i);return o}})}(jQuery),function(e,t,i){"use strict";CUI.imageeditor.plugins.Crop=new Class({toString:"Crop",extend:CUI.imageeditor.plugins.Plugin,features:["launch","launchwithratio","unlaunch","confirm"],initializeUI:function(e){var t;this.isFeatureEnabled("launch")&&(t=e.createItem("launch",this.getTooltip("launch"),this),e.registerItem(t,"crop")),this.isFeatureEnabled("launchwithratio")&&(t=e.createItem("launchwithratio",this.getTooltip("launchwithratio"),this),e.registerItem(t,"crop")),t=e.createItem("identifier",this.getTooltip("identifier"),this),e.registerItem(t,"crop",CUI.imageeditor.Theme.TOOLBARITEM_SELECTED_CLASS),this.isFeatureEnabled("unlaunch")&&(t=e.createItem("unlaunch",this.getTooltip("unlaunch"),this),e.registerItem(t,"close")),this.isFeatureEnabled("confirm")&&(t=e.createItem("confirm",this.getTooltip("confirm"),this),e.registerItem(t,"check"))},execute:function(t,i){"launch"===t&&(e.each(this.editor.toolbars,(function(e,t){t.switchToolbar(CUI.imageeditor.plugins.Crop.TOOLBAR_ID)})),this.editor.relayAction("croplaunch",i)),"launchwithratio"===t&&this.editor.relayAction("croplaunchwithratio",this),"unlaunch"===t&&(e.each(this.editor.toolbars,(function(e,t){this.switchToPrimaryToolbar()})),this.editor.relayAction("cropunlaunch",i)),"confirm"===t&&(e.each(this.editor.toolbars,(function(e,t){this.switchToPrimaryToolbar()})),this.editor.relayAction("cropconfirm",i)),"removecrop"===t&&this.editor.relayAction("cropremovecrop",i)},getAspectRatios:function(){if(e.isPlainObject(this.config)&&e.isArray(this.config.aspectRatios))return this.config.aspectRatios;var t=this,i=CUI.imageeditor.plugins.Crop.ASPECT_RATIOS;return e.map(i,(function(e){return{ratio:e.ratio,name:t.getString("aspect_ratios."+e.name)}}))},registerTransformFields:function(e){e.registerTransformField("crop")}})}(jQuery),CUI.imageeditor.plugins.Crop.TOOLBAR_ID="crop",CUI.imageeditor.plugins.Crop.ASPECT_RATIOS=[{name:"free_hand",ratio:0},{name:"2_to_3",ratio:.67},{name:"3_to_5",ratio:.6},{name:"16_to_9",ratio:.5625},{name:"square",ratio:1}],CUI.imageeditor.plugins.PluginRegistry.register("crop",CUI.imageeditor.plugins.Crop),function(e,t,i){"use strict";CUI.imageeditor.plugins.Rotate=new Class({toString:"Rotate",extend:CUI.imageeditor.plugins.Plugin,features:["left","right"],initializeUI:function(e){var t;this.isFeatureEnabled("left")&&(t=e.createItem("left",this.getTooltip("left"),this),e.registerItem(t,"rotateLeft")),this.isFeatureEnabled("right")&&(t=e.createItem("right",this.getTooltip("right"),this),e.registerItem(t,"rotateRight"))},execute:function(e,t){"right"===e&&this.editor.relayAction("rotateright",t),"left"===e&&this.editor.relayAction("rotateleft",t)},registerTransformFields:function(e){e.registerTransformField("rotate")}})}(jQuery),CUI.imageeditor.plugins.PluginRegistry.register("rotate",CUI.imageeditor.plugins.Rotate),function(e,t,i){"use strict";CUI.imageeditor.plugins.Flip=new Class({toString:"Flip",extend:CUI.imageeditor.plugins.Plugin,features:["horizontal","vertical"],initializeUI:function(e){var t;this.isFeatureEnabled("horizontal")&&(t=e.createItem("horizontal",this.getTooltip("horizontal"),this),e.registerItem(t,"reflectHorizontal")),this.isFeatureEnabled("vertical")&&(t=e.createItem("vertical",this.getTooltip("vertical"),this),e.registerItem(t,"reflectVertical"))},execute:function(e,t){switch(e){case"horizontal":this.editor.relayAction("fliphorizontal",t);break;case"vertical":this.editor.relayAction("flipvertical",t)}},registerTransformFields:function(e){e.registerTransformField("flip")}})}(jQuery),CUI.imageeditor.plugins.PluginRegistry.register("flip",CUI.imageeditor.plugins.Flip),function(e,t,i){"use strict";CUI.imageeditor.plugins.Map=new Class({toString:"Map",extend:CUI.imageeditor.plugins.Plugin,features:["launch","unlaunch","confirm","rectangle","circle","polygon"],initializeUI:function(e){var t;this.isFeatureEnabled("launch")&&(t=e.createItem("launch",this.getTooltip("launch"),this),e.registerItem(t,"imageMap")),this.isFeatureEnabled("rectangle")&&(t=e.createItem("rectangle",this.getTooltip("rectangle"),this),e.registerItem(t,"imageMapRectangle")),this.isFeatureEnabled("circle")&&(t=e.createItem("circle",this.getTooltip("circle"),this),e.registerItem(t,"imageMapCircle")),this.isFeatureEnabled("polygon")&&(t=e.createItem("polygon",this.getTooltip("polygon"),this),e.registerItem(t,"imageMapPolygon")),this.isFeatureEnabled("unlaunch")&&(t=e.createItem("unlaunch",this.getTooltip("unlaunch"),this),e.registerItem(t,"close")),this.isFeatureEnabled("confirm")&&(t=e.createItem("confirm",this.getTooltip("confirm"),this),e.registerItem(t,"check"))},execute:function(t,i){"launch"===t?(e.each(this.editor.toolbars,(function(e,t){t.switchToolbar(CUI.imageeditor.plugins.Map.TOOLBAR_ID)})),this.editor.relayAction("maplaunch",i)):"unlaunch"===t||"confirm"===t?(e.each(this.editor.toolbars,(function(e,t){this.switchToPrimaryToolbar()})),this.editor.relayAction("map"+t,i)):"rectangle"===t?this.editor.relayAction("maprectangle",i):"circle"===t?this.editor.relayAction("mapcircle",i):"polygon"===t&&this.editor.relayAction("mappolygon",i)},registerTransformFields:function(e){e.registerTransformField("map",[])}})}(jQuery),CUI.imageeditor.plugins.Map.TOOLBAR_ID="map",CUI.imageeditor.plugins.PluginRegistry.register("map",CUI.imageeditor.plugins.Map),function(e,t,i){"use strict";CUI.imageeditor.plugins.Control=new Class({toString:"Control",extend:CUI.imageeditor.plugins.Plugin,features:["close","finish"],initializeUI:function(e){var t;this.isFeatureEnabled("close")&&(t=e.createItem("close",this.getTooltip("close"),this),e.registerItem(t,"close",CUI.imageeditor.Theme.TOOLBARITEM_MODECHANGER_CLASS)),this.isFeatureEnabled("finish")&&(t=e.createItem("finish",this.getTooltip("finish"),this),e.registerItem(t,"check",CUI.imageeditor.Theme.TOOLBARITEM_MODECHANGER_CLASS))},execute:function(e,t,i){"close"===e?this.editor.cancel():"finish"===e&&CUI.imageeditor.Utils.defer((function(){this.editor.finish()}),10,this)}})}(jQuery),CUI.imageeditor.plugins.PluginRegistry.register("control",CUI.imageeditor.plugins.Control),function(e,t,i){"use strict";CUI.imageeditor.plugins.Fullscreen=new Class({toString:"Fullscreen",extend:CUI.imageeditor.plugins.Plugin,features:["fullscreen","fullscreenexit"],initializeUI:function(e){var t;this.isFeatureEnabled("fullscreen")&&(t=e.createItem("fullscreen",this.getTooltip("fullscreen"),this),e.registerItem(t,"fullScreen",CUI.imageeditor.Theme.TOOLBARITEM_MODECHANGER_CLASS)),this.isFeatureEnabled("fullscreenexit")&&(t=e.createItem("fullscreenexit",this.getTooltip("fullscreenexit"),this),e.registerItem(t,"fullScreenExit",CUI.imageeditor.Theme.TOOLBARITEM_MODECHANGER_CLASS))},execute:function(e,t){"fullscreen"===e?this.editor.switchToFullscreen():"fullscreenexit"===e&&this.editor.switchToInline()}})}(jQuery),CUI.imageeditor.plugins.PluginRegistry.register("fullscreen",CUI.imageeditor.plugins.Fullscreen),function(e,t,i){"use strict";CUI.imageeditor.plugins.History=new Class({toString:"History",extend:CUI.imageeditor.plugins.Plugin,features:["undo","redo"],initializeUI:function(e){var t;this.isFeatureEnabled("undo")&&(t=e.createItem("undo",this.getTooltip("undo"),this),this.notifyToolbarDecorator(t),e.registerItem(t,"undo",CUI.imageeditor.Theme.TOOLBARITEM_DISABLED_CLASS,"true")),this.isFeatureEnabled("redo")&&(t=e.createItem("redo",this.getTooltip("redo"),this),this.notifyToolbarDecorator(t),e.registerItem(t,"redo",CUI.imageeditor.Theme.TOOLBARITEM_DISABLED_CLASS,"true")),this.transformResultDecorator()},execute:function(e,t){"undo"===e&&this.editor.relayAction("undo",t),"redo"===e&&this.editor.relayAction("redo",t)},transformResultDecorator:function(){var e=this,t=CUI.imageeditor.TransformResult.prototype.setTransformValue;(this.isFeatureEnabled("undo")||this.isFeatureEnabled("redo"))&&(CUI.imageeditor.TransformResult.prototype.setTransformValue=function(){var i;for(t.apply(this,arguments),i=e._observeHistory.undo.length-1;i>=0;i--)e._observeHistory.undo[i].toggleClass(CUI.imageeditor.Theme.TOOLBARITEM_DISABLED_CLASS,!this.history.length),e._observeHistory.undo[i].attr("aria-disabled",!this.history.length);for(i=e._observeHistory.redo.length-1;i>=0;i--)e._observeHistory.redo[i].toggleClass(CUI.imageeditor.Theme.TOOLBARITEM_DISABLED_CLASS,!this.future.length),e._observeHistory.redo[i].attr("aria-disabled",!this.future.length)})},notifyToolbarDecorator:function(e){var t=e.notifyToolbar,i=this;return this._observeHistory=this._observeHistory||{},this._observeHistory[e.id]=this._observeHistory[e.id]||[],e.notifyToolbar=function(){t.apply(this,arguments),i._observeHistory[e.id].push(this.$ui)},e}})}(jQuery),CUI.imageeditor.plugins.PluginRegistry.register("history",CUI.imageeditor.plugins.History),function(e,t,i){"use strict";CUI.imageeditor.plugins.Zoom=new Class({toString:"Zoom",extend:CUI.imageeditor.plugins.Plugin,features:["popupslider","reset100"],initializeUI:function(e){var t;this.isFeatureEnabled("popupslider")&&(t=e.createItem("popupslider",this.getTooltip("popupslider"),this),e.registerItem(t,"search")),this.isFeatureEnabled("reset100")&&(t=e.createItem("reset100",this.getTooltip("reset100"),this),e.registerItem(t,"compare"))},execute:function(e,t){"popupslider"===e&&this.editor.relayAction("zoompopupslider",this),"reset100"===e&&this.editor.relayAction("zoomreset100",this)},registerTransformFields:function(e){}}),CUI.imageeditor.plugins.Zoom.TOOLBAR_ID="zoom",CUI.imageeditor.plugins.PluginRegistry.register("zoom",CUI.imageeditor.plugins.Zoom)}(jQuery),function(e,t,i){"use strict";CUI.imageeditor.ui.ToolbarBuilder=new Class({toString:"ToolbarBuilder",groups:null,$editable:null,construct:function(e){this.registeredItems={},this.templates=e.templates},createItem:function(e,t,i){return new CUI.imageeditor.ui.ToolbarItem(e,t,i)},registerItem:function(t,i,n,o){t=e.extend({},t,{icon:i,addClasses:n,isDisabled:o}),this.registeredItems[t.action]=t},createToolbar:function(e,t){var i,n,o,a=e.$editable,r=this.getUIOptions(e,t);if(!t)throw new Error("ArgumentError - missing toolbar type");if(!r)return null;for(o in(n=CUI.imageeditor.UIUtils.getToolbars(a,t))&&0!==n.length||this._buildToolbar(a,r,t),i=new CUI.imageeditor.ui.Toolbar(a,t),this.registeredItems)this.registeredItems.hasOwnProperty(o)&&this.registeredItems[o].notifyToolbar(i);return i},_buildToolbar:function(t,i,n){var o=this.templates.get("toolbar"),a=this.templates.get("toolbar-item"),r=[];r=[];var s,l,c=i.replacementToolbars;for(s in c)c.hasOwnProperty(s)&&(l=c[s],r.push(o({ref:l.ref||s,toolbarItems:this.getToolbarItemHTML(l.items||l,a)})));var d=e(this.templates.get("toolbars")({type:n,toolbar:o({ref:"primary",toolbarItems:this.getToolbarItemHTML(i.toolbar,a)}),replacementToolbars:r}));this._addAccessibilityTags(d);var u=CUI.imageeditor.UIUtils.getUIContainer(t),h=CUI.imageeditor.UIUtils.getToolbarContainer(u,n);e(h).append(d)},_addAccessibilityTags:function(t){for(var i=new CUI.imageeditor.I18nProvider,n=[{action:"rotate#left",narration:i.get("rotate.toolbar.left.finish")},{action:"rotate#right",narration:i.get("rotate.toolbar.right.finish")},{action:"flip#vertical",narration:i.get("flip.toolbar.vertical.finish")},{action:"flip#horizontal",narration:i.get("flip.toolbar.horizontal.finish")},{action:"control#finish",narration:i.get("image.edit.finish")}],o=0;o<n.length;o++){var a=n[o].action,r=n[o].narration,s=t.find("button[data-action='"+a+"']");e("<div></div>").addClass("u-coral-screenReaderOnly").attr("aria-live","polite").attr("aria-atomic","false").attr("data-tag",r).appendTo(s)}},getUIOptions:function(e,t){return e&&e.ui?e.ui[t]:CUI.imageeditor.ui.DEFAULT_OPTIONS[t]},getToolbarItemHTML:function(t,i){var n,o,a,r;if(e.isArray(t))r=e.isArray(t[0])?{left:t[0],right:t.length>1?t[1]:[]}:{left:t,right:[]};else if(r={left:t.left?t.left:[],right:t.right?t.right:[]},!e.isArray(t.left)||!e.isArray(t.right))throw new Error("Argument error: Expecting object {left:[], right:[]}");for(o={left:[],right:[]},n=0;n<r.left.length;n++)(a=this.registeredItems[r.left[n]])&&o.left.push(e.trim(i(a)));for(n=0;n<r.right.length;n++)(a=this.registeredItems[r.right[n]])&&o.right.push(e.trim(i(a)));return o}})}(jQuery),CUI.imageeditor.ui.DEFAULT_OPTIONS={inline:{toolbar:["crop#launch","rotate#left","rotate#right","flip#vertical","flip#horizontal","history#undo","history#redo","fullscreen#fullscreen","control#close"],replacementToolbars:{crop:["crop#identifier","crop#unlaunch","crop#confirm"]}},fullscreen:{toolbar:{left:["crop#launchwithratio","rotate#left","rotate#right","flip#vertical","flip#horizontal","map#launch","zoom#reset100","zoom#popupslider"],right:["history#undo","history#redo","fullscreen#fullscreenexit"]},replacementToolbars:{crop:{left:["crop#identifier"],right:["crop#unlaunch","crop#confirm"]},map:{left:["map#rectangle","map#circle","map#polygon"],right:["map#unlaunch","map#confirm"]}}}},function(e,t,i){"use strict";CUI.imageeditor.ui.Toolbar=new Class({toString:"Toolbar",$ui:null,$editable:null,$container:null,$toolbars:null,construct:function(e,t){if(!t)throw new Error("ArgumentError - missing toolbar type");this.tbType=t,this.$editable=e,this.$ui=CUI.imageeditor.UIUtils.getUIContainer(this.$editable),this.$container=CUI.imageeditor.UIUtils.getToolbarContainer(this.$ui,t),this.$toolbars=CUI.imageeditor.UIUtils.getToolbars(this.$editable,this.tbType),this.autoSetToolbarWidths(),this.switchToPrimaryToolbar()},autoSetToolbarWidths:function(){var t=this;this.$toolbars.each((function(){var i=e(this).data("id");void 0!==i&&t.autoSetToolbarWidth(i)}))},autoSetToolbarWidth:function(e){this.showToolbar(e),this.setToolbarWidth(e,this.calcToolbarWidth(e)),this.hideToolbar(e)},setToolbarWidth:function(e,t){var i=this.getToolbar(e);null!==i&&i.width(t)},calcToolbarWidth:function(t){var i=this.getToolbar(t),n=0;return i.children().each((function(){n+=e(this).outerWidth(!0)})),n},show:function(){this.$container.addClass(CUI.imageeditor.Theme.IMAGEEDITOR_HIDDEN_CLASS)},hide:function(){this.$container.addClass(CUI.imageeditor.Theme.IMAGEEDITOR_HIDDEN_CLASS)},isHidden:function(){return this.$container.hasClass(CUI.imageeditor.Theme.IMAGEEDITOR_HIDDEN_CLASS)},getContainer:function(){return this.$container},getToolbar:function(t){var i=null;return this.$toolbars.each((function(){e(this).data("id")!==t||(i=e(this))})),i},getToolbars:function(){return this.$toolbars},switchToPrimaryToolbar:function(){this.switchToolbar(CUI.imageeditor.ui.Toolbar.PRIMARY_TOOLBAR_ID)},switchToolbar:function(e){this.hideToolbars(),this.showToolbar(e)},showToolbar:function(t){var i=this.getToolbar(t);null!==i&&e(i).removeClass(CUI.imageeditor.Theme.IMAGEEDITOR_HIDDEN_CLASS)},hideToolbar:function(t){var i=this.getToolbar(t);null!==i&&e(i).addClass(CUI.imageeditor.Theme.IMAGEEDITOR_HIDDEN_CLASS)},hideToolbars:function(){this.$toolbars.each((function(){e(this).addClass(CUI.imageeditor.Theme.IMAGEEDITOR_HIDDEN_CLASS)}))},startEditing:function(){this.show()},finishEditing:function(){this.hide()}})}(jQuery),CUI.imageeditor.ui.Toolbar.PRIMARY_TOOLBAR_ID="primary",function(e,t){"use strict";CUI.imageeditor.ui.ToolbarItem=new Class({toString:"ToolbarItem",$ui:null,id:null,plugin:null,title:null,toolbar:null,construct:function(e,t,i){this._init.apply(this,arguments)},_init:function(e,t,i){this.id=e,this.title=t,this.plugin=i,this.action=this.plugin.pluginId+"#"+this.id},notifyToolbar:function(t){var i=this,n=null;this.toolbar=t,n=e(t.getContainer()),this.$ui=n.find('button[data-action="'+this.action+'"]'),this.tapOrClickHandler=CUI.imageeditor.UIUtils.handleTapOrClick(this.$ui,(function(t){if(t.stopImmediatePropagation(),!i.$ui.hasClass(CUI.imageeditor.Theme.TOOLBARITEM_DISABLED_CLASS)){i.plugin.execute(i.id);var n=e(t.currentTarget).find("div"),o=n.attr("data-tag"),a=CUI.imageeditor.Utils.getUID(),r=e("<span></span>").text(o).attr("id",a);n.empty().append(r)}}),{eventNamespace:"imageeditor-handler"})},createToolbarDef:function(){return{id:this.id,element:this}},destroy:function(){this.tapOrClickHandler&&this.tapOrClickHandler.off()}})}(jQuery),jQuery.fn.polygon=function(e){"use strict";var t=function(e){return!isNaN(e)},i=function(e,t){this.$element=e,this.loadOpts(t)};i.prototype.defaults={points:[]},i.prototype.loadOpts=function(t){this.options=e.extend({},this.defaults,t),this.options.points&&(this.points=this.readPoints(this.options.points))},i.prototype.readPoints=function(e){var i,n,o,a=[];if(e&&e.length)for(i=0;i<e.length;i++)n=e[i],t(n.w)&&t(n.h)&&(o={w:parseInt(n.w,10),h:parseInt(n.h,10)},a.push(o));return a},i.prototype.clearCanvas=function(e){var t=this.getCanvas(e);this.get2dContext(e).clearRect(0,0,t.width,t.height)},i.prototype.get2dContext=function(e){return this.getCanvas(e).getContext("2d")},i.prototype.getCanvas=function(e){var t=this.$element;return e&&(t=e),t.length?t[0]:t},i.prototype.paintPolygon=function(e){this.paintPolygonWithPoints(null,null,e)},i.prototype.paintPolygonWithPoints=function(t,i,n){t=this.getCanvas(t);var o,a,r=this.get2dContext(t),s=!1;if(i=i||this.points,n=e.extend({strokeStyle:"#000",fillStyle:null,lineWidth:1,lineJoin:"round"},n),i&&i.length){for(r.beginPath(),o=i[0],r.moveTo(o.w,o.h),s=!0,a=1;a<i.length;a++)o=i[a],r.lineTo(o.w,o.h);r.closePath()}s&&(n.strokeStyle&&(r.lineWidth=n.lineWidth,r.strokeStyle=n.strokeStyle,r.lineJoin=n.lineJoin,r.stroke()),n.fillStyle&&(r.fillStyle=n.fillStyle,r.fill()))},i.prototype.getPoints=function(){return this.points.slice()},i.prototype.setPoints=function(e){this.points=e},i.prototype.isCoordsInBoundingBox=function(e,t,i){var n=null;return t>=(n=e&&void 0!==e.left?e:this.getBoundingBox(e)).left&&t<=n.left+n.width&&i>=n.top&&i<=n.top+n.height},i.prototype.getBoundingBox=function(e){var t,i,n=e||this.points,o={top:Number.MAX_VALUE,bottom:Number.MIN_VALUE,left:Number.MAX_VALUE,right:Number.MIN_VALUE};if(!n||n.length<1)throw new Error("Cannot define bounding box if there are no points, handle this case differently");for(t=0;t<n.length;t++)(i=n[t]).w<o.left&&(o.left=i.w),i.w>o.right&&(o.right=i.w),i.h<o.top&&(o.top=i.h),i.h>o.bottom&&(o.bottom=i.h);return o.width=o.right-o.left,o.height=o.bottom-o.top,o},i.prototype.isPointInsideOrOnEdgeOfPolygon=function(e,t){var i,n,o,a,r=[[-6e7,e[1]],e];if(!t||t.length<3)return!1;for(n=0,o=t[t.length-1],a=0;a<t.length;a++){if(i=[o,t[a]],this.isPointOnLineSegment(e,i[0],i[1]))return!0;null!=this.intersectSegments(r,i)&&n++,o=t[a]}return n>0&&n%2==1},i.prototype.intersectSegments=function(e,t){var i=e[0],n=e[1],o=t[0],a=t[1],r=this.intersectLines(e,t);return null==r?null:!0===r?this.isWithin(o,i,a)?this.isWithin(o,n,a)?[i,n]:this.isWithin(i,o,n)?[i,o]:[i,a]:this.isWithin(o,n,a)?this.isWithin(i,o,n)?[n,o]:[n,a]:this.isWithin(i,o,n)?this.isWithin(i,a,n)?[o,a]:this.isWithin(o,i,a)?[o,i]:[o,n]:this.isWithin(i,a,n)?this.isWithin(o,i,a)?[i,a]:[n,a]:null:this.isPointOnLineSegment(r,e[0],e[1])&&this.isPointOnLineSegment(r,t[0],t[1])?r:null},i.prototype.intersectLines=function(e,t){if(2!==e.length||2!==t.length)throw new Error("Arguments invalid: Please pass 2 arrays of two vectors each");var i,n=e[0],o=e[1],a=t[0],r=t[1],s=[o[0]-n[0],o[1]-n[1]],l=[r[0]-a[0],r[1]-a[1]],c=this.vectorsEqual(s,[0,0]),d=this.vectorsEqual(l,[0,0]);return c?d?this.vectorsEqual(n,a)?n:null:this.isThreePointsOnOneLine(a,r,n)?n:null:d?this.isThreePointsOnOneLine(n,o,a)?a:null:0===s[0]&&0===l[0]||0===s[1]&&0===l[1]||this.floatsEqual(s[0]/l[0],s[1]/l[1])?!!this.isThreePointsOnOneLine(n,o,a)||null:(i=(s[0]*(n[1]-a[1])+s[1]*(a[0]-n[0]))/(s[0]*l[1]-s[1]*l[0]),[a[0]+i*l[0],a[1]+i*l[1]])},i.prototype.filterLineSegmentsNextToPointAndSortByDistance=function(e,t){var i,n,o,a,r=[];for(i=0;i<t.length;i++)n=t[i],o=this.projectPointOntoLine(e,n[0],n[1]),this.isPointOnLineSegment(o,n[0],n[1])&&(a=[o[0]-e[0],o[1]-e[1]],r.push({line:n,projection:o,distance:this.vectorNorm(a)}));return r.sort((function(e,t){return e.distance-t.distance})),r},i.prototype.projectPointOntoLine=function(e,t,i){var n,o,a;return t[0]===i[0]&&t[1]===i[1]?[t[0]-e[0],t[1]-e[1]]:(a=((o=0===(n=[t[0]-i[0],t[1]-i[1]])[1]?[0,1]:[1,n[0]/n[1]*-1])[1]*(t[0]-e[0])+o[0]*(e[1]-t[1]))/(o[0]*n[1]-o[1]*n[0]),[t[0]+a*n[0],t[1]+a*n[1]])},i.prototype.isPointOnLineSegment=function(e,t,i){return!!this.isThreePointsOnOneLine(e,t,i)&&(t[0]!==i[0]?this.isWithin(t[0],e[0],i[0]):this.isWithin(t[1],e[1],i[1]))},i.prototype.isThreePointsOnOneLine=function(e,t,i){return this.floatsEqual((t[0]-e[0])*(i[1]-e[1]),(i[0]-e[0])*(t[1]-e[1]))},i.prototype.isWithin=function(e,t,i){return e<=t&&t<=i||i<=t&&t<=e},i.prototype.floatsEqual=function(e,t,i){return void 0===i&&(i=1e-9),e===t||Math.abs((e-t)/t)<=i},i.prototype.vectorNorm=function(e){return Math.sqrt(this.dotProduct(e,e))},i.prototype.dotProduct=function(e,t){var i,n=0;if(e.length!==t.length)throw new Exception("a and b have differing length");for(i=0;i<e.length;i++)n+=e[i]*t[i];return n},i.prototype.pointsToVectors=function(e){var t,i;if("object"==typeof e){if(void 0!==e.length){for(t=[],i=0;i<e.length;i++)t.push(this.pointsToVectors(e[i]));return t}return void 0!==e.w?[e.w,e.h]:[e.x,e.y]}},i.prototype.vectorsEqual=function(e,t){var i;if(e.length!==t.length)return!1;for(i=0;i<e.length;i++)if(!this.floatsEqual(e[i],t[i]))return!1;return!0},i.prototype.pointsToLineSegmentsWithVectors=function(e){var t,i=this.pointsToVectors(e),n=[];if(!i||i.length<2)return[];if(2===i.length)return n.push([i[0],i[1]]),n;for(t=1;t<i.length;t++)n.push([i[t-1],i[t]]);return n.push([i[i.length-1],i[0]]),n};return function(t){return t=t||{},this.each((function(){var n=e(this),o=n.data("polygon");t.call?o&&o[t.call].call(o,t):o?o.loadOpts(t):(o=new i(n,t),n.data("polygon",o))})),t&&t.instance?this.eq(0).data("polygon"):this}}(jQuery),jQuery.fn.imageSelect=function(e){"use strict";var t={NAMESPACE:".imageSelect"};t.CLICK="click"+t.NAMESPACE,t.RESIZE="resize"+t.NAMESPACE,t.KEYDOWN="keydown"+t.NAMESPACE,t.FOCUS="focus"+t.NAMESPACE,t.BLUR="blur"+t.NAMESPACE,t.MOUSEDOWN="touchstart"+t.NAMESPACE+" mousedown"+t.NAMESPACE,t.MOUSEUP="touchend"+t.NAMESPACE+" touchcancel"+t.NAMESPACE+" mouseup"+t.NAMESPACE,t.MOUSEMOVE="touchmove"+t.NAMESPACE+" mousemove"+t.NAMESPACE,t.OPEN="open",t.CLOSE="close",t.UPDATE="update",t.SECOND_CLICK="second_click";var i=["rectangle","ellipse"],n=function(e){return!isNaN(e)},o=function(e){return e.stopPropagation(),e.preventDefault(),!1},a=function(e){return e.originalEvent.touches?{x:e.originalEvent.touches[0].pageX,y:e.originalEvent.touches[0].pageY}:{x:e.pageX,y:e.pageY}},r=function(e,t,i,n){return e.width=Math.min(t.width,e.width),e.height=Math.min(t.height,e.height),void 0!==i&&(e.width=Math.max(i.width,e.width),e.height=Math.max(i.height,e.height)),void 0!==n&&0!==n&&(e.height>Math.round(e.width*n)?e.height=Math.floor(e.width*n):e.width=Math.floor(e.height/n)),e.left=Math.max(t.left,e.left),e.left=Math.min(t.left+t.width-e.width,e.left),e.top=Math.max(t.top,e.top),e.top=Math.min(t.top+t.height-e.height,e.top),e},s=/matrix\(([^,]+), ([^,]+), ([^,]+), ([^,]+), ([^,]+), ([^,]+)\)/,l=/matrix3d\(([^,]+), ([^,]+), ([^,]+), ([^,]+), ([^,]+), ([^,]+), ([^,]+), ([^,]+), ([^,]+), ([^,]+), ([^,]+), ([^,]+), ([^,]+), ([^,]+), ([^,]+), ([^,]+)\)/,c=function(e){var t=parseFloat(e);if(isNaN(t))throw new Error("Number is not a float");return Math.round(t)},d=function(t,i){if(2!==t.length||2!==t[0].length||2!==t[1].length)throw new Error("Expecting 2x2 matrix");if(void 0===i.x||void 0===i.y)throw new Error("Expecting point to be object like {x: 0, y: 0}");return e.extend({},i,{x:i.x*t[0][0]+i.y*t[0][1],y:i.x*t[1][0]+i.y*t[1][1]})},u=function(e,t){this.$element=e,this.open(t)};u.prototype.defaults={classPrefix:"image-select-",parent:null,min:40,selection:null},u.prototype.init=function(t){this.options=e.extend({},this.defaults,t),this.matrix=function(t){var i,n=e(t).css("transform");try{if(i=n.match(s))return[[c(i[1]),c(i[2])],[c(i[3]),c(i[4])]];if(i=n.match(l))return[[c(i[1]),c(i[5])],[c(i[2]),c(i[6])]];if("none"===n)return[[1,0],[0,1]]}catch(e){}return window.console&&window.console.log&&window.console.log("ImageEditor: Could not parse matrix string",n),[[1,0],[0,1]]}(this.$element),this.canvas=this.options.canvas||this.canvas||{top:0,left:0,width:this.$element.width(),height:this.$element.height()},this.readSelectionFromOptions(),this.readAspectRatioFromOptions(),r(this.selection,this.canvas,this.min,this.aspectRatio)},u.prototype.readSelectionFromOptions=function(){-1===e.inArray(this.options.shape,i)?this.shape=i[0]:this.shape=this.options.shape;var t=this.options.selection;t&&n(t.top)&&n(t.height)&&n(t.left)&&n(t.width)?this.selection={top:parseInt(t.top,10),left:parseInt(t.left,10),width:parseInt(t.width,10),height:parseInt(t.height,10)}:this.selection=this.selection||{top:this.canvas.top+50,left:this.canvas.left+50,width:this.canvas.width-100,height:this.canvas.height-100}},u.prototype.readAspectRatioFromOptions=function(){var e=this.options.min;this.options.aspectRatio&&(this.aspectRatio=parseFloat(this.options.aspectRatio)),this.aspectRatio||(this.aspectRatio=0),this.fixedAspectRatio=0!==this.aspectRatio,this.fixedAspectRatio?this.aspectRatio>1?this.min={width:e,height:e*this.aspectRatio}:this.min={width:e/this.aspectRatio,height:e}:this.min={width:e,height:e}},u.prototype.cssClass=function(e){return this.options.classPrefix+e},u.prototype.createDiv=function(t){return e("<div>").addClass(this.cssClass(t))},u.prototype.buildUI=function(){if(this.$holder=this.createDiv("holder").css({width:this.$element.width(),height:this.$element.height()}).addClass(this.cssClass(this.shape)),this.$backdrop=this.createDiv("backdrop").css({width:this.canvas.width,height:this.canvas.height,top:this.canvas.top,left:this.canvas.left}),this.$holder.append(this.$backdrop),this.$selection=this.createDiv("selection"),this.$selection[0].setAttribute("tabindex","0"),this.$selection[0].setAttribute("role","button"),this.$holder.append(this.$selection),this.handleDragging(this.$selection,this.handleCenter),"rectangle"===this.shape){var i=this.createDiv("guideline").addClass(this.cssClass("guideline-vertical"));this.$selection.append(i);var n=this.createDiv("guideline").addClass(this.cssClass("guideline-horizontal"));this.$selection.append(n),this.fixedAspectRatio||(this.createHandle({top:"0",left:"50%"},this.handleTop),this.createHandle({top:"50%",left:"100%"},this.handleRight),this.createHandle({top:"100%",left:"50%"},this.handleBottom),this.createHandle({top:"50%",left:"0"},this.handleLeft)),this.createHandle({top:"0",left:"100%"},this.handleTopRight),this.createHandle({top:"100%",left:"100%"},this.handleBottomRight),this.createHandle({top:"100%",left:"0"},this.handleBottomLeft),this.createHandle({top:"0",left:"0"},this.handleTopLeft)}else"ellipse"===this.shape&&this.createHandle({top:"86%",left:"86%"},this.handleBottomRight);this.updateUI(!1),this.options.parent?e(this.options.parent).append(this.$holder):this.$element.after(this.$holder),this.repositionUI(),this.options.applyTransformations&&this.applyTransformationsToUI(),this.$element.trigger(t.OPEN,this),this.$backdrop.on(t.CLICK,o),this.$selection.on(t.CLICK,this,o),e(window).on(t.RESIZE,this,this.repositionUI)},u.prototype.repositionUI=function(e){var t=e?e.data:this;t.$holder.position({of:t.$element,at:"center",my:"center"})},u.prototype.applyTransformationsToUI=function(e){var t=function(e){try{var t=e.match(/matrix\(([^)]+)\)/);if(t){for(var i=t[1].split(/, ?/),n=[],o=0;o<i.length;o++){var a=i[o];if(a.indexOf("e")>-1||a.indexOf("E")>-1){var r=parseFloat(a);if(isNaN(r))throw new Error("Not a number: '"+a+"'");n.push(""+r.toFixed(19))}else n.push(a)}return"matrix("+n.join(", ")+")"}}catch(e){}return e}(this.$element.css("transform"));if(this.$holder.css({transform:t,"-webkit-transform":t}),0===d(this.matrix,{x:1,y:0}).x){var i=(this.$element.width()-this.$element.height())/2;this.$holder.css({"margin-top":+i,"margin-right":-i,"margin-bottom":+i,"margin-left":-i})}},u.prototype.ensureSelectionIsInReasonableBounds=function(e){e.width=Math.max(this.min.width,e.width),e.width=Math.min(this.canvas.width,e.width),e.height=Math.max(this.min.height,e.height),e.height=Math.min(this.canvas.height,e.height),e.top=Math.max(this.canvas.top,e.top),e.top=Math.min(this.canvas.top+this.canvas.height-e.height,e.top),e.left=Math.max(this.canvas.left,e.left),e.left=Math.min(this.canvas.left+this.canvas.width-e.width,e.left)},u.prototype.enforceAspectRatio=function(e,t){return this.fixedAspectRatio?(e.height>Math.round(e.width*this.aspectRatio)?e.height=Math.floor(e.width*this.aspectRatio):e.width=Math.floor(e.height/this.aspectRatio),t&&t.call(this),e):e},u.prototype.updateUI=function(i){this.previousSelection&&this.previousSelection.top===this.selection.top&&this.previousSelection.left===this.selection.left&&this.previousSelection.width===this.selection.width&&this.previousSelection.height===this.selection.height||(this.$backdrop&&this.$backdrop.css({"border-top-width":this.selection.top-this.canvas.top,"border-right-width":this.canvas.left+this.canvas.width-(this.selection.left+this.selection.width),"border-bottom-width":this.canvas.top+this.canvas.height-(this.selection.top+this.selection.height),"border-left-width":this.selection.left-this.canvas.left}),this.$selection&&this.$selection.css({top:this.selection.top-2+"px",left:this.selection.left-2+"px",width:this.selection.width+"px",height:this.selection.height+"px"}),this.previousSelection=e.extend({},this.selection),!1!==i&&this.$element.trigger(t.UPDATE,this.getSelection()))},u.prototype.createHandle=function(e,t){var i=this.createDiv("handle").css(e);i[0].setAttribute("tabindex","0"),i[0].setAttribute("role","button"),this.$selection.append(i),this.handleDragging(i,t)},u.prototype.handleDragging=function(i,n){var o,r,s,l=this,c={},u={};i.on(t.MOUSEDOWN,(function(s){1!==s.which&&0!==s.which||(s.preventDefault(),s.stopPropagation(),o=a(s),r=e.extend({},l.selection),e(this).focus(),e("body").on(t.MOUSEMOVE,(function(e){e.preventDefault();var t=a(e);c.x=t.x-o.x,c.y=t.y-o.y,c.timeout||(c.timeout=setTimeout((function(){delete c.timeout,c.moved=!0,l.handleDrag(d(l.matrix,c),r,n)}),50))})).one(t.MOUSEUP,(function(){e(this).off(t.MOUSEMOVE).off(t.MOUSEUP),l.showAllHandles(),c.moved||l.$element.trigger(t.SECOND_CLICK,l)})),l.hideOtherHandles(i))})),i.on(t.FOCUS,(function(o){o.preventDefault(),o.stopPropagation(),c={x:0,y:0},u={},r=e.extend({},l.selection),s=e.extend({},l.selection),i.off(t.KEYDOWN),i.on(t.KEYDOWN,(function(t){u={x:c.x,y:c.y},s=e.extend({},l.selection);var o=t.shiftKey?1:10;if(39===t.which)l.fixedAspectRatio&&l.$selection[0]!==this?(n===l.handleTopRight&&(c.x+=o,c.y-=o*l.aspectRatio),n===l.handleBottomRight&&(c.x+=o,c.y+=o*l.aspectRatio),n===l.handleBottomLeft&&(c.x+=o,c.y-=o*l.aspectRatio),n===l.handleTopLeft&&(c.x+=o,c.y+=o*l.aspectRatio)):c.x+=o;else if(37===t.which)l.fixedAspectRatio&&l.$selection[0]!==this?(n===l.handleTopRight&&(c.x-=o,c.y-=o*l.aspectRatio),n===l.handleBottomRight&&(c.x-=o,c.y-=o*l.aspectRatio),n===l.handleBottomLeft&&(c.x-=o,c.y+=o*l.aspectRatio),n===l.handleTopLeft&&(c.x-=o,c.y-=o*l.aspectRatio)):c.x-=o;else if(38===t.which)l.fixedAspectRatio&&l.$selection[0]!==this?(n===l.handleTopRight&&(c.x+=o*l.aspectRatio,c.y-=o),n===l.handleBottomRight&&(c.x-=o*l.aspectRatio,c.y-=o),n===l.handleBottomLeft&&(c.x+=o*l.aspectRatio,c.y-=o),n===l.handleTopLeft&&(c.x-=o*l.aspectRatio,c.y-=o)):c.y-=o;else{if(40!==t.which)return;l.fixedAspectRatio&&l.$selection[0]!==this?(n===l.handleTopRight&&(c.x-=o*l.aspectRatio,c.y+=o),n===l.handleBottomRight&&(c.x+=o*l.aspectRatio,c.y+=o),n===l.handleBottomLeft&&(c.x-=o*l.aspectRatio,c.y+=o),n===l.handleTopLeft&&(c.x+=o*l.aspectRatio,c.y+=o)):c.y+=o}l.handleDrag(d(l.matrix,c),r,n),s&&s.top===l.selection.top&&s.left===l.selection.left&&s.width===l.selection.width&&s.height===l.selection.height?c={x:u.x,y:u.y}:s=e.extend({},l.selection),l.hideOtherHandles(i)})),i.on(t.BLUR,(function(){e(this).off(t.KEYDOWN),l.showAllHandles()}))}))},u.prototype.hideOtherHandles=function(e){this.$selection.find("."+this.cssClass("handle")).not(e).addClass(this.cssClass("handle-other")),e.addClass(this.cssClass("handle-selected"))},u.prototype.showAllHandles=function(){this.$selection.find("."+this.cssClass("handle")).removeClass(this.cssClass("handle-other")).removeClass(this.cssClass("handle-selected"))},u.prototype.handleDrag=function(e,t,i){var n=i.call(this,e,t);n&&(this.selection.top=Math.round(n.top),this.selection.left=Math.round(n.left),this.selection.width=Math.round(n.width),this.selection.height=Math.round(n.height),this.updateUI())},u.prototype.handleTop=function(t,i){var n=e.extend({},i);return n.top=n.top+t.y,n.top=Math.max(this.canvas.top,n.top),n.top=Math.min(i.top+i.height-this.min.height,n.top),n.height=i.top+n.height-n.top,n},u.prototype.handleTopRight=function(e,t){var i=this.handleTop(e,this.handleRight(e,t));return this.enforceAspectRatio(i,(function(){i.top=t.top-(i.height-t.height)})),i},u.prototype.handleRight=function(t,i){var n=e.extend({},i);return n.width=n.width+t.x,n.width=Math.max(this.min.width,n.width),n.width=Math.min(this.canvas.left+this.canvas.width-i.left,n.width),n},u.prototype.handleBottomRight=function(e,t){var i=this.handleBottom(e,this.handleRight(e,t));return this.enforceAspectRatio(i),i},u.prototype.handleBottom=function(t,i){var n=e.extend({},i);return n.height=n.height+t.y,n.height=Math.max(this.min.height,n.height),n.height=Math.min(this.canvas.top+this.canvas.height-i.top,n.height),n},u.prototype.handleBottomLeft=function(e,t){var i=this.handleBottom(e,this.handleLeft(e,t));return this.enforceAspectRatio(i,(function(){i.left=t.left-(i.width-t.width)})),i},u.prototype.handleLeft=function(t,i){var n=e.extend({},i);return n.left=n.left+t.x,n.left=Math.max(this.canvas.left,n.left),n.left=Math.min(i.left+i.width-this.min.width,n.left),n.width=i.left+n.width-n.left,n},u.prototype.handleTopLeft=function(e,t){var i=this.handleTop(e,this.handleLeft(e,t));return this.enforceAspectRatio(i,(function(){i.left=t.left-(i.width-t.width),i.top=t.top-(i.height-t.height)})),i},u.prototype.handleCenter=function(t,i){var n=e.extend({},i);return n.top=n.top+t.y,n.top=Math.max(this.canvas.top,n.top),n.top=Math.min(this.canvas.top+this.canvas.height-i.height,n.top),n.left=n.left+t.x,n.left=Math.max(this.canvas.left,n.left),n.left=Math.min(this.canvas.left+this.canvas.width-i.width,n.left),n},u.prototype.destroyUI=function(){e(window).off(t.RESIZE),void 0!==this.$holder&&(this.$holder.off(t.CLICK),this.$holder.remove()),delete this.$holder,delete this.$backdrop,delete this.$selection,delete this.previousSelection},u.prototype.open=function(e){e=e||{},this.opened&&this.destroyUI(),this.init(e),this.buildUI(),this.opened=!0},u.prototype.close=function(){this.opened&&(this.destroyUI(),this.opened=!1,this.$element.trigger(t.CLOSE,this))},u.prototype.destroy=function(){this.close(),this.$element.data("image-select",null)},u.prototype.getSelection=function(){return{top:this.selection.top,left:this.selection.left,width:this.selection.width,height:this.selection.height}};var h=function(t){return t=t||{},this.each((function(){var i=e(this),n=i.data("image-select");t.call?n&&n[t.call].call(n,t):n?n.open(t):(n=new u(i,t),i.data("image-select",n))})),t&&t.instance?this.eq(0).data("image-select"):this};return h.moveSelectionIntoCanvas=r,h}(jQuery),jQuery.fn.imageSelectPolygon=function(e){"use strict";var t={NAMESPACE:".imageSelect"};t.CLICK="click"+t.NAMESPACE,t.RESIZE="resize"+t.NAMESPACE,t.MOUSEDOWN="touchstart"+t.NAMESPACE+" mousedown"+t.NAMESPACE,t.MOUSEUP="touchend"+t.NAMESPACE+" touchcancel"+t.NAMESPACE+" mouseup"+t.NAMESPACE,t.MOUSEMOVE="touchmove"+t.NAMESPACE+" mousemove"+t.NAMESPACE,t.OPEN="open",t.CLOSE="close",t.UPDATE="update",t.SECOND_CLICK="second_click",t.DESELECT_CLICK="deselect_click";var i=["polygon"],n=function(e){return!isNaN(e)},o=function(e){return e.originalEvent.touches?{x:e.originalEvent.touches[0].pageX,y:e.originalEvent.touches[0].pageY}:{x:e.pageX,y:e.pageY}},a=/matrix\(([^,]+), ([^,]+), ([^,]+), ([^,]+), ([^,]+), ([^,]+)\)/,r=/matrix3d\(([^,]+), ([^,]+), ([^,]+), ([^,]+), ([^,]+), ([^,]+), ([^,]+), ([^,]+), ([^,]+), ([^,]+), ([^,]+), ([^,]+), ([^,]+), ([^,]+), ([^,]+), ([^,]+)\)/,s=function(e){var t=parseFloat(e);if(isNaN(t))throw new Error("Number is not a float");return Math.round(t)},l=function(t,i){if(2!==t.length||2!==t[0].length||2!==t[1].length)throw new Error("Expecting 2x2 matrix");if(void 0===i.x||void 0===i.y)throw new Error("Expecting point to be object like {x: 0, y: 0}");return e.extend({},i,{x:i.x*t[0][0]+i.y*t[0][1],y:i.x*t[1][0]+i.y*t[1][1]})},c=function(e,t){this.$element=e,this.open(t)};c.prototype.defaults={classPrefix:"image-select-",parent:null,min:40,points:[]},c.prototype.init=function(t){this._ignoreHolderClickUntil=null,this.distanceFromLineForAddPointDetection=10,this.options=e.extend({},this.defaults,t),this.matrix=function(t){var i,n=e(t).css("transform");try{if(i=n.match(a))return[[s(i[1]),s(i[2])],[s(i[3]),s(i[4])]];if(i=n.match(r))return[[s(i[1]),s(i[5])],[s(i[2]),s(i[6])]];if("none"===n)return[[1,0],[0,1]]}catch(e){}return window.console&&window.console.log&&window.console.log("ImageEditor: Could not parse matrix string",n),[[1,0],[0,1]]}(this.$element),this.canvas=this.options.canvas||this.canvas||{top:0,left:0,width:this.$element.width(),height:this.$element.height()},this.readSelectionFromOptions()},c.prototype.readSelectionFromOptions=function(){-1===e.inArray(this.options.shape,i)?this.shape=i[0]:this.shape=this.options.shape;var t=this.readPoints(this.options.points);t&&t.length?this.points=t:this.points=this.points||[{w:this.canvas.left+Math.round(.5*this.canvas.width),h:this.canvas.top+Math.round(1*this.canvas.height/3)},{w:this.canvas.left+Math.round(2*this.canvas.width/3),h:this.canvas.top+Math.round(2*this.canvas.height/3)},{w:this.canvas.left+Math.round(1*this.canvas.width/3),h:this.canvas.top+Math.round(2*this.canvas.height/3)}]},c.prototype.readPoints=function(e){var t,i,o,a=[];if(e&&e.length)for(t=0;t<e.length;t++)i=e[t],n(i.w)&&n(i.h)&&(o={w:parseInt(i.w,10),h:parseInt(i.h,10)},a.push(o));return a},c.prototype.cssClass=function(e){return this.options.classPrefix+e},c.prototype.createDiv=function(t){return e("<div>").addClass(this.cssClass(t))},c.prototype.buildUI=function(){var i=this,n=this.createDiv("polygon-helper").css({});this.$holder=this.createDiv("holder").css({width:this.$element.width(),height:this.$element.height()}).addClass(this.cssClass(this.shape)),this.$holder.append(n),this.$drawCanvas=e("<canvas/>").css({width:this.canvas.width+"px",height:this.canvas.height+"px",top:this.canvas.top,left:this.canvas.left}),this.$drawCanvas[0].height=this.canvas.height,this.$drawCanvas[0].width=this.canvas.width,this.$holder.append(this.$drawCanvas),this.polygonTool=this.$drawCanvas.polygon().data("polygon"),this.movePolygonIntoCanvas(),this.updateUI(!1),this.options.parent?e(this.options.parent).append(this.$holder):this.$element.after(this.$holder),this.handleDragging(this.$drawCanvas,(function(e,t){i.updatePoints(e,t)})),this.$holder.on("click",(function(e){i._ignoreHolderClickUntil&&(new Date).getTime()<=i._ignoreHolderClickUntil&&(e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),i._ignoreHolderClickUntil=null)})),this.repositionUI(),this.options.applyTransformations&&this.applyTransformationsToUI(),this.$element.trigger(t.OPEN,this),e(window).on(t.RESIZE,this,this.repositionUI)},c.prototype.repositionUI=function(e){var t=e?e.data:this;t.$holder.position({of:t.$element,at:"center",my:"center"})},c.prototype.applyTransformationsToUI=function(e){var t=function(e){try{var t=e.match(/matrix\(([^)]+)\)/);if(t){for(var i=t[1].split(/, ?/),n=[],o=0;o<i.length;o++){var a=i[o];if(a.indexOf("e")>-1||a.indexOf("E")>-1){var r=parseFloat(a);if(isNaN(r))throw new Error("Not a number: '"+a+"'");n.push(""+r.toFixed(19))}else n.push(a)}return"matrix("+n.join(", ")+")"}}catch(e){}return e}(this.$element.css("transform"));if(this.$holder.css({transform:t,"-webkit-transform":t}),0===l(this.matrix,{x:1,y:0}).x){var i=(this.$element.width()-this.$element.height())/2;this.$holder.css({"margin-top":+i,"margin-right":-i,"margin-bottom":+i,"margin-left":-i})}},c.prototype.ensureSelectionIsInReasonableBounds=function(e){e.width=Math.max(this.min.width,e.width),e.width=Math.min(this.canvas.width,e.width),e.height=Math.max(this.min.height,e.height),e.height=Math.min(this.canvas.height,e.height),e.top=Math.max(this.canvas.top,e.top),e.top=Math.min(this.canvas.top+this.canvas.height-e.height,e.top),e.left=Math.max(this.canvas.left,e.left),e.left=Math.min(this.canvas.left+this.canvas.width-e.width,e.left)},c.prototype.updateUI=function(i){if(this.$holder){var n,o,a=this,r=i,s=this.$holder.find("."+this.cssClass("polygon-helper")),l=s.css("border-top-width");o=e("<div/>",{width:l}).width();var c={strokeStyle:s.css("border-top-color"),fillStyle:s.css("background-color"),lineWidth:o};if((null==o||o<1)&&(i=!1,setTimeout((function(){a.updateUI(r)}),10)),this.polygonTool.clearCanvas(),this.polygonTool.paintPolygonWithPoints(this.$drawCanvas,this.points,c),this.points.length!==this.getAllHandles().length&&(this.removeAllHandles(),this.points&&this.points.length))for(n=0;n<this.points.length;n++)this.createHandle(n);!1!==i&&this.$element.trigger(t.UPDATE,this.points)}},c.prototype.createHandle=function(e){var t,i=this,n=this.points[e];t=this.createDiv("handle").css({top:n.h,left:n.w}),this.$holder.append(t),this.handleDragging(t,(function(t,n){i.updatePoint(t,n,e)}))},c.prototype.removeAllHandles=function(){this.getAllHandles().remove()},c.prototype.getAllHandles=function(){return this.$holder.find("."+this.cssClass("handle"))},c.prototype.isHandleOrHasHandleParent=function(t){var i=this.cssClass("handle"),n=e(t);return n.hasClass(i)||n.parents("."+i).length>0},c.prototype.handleDragging=function(i,n){var a=this;i.on(t.MOUSEDOWN,(function(r){if(1===r.which||0===r.which){r.preventDefault(),r.stopPropagation();var s={},c=o(r),d=a.points.slice(),u=a.isHandleOrHasHandleParent(r.target),h=a.isPageCoordsOnPolygon(c);(u||h)&&e("body").on(t.MOUSEMOVE,(function(e){e.preventDefault();var t=o(e);s.x=t.x-c.x,s.y=t.y-c.y,s.timeout||(s.timeout=setTimeout((function(){delete s.timeout,s.moved=!0,a.handleDrag(l(a.matrix,s),d,n)}),50))})),e("body").one(t.MOUSEUP,(function(i){var n;e(this).off(t.MOUSEMOVE).off(t.MOUSEUP),void 0===i.pageX&&(i.pageX=c.x,i.pageY=c.y),a.showAllHandles(),s.moved||(u?a.$element.trigger(t.SECOND_CLICK,a):(n=a.getClosestLineSegmentResult(a.pageToRelative(i.pageX,i.pageY)))&&n.distance<a.distanceFromLineForAddPointDetection?(a.addPoint(n.projection,n.line),a.updateUI()):h?a.$element.trigger(t.SECOND_CLICK,a):a.$element.trigger(e.Event(t.DESELECT_CLICK,{originalEvent:i,pageX:i.pageX,pageY:i.pageY}))),a._ignoreHolderClickUntil=(new Date).getTime()+20})),a.hideOtherHandles(i)}}))},c.prototype.hideOtherHandles=function(e){this.$holder.find("."+this.cssClass("handle")).not(e).addClass(this.cssClass("handle-other")),e.addClass(this.cssClass("handle-selected"))},c.prototype.showAllHandles=function(){this.$holder.find("."+this.cssClass("handle")).removeClass(this.cssClass("handle-other")).removeClass(this.cssClass("handle-selected"))},c.prototype.handleDrag=function(e,t,i){i.call(this,e,t),this.updateUI()},c.prototype.pageToRelative=function(e,t){var i=this.$holder.offset();return{w:e-i.left,h:t-i.top}},c.prototype.vectorToPoint=function(e){return{w:e[0],h:e[1]}},c.prototype.addPoint=function(e,t){var i,n,o,a,r=null,s=this.polygonTool.pointsToVectors(this.points),l=this.vectorToPoint(e);if(this.points.length<2)this.points.push(l);else if(t){for(i=0;i<s.length;i++)if(n=s[i],this.polygonTool.vectorsEqual(n,t[0])){if(o=i===s.length-1?0:i+1,this.polygonTool.vectorsEqual(s[o],t[1])){r=o;break}if(a=0===i?s.length-1:i-1,this.polygonTool.vectorsEqual(s[a],t[1])){r=a;break}}null==r?this.points.push(l):this.points.splice(o,0,l)}else this.points.push(l)},c.prototype.updatePoints=function(e,t){var i;for(i=0;i<t.length;i++)this.updatePoint(e,t,i)},c.prototype.updatePoint=function(t,i,n){var o=this.$drawCanvas.position(),a=i[n];return a&&((a={w:Math.round(a.w+t.x),h:Math.round(a.h+t.y)}).h=Math.max(o.top,a.h),a.h=Math.min(o.top+this.$drawCanvas.height(),a.h),a.w=Math.max(o.left,a.w),a.w=Math.min(o.left+this.$drawCanvas.width(),a.w),this.points[n]=a,e(this.getAllHandles()[n]).css({top:a.h,left:a.w})),a},c.prototype.destroyUI=function(){e(window).off(t.RESIZE),void 0!==this.$holder&&(this.$holder.off(t.CLICK),this.$holder.remove()),delete this.$holder,delete this.$drawCanvas,delete this.$selection},c.prototype.open=function(e){e=e||{},this.opened&&this.destroyUI(),this.init(e),this.buildUI(),this.opened=!0},c.prototype.close=function(){this.opened&&(this.destroyUI(),this.opened=!1,this.$element.trigger(t.CLOSE,this))},c.prototype.destroy=function(){this.close(),this.$element.data("image-select",null)},c.prototype.getPoints=function(){return this.points.slice()},c.prototype.getClosestLineSegmentResult=function(e){var t=this.polygonTool.pointsToVectors(e),i=this.polygonTool.filterLineSegmentsNextToPointAndSortByDistance(t,this.polygonTool.pointsToLineSegmentsWithVectors(this.points));return i.length?i[0]:null},c.prototype.isPageCoordsOnPolygon=function(e){var t;return void 0!==e.x&&(e={w:e.x,h:e.y}),t=this.pageToRelative(e.w,e.h),this.polygonTool.isPointInsideOrOnEdgeOfPolygon([t.w,t.h],this.polygonTool.pointsToVectors(this.points))},c.prototype.getBoundingBox=function(){return this.polygonTool.getBoundingBox(this.points)},c.prototype.movePolygonIntoCanvas=function(){var t,i,n,o,a,r,s=this.polygonTool.getBoundingBox(this.points),l=(n=e.extend({},s),o=this.canvas,n.width=Math.min(o.width,n.width),n.height=Math.min(o.height,n.height),void 0!==a&&(n.width=Math.max(a.width,n.width),n.height=Math.max(a.height,n.height)),void 0!==r&&0!==r&&(n.height>Math.round(n.width*r)?n.height=Math.floor(n.width*r):n.width=Math.floor(n.height/r)),n.left=Math.max(o.left,n.left),n.left=Math.min(o.left+o.width-n.width,n.left),n.top=Math.max(o.top,n.top),n.top=Math.min(o.top+o.height-n.height,n.top),n),c=l.left-s.left,d=l.top-s.top,u=l.width/s.width,h=l.height/s.height;for(t=0;t<this.points.length;t++)(i=this.points[t]).w=i.w+c,i.h=i.h+d,i.w=l.left+(i.w-l.left)*u,i.h=l.top+(i.h-l.top)*h};return function(t){return t=t||{},this.each((function(){var i=e(this),n=i.data("image-select");t.call?n&&n[t.call].call(n,t):n?n.open(t):(n=new c(i,t),i.data("image-select",n))})),t&&t.instance?this.eq(0).data("image-select"):this}}(jQuery),this.CUI=this.CUI||{},this.CUI.imageeditor=this.CUI.imageeditor||{},this.CUI.imageeditor.Templates=this.CUI.imageeditor.Templates||{},this.CUI.imageeditor.Templates["crop-popover"]=Handlebars.template({1:function(e,t,i,n,o){var a=e.lambda,r=e.escapeExpression;return'    <button class="coral-Button popover-button" name="aspectRatio" value="'+r(a(null!=t?t.ratio:t,t))+'">'+r(a(null!=t?t.name:t,t))+"</button><br/>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,i,n,o){var a,r=null!=t?t:e.nullContext||{};return'<div class="coral-Popover-content imageeditor-popover-content">\n  <button class="coral-Button popover-button" name="aspectRatio" value="removeCrop">'+e.escapeExpression((i.i18n||t&&t.i18n||i.helperMissing).call(r,"removecrop",{name:"i18n",hash:{},data:o}))+"</button><br/>\n"+(null!=(a=i.each.call(r,null!=t?t.aspectRatios:t,{name:"each",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o}))?a:"")+"</div>\n"},useData:!0}),this.CUI.imageeditor.Templates.imageeditor=Handlebars.template({compiler:[7,">= 4.0.0"],main:function(e,t,i,n,o){return'<div class="imageeditor-container">\n  <div class="imageeditor-toolbars icongroup"></div>\n  <div class="imageeditor-controls">\n    <div class="imageeditor-imagemap-polygon-helper"></div>\n    <div class="imageeditor-controls-map-areas"></div>\n  </div>\n</div>\n'},useData:!0}),this.CUI.imageeditor.Templates["map-popover"]=Handlebars.template({1:function(e,t,i,n,o){return'    <input class="coral-Textfield" name="href" type="url" placeholder="'+e.escapeExpression((i.i18n||t&&t.i18n||i.helperMissing).call(null!=t?t:e.nullContext||{},"path",{name:"i18n",hash:{},data:o}))+'" />\n'},3:function(e,t,i,n,o){var a,r=null!=t?t:e.nullContext||{},s=i.helperMissing,l=e.escapeExpression;return'    <span class="coral-PathBrowser pathbrowser" data-placeholder="'+l((i.i18n||t&&t.i18n||s).call(r,"path",{name:"i18n",hash:{},data:o}))+'" data-root-path="'+l(e.lambda(null!=(a=null!=t?t.pathbrowser:t)?a.rootPath:a,t))+'">\n      <span class="coral-InputGroup">\n        <input class="coral-InputGroup-input js-coral-pathbrowser-input coral-Textfield" type="text" name="href">\n        <span class="coral-InputGroup-button">\n          <button class="coral-Button coral-Button--secondary coral-Button--square js-coral-pathbrowser-button" type="button" title="'+l((i.i18n||t&&t.i18n||s).call(r,"path_picker",{name:"i18n",hash:{},data:o}))+'">\n            <i class="coral-Icon coral-Icon--sizeS coral-Icon--folderSearch"></i>\n          </button>\n        </span>\n      </span>\n    </span>\n'},5:function(e,t,i,n,o){var a,r=e.escapeExpression;return'    <span class="coral-DecoratedTextfield pathbrowser" data-placeholder="'+r((i.i18n||t&&t.i18n||i.helperMissing).call(null!=t?t:e.nullContext||{},"path",{name:"i18n",hash:{},data:o}))+'" data-root-path="'+r(e.lambda(null!=(a=null!=t?t.pathbrowser:t)?a.rootPath:a,t))+'">\n      <input class="js-coral-pathbrowser-input coral-Textfield" type="text" name="href">\n    </span>\n'},compiler:[7,">= 4.0.0"],main:function(e,t,i,n,o){var a,r=null!=t?t:e.nullContext||{},s=i.helperMissing,l=e.escapeExpression;return'<div class="imageeditor-map-toolbar toolbar">\n'+(null!=(a=i.if.call(r,null!=t?t.noPathbrowser:t,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o}))?a:"")+(null!=(a=i.if.call(r,null!=t?t.pathbrowserPicker:t,{name:"if",hash:{},fn:e.program(3,o,0),inverse:e.noop,data:o}))?a:"")+(null!=(a=i.if.call(r,null!=t?t.pathbrowserAutocomplete:t,{name:"if",hash:{},fn:e.program(5,o,0),inverse:e.noop,data:o}))?a:"")+'  <input class="coral-Textfield" name="alt" type="text" placeholder="'+l((i.i18n||t&&t.i18n||s).call(r,"alt_text",{name:"i18n",hash:{},data:o}))+'" />\n  <span class="coral-Select" data-init="select">\n    <button class="coral-Select-button coral-MinimalButton" type="button">\n      <span class="coral-Select-button-text"></span>\n    </button>\n    <select class="coral-Select-select" name="target">\n      <option value="">'+l((i.i18n||t&&t.i18n||s).call(r,"target",{name:"i18n",hash:{},data:o}))+'</option>\n      <option value="_self">'+l((i.i18n||t&&t.i18n||s).call(r,"same_tab",{name:"i18n",hash:{},data:o}))+'</option>\n      <option value="_blank">'+l((i.i18n||t&&t.i18n||s).call(r,"new_tab",{name:"i18n",hash:{},data:o}))+'</option>\n      <option value="_parent">'+l((i.i18n||t&&t.i18n||s).call(r,"parent_frame",{name:"i18n",hash:{},data:o}))+'</option>\n      <option value="_top">'+l((i.i18n||t&&t.i18n||s).call(r,"top_frame",{name:"i18n",hash:{},data:o}))+'</option>\n    </select>\n  </span>\n  <span class="actions">\n    <button class="coral-Button coral-Button--square coral-Button--warning imageeditor-map-delete" title="'+l((i.i18n||t&&t.i18n||s).call(r,"delete",{name:"i18n",hash:{},data:o}))+'">\n      <i class="coral-Icon coral-Icon--delete"></i>\n    </button>\n    <button class="coral-Button coral-Button--square imageeditor-map-unlaunch" title="'+l((i.i18n||t&&t.i18n||s).call(r,"unlaunch",{name:"i18n",hash:{},data:o}))+'">\n      <i class="coral-Icon coral-Icon--close"></i>\n    </button>\n    <button class="coral-Button coral-Button--square coral-Button--primary imageeditor-map-confirm" title="'+l((i.i18n||t&&t.i18n||s).call(r,"confirm",{name:"i18n",hash:{},data:o}))+'">\n      <i class="coral-Icon coral-Icon--check"></i>\n    </button>\n  </span>\n</div>\n'},useData:!0}),this.CUI.imageeditor.Templates["toolbar-item"]=Handlebars.template({compiler:[7,">= 4.0.0"],main:function(e,t,i,n,o){var a,r=null!=t?t:e.nullContext||{},s=i.helperMissing,l="function",c=e.escapeExpression;return'<button data-action="'+c(typeof(a=null!=(a=i.action||(null!=t?t.action:t))?a:s)===l?a.call(r,{name:"action",hash:{},data:o}):a)+'" title="'+c(typeof(a=null!=(a=i.title||(null!=t?t.title:t))?a:s)===l?a.call(r,{name:"title",hash:{},data:o}):a)+'" aria-label="'+c(typeof(a=null!=(a=i.title||(null!=t?t.title:t))?a:s)===l?a.call(r,{name:"title",hash:{},data:o}):a)+'"\n        class="coral-Button coral-Button--quiet coral-Button--square '+c(typeof(a=null!=(a=i.addClasses||(null!=t?t.addClasses:t))?a:s)===l?a.call(r,{name:"addClasses",hash:{},data:o}):a)+'" aria-disabled="'+c(typeof(a=null!=(a=i.isDisabled||(null!=t?t.isDisabled:t))?a:s)===l?a.call(r,{name:"isDisabled",hash:{},data:o}):a)+'">\n  <i class="coral-Icon coral-Icon--'+c(typeof(a=null!=(a=i.icon||(null!=t?t.icon:t))?a:s)===l?a.call(r,{name:"icon",hash:{},data:o}):a)+'"></i>\n</button>\n'},useData:!0}),this.CUI.imageeditor.Templates.toolbar=Handlebars.template({1:function(e,t,i,n,o){var a;return null!=(a=i.if.call(null!=t?t:e.nullContext||{},t,{name:"if",hash:{},fn:e.program(2,o,0),inverse:e.noop,data:o}))?a:""},2:function(e,t,i,n,o){var a,r,s=null!=t?t:e.nullContext||{};return'      <div class="imageeditor-toolbar-'+e.escapeExpression("function"==typeof(r=null!=(r=i.key||o&&o.key)?r:i.helperMissing)?r.call(s,{name:"key",hash:{},data:o}):r)+'-hand-side">\n        '+(null!=(a=i.each.call(s,t,{name:"each",hash:{},fn:e.program(3,o,0),inverse:e.noop,data:o}))?a:"")+"\n      </div>\n"},3:function(e,t,i,n,o){var a;return null!=(a=e.lambda(t,t))?a:""},compiler:[7,">= 4.0.0"],main:function(e,t,i,n,o){var a,r,s=null!=t?t:e.nullContext||{};return'<div data-id="'+e.escapeExpression("function"==typeof(r=null!=(r=i.ref||(null!=t?t.ref:t))?r:i.helperMissing)?r.call(s,{name:"ref",hash:{},data:o}):r)+'" class="imageeditor-toolbar">\n'+(null!=(a=i.each.call(s,null!=t?t.toolbarItems:t,{name:"each",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o}))?a:"")+"</div>\n"},useData:!0}),this.CUI.imageeditor.Templates.toolbars=Handlebars.template({1:function(e,t,i,n,o){var a;return"    "+(null!=(a=e.lambda(t,t))?a:"")+"\n"},compiler:[7,">= 4.0.0"],main:function(e,t,i,n,o){var a,r,s=null!=t?t:e.nullContext||{},l=i.helperMissing;return'<div data-type="'+e.escapeExpression("function"==typeof(r=null!=(r=i.type||(null!=t?t.type:t))?r:l)?r.call(s,{name:"type",hash:{},data:o}):r)+'">\n  '+(null!=(a="function"==typeof(r=null!=(r=i.toolbar||(null!=t?t.toolbar:t))?r:l)?r.call(s,{name:"toolbar",hash:{},data:o}):r)?a:"")+"\n"+(null!=(a=i.each.call(s,null!=t?t.replacementToolbars:t,{name:"each",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o}))?a:"")+"</div>\n"},useData:!0}),this.CUI.imageeditor.Templates["zoomslider-popover"]=Handlebars.template({compiler:[7,">= 4.0.0"],main:function(e,t,i,n,o){var a,r=null!=t?t:e.nullContext||{},s=i.helperMissing,l=e.escapeExpression;return'<div class="coral-Popover-content imageeditor-popover-content">\n  <div class="coral-Slider popover-slider" data-init="slider">\n    <input type="range" value="100" min="'+l("function"==typeof(a=null!=(a=i.zoomMin||(null!=t?t.zoomMin:t))?a:s)?a.call(r,{name:"zoomMin",hash:{},data:o}):a)+'" max="'+l("function"==typeof(a=null!=(a=i.zoomMax||(null!=t?t.zoomMax:t))?a:s)?a.call(r,{name:"zoomMax",hash:{},data:o}):a)+'" step="1">\n  </div>\n</div>\n'},useData:!0}),function(e,t,i,n){"use strict";var o=function(t){return 0===e(t.target).closest(".imageeditor-container").length};CUI.ImageEditor=new Class({toString:"ImageEditor",extend:CUI.Widget,CSS_LAYOUT_CONSTRAINTS:{"min-height":"minHeight","min-width":"minWidth","max-height":"maxHeight","max-width":"maxWidth"},ZOOM_MIN:.1,ZOOM_MAX:3,registeredActions:null,registeredPlugins:null,defaults:{},elementContext:{},$ui:{},construct:function(e){this.options=e||{},this.i18n=new CUI.imageeditor.I18nProvider},configurePluginsAndActions:function(e){var t=e.plugins||{};for(var i in this.registeredPlugins)this.registeredPlugins.hasOwnProperty(i)&&this.registeredPlugins[i].notifyPluginConfig(t[i]);for(var n in this.registeredActions)this.registeredActions.hasOwnProperty(n)&&this.registeredActions[n].notifyPluginConfig(t[n])},bindUIListener:function(t,i,n){i=n?e.proxy(i,n):i,this.$ui.on(t,i)},isAnimated:function(){return!!this._isAnimated},toggleAnimation:function(e){this._isAnimated=e,this.$element&&(this.$element.position(),this.$element.toggleClass("imageeditor-editable-animate",e)),this.$ui&&(this.$ui.position(),this.$ui.toggleClass("imageeditor-container-animate",e),this.$ui.copy&&(this.$ui.copy.position(),this.$ui.copy.toggleClass("imageeditor-editable-copy-animate",e)))},withoutAnimation:function(e){return this.isAnimated()?(this.toggleAnimation(!1),t=e.call(this),this.toggleAnimation(!0),t):e.call(this);var t},start:function(t){t=t||{},this.setupTemplates(t.templates),this.setupElementContext(),this._zoomFactor=t.zoomFactor,this._zoomFactor||(this._zoomFactor=this.options.zoomFactor),this._zoomFactor||(this._zoomFactor=1),this.createUI(),this.preferCopy()?(this.options.image=e(this.options.image),this.$ui.copy=this.options.image.addClass("imageeditor-editable-copy")):this.$ui.copy=this.$element.clone().addClass("imageeditor-editable-copy"),this.$ui.copy.css("margin",0),this.$ui.prepend(this.$ui.copy),this.registeredActions=CUI.imageeditor.actions.ActionRegistry.createRegisteredActions(this),this.registeredPlugins=CUI.imageeditor.plugins.PluginRegistry.createRegisteredPlugins(this),this.configurePluginsAndActions(t),this.transformResult=this.createTransformResult(t.result),this.installUI(),this.createToolbar(t),"fullscreen"===this.options.mode?this.switchToFullscreen():this.switchToInline(),this.setupEventHandling(),this.$element.trigger("editing-start")},preferCopy:function(){return this.options.image&&e(this.options.image).length?this.preferCopy=function(){return!0}:this.preferCopy=function(){return!1},this.preferCopy()},cancel:function(){this.destroyEventHandling(),this.destroyUI(),this.$element.trigger("editing-cancelled")},finish:function(){this.destroyEventHandling(),this.destroyUI(),this.$element.trigger("editing-finished",{result:this.transformResult.toJSON()})},getImageNaturalSize:function(e){var t=e,i={},n=new Image;return n.src=t.attr("src"),i.w=n.width,i.h=n.height,i},createToolbar:function(t){var i,n,o=this.createToolbarBuilder();for(i in t=e.extend({},{$editable:this.$ui},t),this.registeredPlugins)this.registeredPlugins.hasOwnProperty(i)&&this.registeredPlugins[i].initializeUI(o,t);this.toolbars={},this.$ui.toolbars={},(n=o.createToolbar(t,"inline"))&&(this.toolbars.inline=n,this.$ui.toolbars.inline=this.toolbars.inline.getToolbars()),(n=o.createToolbar(t,"fullscreen"))&&(this.toolbars.fullscreen=n,this.$ui.toolbars.fullscreen=this.toolbars.fullscreen.getToolbars())},getToolbarHeight:function(){var t=0;return this.$ui.find(".imageeditor-toolbar").each((function(i,n){var o=e(n).height();o>t&&(t=o)})),t},createToolbarBuilder:function(){return new CUI.imageeditor.ui.ToolbarBuilder({templates:this.templates})},createTransformResult:function(e){var t,i=new CUI.imageeditor.TransformResult,n=this.registeredPlugins;for(t in n)n.hasOwnProperty(t)&&n[t].registerTransformFields(i);return e&&i.setTransformValues(e,!1),i},setupEventHandling:function(){var i=this;this.$element.parents("body").add(document.body).on("tap.imageeditor-ooa click.imageeditor-ooa",(function(e){o(e)&&!CUI.imageeditor.UIUtils.isHavingModalParent(e.target)&&i.finish()})),e(t).on("resize.imageeditor orientationchange.imageeditor",(function(){i.withoutAnimation((function(){i.updatePreview()}))})),this.bindUIListener("requestclose",this.finish,this)},destroyEventHandling:function(){this.$element.parents("body").add(document.body).off(".imageeditor-ooa"),e(t).off(".imageeditor")},submit:function(){e.ajax({type:"POST",url:"action",data:JSON.stringify(this.transformResult.toJSON()),success:function(){},error:function(){}})},createUI:function(){var t=this.templates.get("imageeditor");this.$ui=e(t({})),"dark"===this.options.theme?(this.$ui.attr("data-theme","dark"),this.$ui.addClass("coral--dark")):(this.$ui.removeAttr("data-theme"),this.$ui.removeClass("coral--dark"))},getMode:function(){return"fullscreen"===this.$ui.attr("data-mode")?"fullscreen":"inline"},setMode:function(e){"fullscreen"===e?this.switchToFullscreen():"inline"===e&&this.switchToInline()},switchToFullscreen:function(e){if(!this.toolbars.fullscreen&&!e)return this.switchToInline(!0);this.$ui.attr("data-mode","fullscreen"),this.togglePinchZooming(!0),this.withoutAnimation((function(){this.updatePreview(),this.scaleToFitForFullscreen()}))},switchToInline:function(e){if(!this.toolbars.inline&&!e)return this.switchToFullscreen(!0);this.$ui.attr("data-mode","inline"),this.togglePinchZooming(!1),this.withoutAnimation((function(){this.$element.css(this.createTranslationUtil().getZoomedDimensions()),this.updatePreview()}))},installStylesheet:function(){var e,t,n,o,a,r,s,l,c=/\.imageeditor-editable(-animate)?/;if(!(e=this.$element.parents("html").get(0).parentNode).getElementById("imageeditor-editable-stylesheet")){for((t=e.createElement("style")).id="imageeditor-editable-stylesheet",e.getElementsByTagName("head")[0].appendChild(t),o=0;o<e.styleSheets.length;o++)if(e.styleSheets[o].ownerNode===t){n=e.styleSheets[o];break}if(null!==document.styleSheets&&null!==n)for(o=0;o<document.styleSheets.length;o++){l=document.styleSheets[o];try{r=l.cssRules}catch(e){continue}if(null!==r)for(a=0;a<r.length;a++)(s=r[a]).type===i.STYLE_RULE&&c.test(s.selectorText)&&n.insertRule(s.cssText,n.cssRules.length)}}},installUI:function(){var t;this.options.parent?e(this.options.parent).append(this.$ui):this.$element.after(this.$ui),this.$clipParent=CUI.imageeditor.UIUtils.getClippingParent(this.$ui),this.uiClipped=void 0!==this.$clipParent,this.$element.addClass("imageeditor-editable"),t=this.preferCopy()?{width:this.$ui.copy.width(),height:this.$ui.copy.height()}:{width:this.$element.width(),height:this.$element.height()},this.options.overrides&&this.options.overrides.naturalHeight&&this.options.overrides.naturalWidth&&(t={height:this.options.overrides.naturalHeight,width:this.options.overrides.naturalWidth}),this._naturalDimensions=t,this.$ui.copy.data("imageeditor-dimensions",t),this._layoutConstraints={"max-width":this.$ui.copy.css("max-width"),"max-height":this.$ui.copy.css("max-height"),"min-width":this.$ui.copy.css("min-width"),"min-height":this.$ui.copy.css("min-height")},this.$element.css(this.getBaseCssPropertiesForElement()),this.$ui.copy.css("margin",0),this.$ui.copy.css(this.getBaseCssPropertiesForCopy()),this.$ui.css({height:t.height+"px",width:t.width+"px"}),null!==this.elementContext.iframe&&this.installStylesheet(),this.toggleAnimation(!0)},positionUI:function(t){var i=e.proxy((function(i,n){if(this.elementContext.iframe){var o=e(this.elementContext.iframe),a=e(this.elementContext.iframe).offset();i.left+=a.left+parseInt(o.css("border-left-width"),10),i.top+=a.top+parseInt(o.css("border-top-width"),10)}i.top=Math.max(i.top,this.$ui.toolbars.inline.height()),e.isFunction(t)?t.call(this,i):this.$ui.css(i)}),this);this.$ui.position({using:i,of:this.$element,my:"left top",at:"left top",collision:"none"})},togglePinchZooming:function(e){var t=this;CUI.imageeditor.UIUtils.removePinchZooming(t.$ui,".imageeditorzoom"),e&&CUI.imageeditor.UIUtils.installPinchZooming(t.$ui,".imageeditorzoom",(function(){return t.getZoomFactor()}),(function(e,i){"change"===i?t.zoom(e,!1):t.zoom(e,!0)}))},getBaseCssPropertiesForCopy:function(){var e=this.createTranslationUtil().getZoomedDimensionsBeforeRotation();return{"max-width":"9999px","max-height":"9999px","min-width":"0px","min-height":"0px",height:e.height+"px",width:e.width+"px",clip:"rect(0px, "+e.width+"px, "+e.height+"px, 0px)","transform-origin":"50% 50%",transform:"scale(1)"}},getBaseCssPropertiesForElement:function(){var e=this.createTranslationUtil().getZoomedDimensionsBeforeRotation();return{width:e.width,height:e.height}},destroyUI:function(){var e=this.$ui.copy.data("imageeditor-dimensions");this.$ui.remove(),this.toggleAnimation(!1),this.$element.removeClass("imageeditor-editable"),this.$element.css(e)},setupElementContext:function(){this.elementContext=this.elementContext||{},this.elementContext.iframe=CUI.imageeditor.UIUtils.elementInIframe(this.$element),null===this.elementContext.iframe?(this.elementContext.win=t,this.elementContext.doc=document):(this.elementContext.win=this.elementContext.iframe.contentWindow,this.elementContext.doc=this.elementContext.iframe.contentWindow.document)},getCustomAction:function(e){var t,i,n=this.registeredActions[e];if(n)return n;for(t in this.registeredActions)if((i=this.registeredActions[t]).isAction(e))return i;return null},relayAction:function(e,t){CUI.imageeditor.Utils.defer((function(){this.execAction(e,t)}),10,this)},execAction:function(t,i){var n,o,a=this.getCustomAction(t),r=this,s=this.getRotation(),l=this.getImageDisplayDimensions(),c=this.getToolbarHeight(),d=this.getViewportCrop(),u=this.getCrop(),h=this.getFlip();return delete u.right,delete u.bottom,o={action:t,value:i,element:this.$ui.copy,editor:this,ui:this.$ui,result:this.transformResult,mode:this.getMode(),dimensions:l,viewportCrop:d,toolbarHeight:c,canvas:u,rotation:s,flip:h,translate:function(t){return function(t,i,n,o,a){var r;return a=a||e.extend({},o),t%=360,t+=360,t%=360,o.hasOwnProperty("top")&&o.hasOwnProperty("left")&&(t%180==0?(r=0!==t,i.horizontal^r?a.left=n.width-o.width-o.left:a.left=o.left,i.vertical^r?a.top=n.height-o.height-o.top:a.top=o.top):(r=90!==t,i.vertical^r?a.left=o.top:a.left=n.height-o.height-o.top,i.horizontal^r?a.top=n.width-o.width-o.left:a.top=o.left)),t%180!=0?(a.width=o.height,a.height=o.width):(a.width=o.width,a.height=o.height),a}(s,h,l,t)},createTranslationUtil:function(){return r.createTranslationUtil()}},a&&(n=a.execute(o)),n&&this.updatePreview(),n},getViewportCrop:function(){var i,n,o,a,r,s,l=this.createTranslationUtil(),c={top:0,left:0,width:this.$ui.width(),height:this.$ui.height()},d=e(t),u=l.rotateDimsIfNecessary(l.getZoomedCropBeforeRotation()),h="fullscreen"===this.getMode()?this.getToolbarHeight():0;return"inline"===this.getMode()?(a=l.translate(l.getZoomedCropBeforeRotation()),o={left:(r=this.$ui.copy.offset()).left+a.left,top:r.top+a.top,width:a.width,height:a.height},n={top:d.scrollTop(),left:d.scrollLeft(),width:d.width(),height:d.height()},s={left:Math.max(n.left,o.left),top:Math.max(n.top,o.top),right:Math.min(n.left+n.width,o.left+o.width),bottom:Math.min(n.top+n.height,o.top+o.height)},s={left:Math.max(0,s.left-o.left),top:Math.max(0,s.top-o.top),width:Math.max(0,s.right-s.left),height:Math.max(0,s.bottom-s.top)}):((s={width:Math.min(u.width,c.width),height:Math.min(u.height,c.height-h)}).width<u.width?s.left=(u.width-s.width)/2:s.left=0,s.height<u.height?(i=Math.max(0,Math.min(h,u.height-s.height)),s.top=i+(u.height-s.height-i)/2):s.top=0),s},getImageDisplayDimensions:function(e){return{width:this.$ui.copy.width(),height:this.$ui.copy.height()}},createTranslationUtil:function(){var t=e.extend({},this.options);return t.flip=this.getFlip(),t.rotation=this.getRotation(),t.zoomFactor="inline"===this.getMode()?1:this.getZoomFactor(),t.naturalWidth=this._naturalDimensions.width,t.naturalHeight=this._naturalDimensions.height,t.cropOnOriginal=this.getCrop(),this.availableButNotFalse(t,"ignoreCssLayoutConstraints")||this.copyIfAvailable(t,this._layoutConstraints,this.CSS_LAYOUT_CONSTRAINTS),this.copyIfAvailable(t,this.options,this.CSS_LAYOUT_CONSTRAINTS),this.copyIfAvailable(t,this.options,{width:"fixedWidth",height:"fixedHeight"}),new CUI.imageeditor.TranslationUtil(t)},copyIfAvailable:function(t,i,n){var o,a,r=null;for(o in e.isPlainObject(n)||(n={namesMapping:n}),n)n.hasOwnProperty(o)&&((a=n[o])||(a=o),(r=i[o])||(r=i[o.toLowerCase()]),r||(r=i[a]),r||(r=i[a.toLowerCase()]),r&&(t[a]=r))},availableButNotFalse:function(e,t){var i=e[t];return!!e&&(!!e.hasOwnProperty(t)&&("string"!=typeof(i=e[t])||!(i.toLowerCase()in["no","false"])))},getCssPropertiesForCopy:function(){var e,t,i,n=this.getBaseCssPropertiesForCopy(),o=this.createTranslationUtil();for(t in this.registeredActions)if(this.registeredActions.hasOwnProperty(t)){if(!(e=this.registeredActions[t].toCss(this.transformResult,this.$ui.copy,o)))continue;for(i in e)e.hasOwnProperty(i)&&("transform"===i?n[i]+=" "+e[i]:n[i]=e[i])}return n},getCrop:function(){var e;if(this.registeredActions.crop&&(e=this.registeredActions.crop.getCurrent(this.transformResult)),!e){var t=this._naturalDimensions;e={top:0,left:0,width:t.width,height:t.height}}return e},getRotation:function(){var e;return this.registeredActions.rotate&&(e=this.registeredActions.rotate.getCurrent(this.transformResult)),isNaN(e)&&(e=0),e},getFlip:function(){var e;return this.registeredActions.flip&&(e=this.registeredActions.flip.getCurrent(this.transformResult)),e||(e={horizontal:!1,vertical:!1}),e},getZoomFactor:function(){return this._zoomFactor},getZoomLimits:function(){return[this.ZOOM_MIN,this.ZOOM_MAX]},zoom:function(e,t){var i=Math.min(this.ZOOM_MAX,Math.max(this.ZOOM_MIN,e)),n=this;(i=Math.round(100*i)/100)!==this._zoomFactor&&(this._zoomFactor=i,t?this.updatePreview():this.withoutAnimation((function(){n.updatePreview()})))},getCssPropertiesForElement:function(e){var t=this.createTranslationUtil(),i=t.getZoomedDimensionsBeforeRotation(),n={},o=t.getZoomedCropBeforeRotation(),a=this.getRotation();if(n.width=o.width,n.height=o.height,e["margin-top"]=-o.top,e["margin-right"]=-(i.width-(o.left+o.width)),e["margin-bottom"]=-(i.height-(o.top+o.height)),e["margin-left"]=-o.left,a%180!=0){var r=n.width;n.width=n.height,n.height=r;var s=(n.width-n.height)/2;e["margin-left"]+=s,e["margin-right"]+=s,e["margin-top"]-=s,e["margin-bottom"]-=s}return"fullscreen"===this.getMode()&&(e["margin-top"]-=Math.floor(n.height/2),e["margin-right"]-=Math.floor(n.width/2),e["margin-bottom"]-=Math.floor(n.height/2),e["margin-left"]-=Math.floor(n.width/2)),n},getCssPropertiesForContainer:function(e){return"fullscreen"===this.getMode()?this.getCssPropertiesForContainerFullscreen(e):this.getCssPropertiesForContainerInline(e)},getCssPropertiesForContainerFullscreen:function(e){return{left:"",top:""}},getCssPropertiesForContainerInline:function(e){var t,i={width:this.$element.width(),height:this.$element.height()};return this.withoutAnimation((function(){this.$element.css(e),this.positionUI((function(e){t=e})),this.$element.css(i)})),t},updatePreview:function(){var e=this.getCssPropertiesForCopy(),t=this.getCssPropertiesForElement(e),i=this.getCssPropertiesForContainer(t);this.$element.css(t),!function(){if(navigator&&navigator.userAgent)return/.*OS 7.{0,4} like Mac OS X.*/.test(navigator.userAgent)}()?this.$ui.copy.css(e):this.updateClipForIosV7(e),this.$ui.css(i)},scaleToFitForFullscreen:function(){var e,t=this.getViewportCrop(),i=this.createTranslationUtil(),n=i.translate(i.getZoomedCropBeforeRotation(),"zoomed"),o=1;n.width>t.width&&(o=t.width/n.width),n.height>t.height&&(e=t.height/n.height)<o&&(o=e),this.zoom(this.getZoomFactor()*o,!0)},updateClipForIosV7:function(e){var t=this.$ui.copy,i=e.clip||"",n=t.css("clip");i.replace(/, ?/g," ")===n||"rect(0px, 0px, 0px, 0px)"===i&&"auto"===n?t.css(e):(e.clip="rect(0px, 0px, 0px, 0px);",t.css(e),setTimeout((function(){t.css("clip",i)}),1e3))},setupTemplates:function(t){t&&e.isFunction(t.get)?this.templates=t:e.isPlainObject(t)?this.templates=new CUI.imageeditor.TemplateProvider(t):this.templates||(this.templates=new CUI.imageeditor.TemplateProvider)}}),CUI.util.plugClass(CUI.ImageEditor,"imageEditor",(function(t){CUI.imageeditor.OptionsUtils.loadOptionsAndStartEditing(t,e(this))})),CUI.options.dataAPI&&e((function(){e(document.body).on("click.imageeditor.data-api",'img[data-editable="true"],img[data-editable=""]',(function(t){o(t)&&!CUI.imageeditor.UIUtils.isHavingModalParent(t.target)&&e(this).imageEditor()}))}))}(jQuery,this,window.CSSRule),function(e,t,i){CUI.TagList=new Class({toString:"TagList",extend:CUI.Widget,construct:function(e){var t=this;this.applyOptions(),this.$element.on("change:values",this._setValues.bind(this)).on("change:disabled",this._toggleDisabled.bind(this)),this.$element.on("click","button",(function(e){var i=t.$element.children().has(e.currentTarget).find("input");t.removeItem(i.val())})),this._makeAccessible()},defaults:{fieldname:"",values:null,disabled:!1,tag:"li",renderer:null},_existingValues:null,applyOptions:function(){var t=this;this._existingValues=[],this.options.values=this.options.values||[],this.options.values.length>0?this._setValues():this.$element.find("input").each((function(i,n){var o=e(n);t._existingValues.push(o.attr("value"))})),this._toggleDisabled(this.options.disabled)},_setValues:function(){var e=this.options.values;this.$element.empty(),this.options.values=[],this.addItem(e)},_makeAccessible:function(){this.$element.attr({role:"listbox"}),this.$element.children(this.options.tag).attr({role:"option",tabindex:0}).on("keydown",this._onKeyDown.bind(this)).children(".coral-TagList-tag-removeButton").attr({tabindex:-1})},_onKeyDown:function(t){if(8===t.which){t.preventDefault(),t.stopPropagation();var i=e(t.currentTarget).next();0===i.length&&(i=e(t.currentTarget).prev()),this.removeItem(e(t.currentTarget).children("input").val()),i.focus()}},_show:function(){this.$element.show().attr("aria-hidden",!1)},_hide:function(){this.$element.hide().attr("aria-hidden",!0)},_removeItem:function(t){var i=this.$element.children(':has(input[value="'+t+'"])');i.length>0&&(i.remove(),this.$element.trigger(e.Event("itemremoved"),{value:t}))},_appendItem:function(t){var i,n;if("string"===e.type(t)?i=n=t:(i=t.display,n=t.value),n+="",!(e.inArray(n,this._existingValues)>-1||0===n.length)){this._existingValues.push(n);var o=this.options.renderer||this._renderTag,a=e(o.call(this,n,i));a.on("keydown",this._onKeyDown.bind(this)),this._toggleItemDisabled(a[0],this.options.disabled),this.$element.append(a),this.$element.trigger(e.Event("itemadded"),{value:n,display:i})}},_renderTag:function(t,i){var n,o;return n=e("<"+this.options.tag+"/>",{role:"option",tabindex:"0",class:"coral-TagList-tag"+(this.options.multiline?" coral-TagList-tag--multiline":""),title:i}),o=e("<button/>",{class:"coral-MinimalButton coral-TagList-tag-removeButton",type:"button",tabindex:"-1",title:"Remove"}).appendTo(n),e("<i/>",{class:"coral-Icon coral-Icon--sizeXS coral-Icon--close"}).appendTo(o),e("<span/>",{class:"coral-TagList-tag-label",text:i}).appendTo(n),e("<input/>",{type:"hidden",value:t,name:this.options.fieldname}).appendTo(n),n},_toggleDisabled:function(e){var t="boolean"==typeof e?e:this.options.disabled,i=this._getItems();this.$element.toggleClass("is-disabled",t),this.$element.attr("aria-disabled",t),i.map(function(e){this._toggleItemDisabled(e,t)}.bind(this))},_toggleItemDisabled:function(t,i){var n="boolean"==typeof i?i:this.options.disabled;e(t).find("input, button").each((function(t,i){e(i).prop("disabled",n)})),e(t).attr("tabindex",n?-1:0)},_getItems:function(){var e=this.$element.children();return this._existingValues.map((function(t){var i=e.has('input[value="'+t+'"]');return i.length>1&&(i=i.first()),!!i.length&&i[0]})).filter((function(e){return e}))},removeItem:function(e){var t=this._existingValues.indexOf(""+e);t>-1&&(this._existingValues.splice(t,1),this._removeItem(e))},addItem:function(t){var i=this,n=e.isArray(t)?t:[t];e.each(n,(function(e,t){i._appendItem(t)}))},getValues:function(){return this._existingValues.slice(0)}}),CUI.Widget.registry.register("taglist",CUI.TagList),CUI.options.dataAPI&&e(document).on("cui-contentloaded.data-api",(function(t){CUI.TagList.init(e("[data-init~=taglist]",t.target))}))}(jQuery),function(e,t,i){CUI.Autocomplete=new Class({toString:"Autocomplete",extend:CUI.Widget,construct:function(){this._input=this.options.predefine.input||this.$element.find(".js-coral-Autocomplete-textfield"),this._selectlist=this.options.predefine.selectlist||this.$element.find(".js-coral-Autocomplete-selectList"),this._tags=this.options.predefine.tags||this.$element.find(".js-coral-Autocomplete-tagList"),this._suggestionsBtn=this.options.predefine.suggestionsBtn||this.$element.find(".js-coral-Autocomplete-toggleButton"),this._selectListAnchor=this.$element.find(".js-coral-Autocomplete-field"),this._selectListAnchor.length||(this._selectListAnchor=this.$element.find(".js-coral-Autocomplete-inputGroup")),this.$element.on("change:disabled",function(e){e.target===this.$element[0]&&this._toggleDisabled()}.bind(this)),this.applyOptions(),this._makeAccessible(),this._initTypeahead(),this._setOptionListeners()},defaults:{mode:"starts",disabled:!1,ignorecase:!0,delay:200,multiple:!1,forceselection:!1,selectlistConfig:null,tagConfig:null,predefine:{}},applyOptions:function(){this._setInput(),this._setTags(),this._setSelectlist(),this._setSuggestions(),this._setForceSelection(),this.options.disabled&&this.set("disabled",!0)},_setOptionListeners:function(){this.on("change:multiple",function(){this._setInput(),this._setTags(),this._setForceSelection()}.bind(this)),this.on("change:forceselection",function(){this._setForceSelection()}.bind(this)),this._selectlist.on("itemremoved",function(e){var t;t=e.item instanceof CUI.SelectList.Group?e.item.getItems().map((function(e){return e.getValue()})):[e.item.getValue()],this._deselect(t)}.bind(this))},_deselect:function(e){e.forEach((function(e){this.options.multiple?this._tagListWidget.removeItem(e):(this._input&&e===this._input.val()||this._valueInput&&e===this._valueInput.val())&&this.clear()}),this)},_setForceSelection:function(){var t=this;if(this.options.forceselection&&!this.options.multiple){if(!this._valueInput){var i=this.$element.find(".js-coral-Autocomplete-hidden"),n=this._input.prop("name"),o=this._input.val();i.length>0?(this._valueInput=i,!this._valueInput.prop("name")&&n&&this._valueInput.prop("name",n),this._input.prop("name",""),t._lastSelected=this._valueInput.val(),t._lastSelectedDisplay=o):(n&&(this._valueInput=e('<input type="hidden" class="js-coral-Autocomplete-hidden">').prop("name",n).val(o).insertAfter(this._input),this._input.prop("name","")),t._lastSelected=o,t._lastSelectedDisplay=o)}this._input.on("blur.autocomplete-forceselection",(function(){var e=function(){t._lastSelectedDisplay!==t._input.val()&&(""===t._input.val()&&(t._lastSelectedDisplay="",t._lastSelected="",t._triggerValueChange()),t._input.val(t._lastSelectedDisplay),t._valueInput.val(t._lastSelected))},i=setTimeout(e,0);t._suggestionsBtn.on("focus",(function(){clearTimeout(i),t._suggestionsBtn.on("blur",e)}))}))}else this._input.off("blur.autocomplete-forceselection"),this._valueInput&&(this._input.prop("name",this._valueInput.prop("name")),this._input.val(this._valueInput.val()),this._valueInput.remove(),this._valueInput=void 0)},_setInput:function(){this.options.multiple?this._input.on("keypress.autocomplete-preventsubmit",(function(e){if(13===e.which)return e.preventDefault(),!1})):this._input.off("keypress.autocomplete-preventsubmit"),this._input.attr("autocomplete","off"),this._lastSelected=this._input.val(),this._lastSelectedDisplay=this._input.val()},_setSelectlist:function(){0===this._selectlist.length?this._selectlist=e("<ul/>",{id:CUI.util.getNextId(),class:"coral-SelectList js-coral-Autocomplete-selectList"}).appendTo(this.$element):this._selectlist.attr("id")||this._selectlist.attr("id",CUI.util.getNextId()),this._selectlist.selectList(e.extend({relatedElement:this._selectListAnchor,autofocus:!1,autohide:!0},this.options.selectlistConfig||{})),this._selectListWidget=this._selectlist.data("selectList"),this._selectlist.on("selected.autocomplete",this._handleSelected.bind(this))},_setTags:function(){if(this.options.multiple&&!this._tagListWidget){0===this._tags.length&&(this._tags=e("<ul/>",{class:"coral-TagList js-coral-Autocomplete-tagList"}).appendTo(this.$element)),this._tags.tagList(this.options.tagConfig||{}),this._tagListWidget=this._tags.data("tagList"),this._input.on("keyup.autocomplete-addtag",this._addTag.bind(this));var t=this._triggerValueChange.bind(this);this._tags.on("itemremoved",t),this._tags.on("itemadded",t)}else!this.options.multiple&&this._tagListWidget&&(this._tags.off("itemadded"),this._tags.off("itemremoved"),this._tags.remove(),this._tags=null,this._tagListWidget=null,this._input.off("keyup.autocomplete-addtag"))},_initTypeahead:function(){var e,t=this,i=function(){t.showSuggestions(t._input.val(),!1,t._selectListWidget)},n=function(n){e&&clearTimeout(e),e=setTimeout(i,t.options.delay)};this._input.on("input.autocomplete",n),this._input.on("cut.autocomplete",n),this._input.on("keyup.autocomplete",(function(e){switch(e.which){case 8:case 46:n()}})),this._input.on("keypress.autocomplete",(function(e){e.stopPropagation()}))},_setSuggestions:function(){var e=this;this._suggestionsBtn.length&&(this._suggestionsBtn.attr({tabindex:-1,"aria-hidden":!0}),this._suggestionsBtn.on("click.autocomplete",(function(t){e._selectListWidget.get("visible")?e._input.trigger("focus"):(e.showSuggestions("",!0,e._selectListWidget),e._input.trigger("focus"),t.preventDefault(),t.stopPropagation())})),this._input.addClass("autocomplete-has-suggestion-btn"))},_makeAccessible:function(){var t,i=this;if(this._input.attr({id:this._input.attr("id")||CUI.util.getNextId(),role:"combobox","aria-autocomplete":this.options.typeahead?"list":null,"aria-controls":this._selectlist.attr("id")||null}),(t=e('label[for="'+this._input.attr("id")+'"]')).length>0){var n=[];t.each((function(e,t){t.id=t.id||CUI.util.getNextId(),n.push(t.id)})),this.$element.attr("aria-labelledby",n.join(" "))}else t=this._input.closest("label");0!==t.length&&0!==e.trim(t.text()).length||!this._input.attr("placeholder")||this._input.attr({"aria-label":this._input.attr("placeholder")}),this._selectListWidget._makeAccessible(),this._input.add(this._suggestionsBtn).on("keydown.cui-autocomplete",function(e){switch(e.which){case 40:i._selectListWidget.get("visible")?i._selectListWidget.$element.trigger("focus"):i._selectListWidget.show().resetCaret(),e.preventDefault(),e.stopPropagation()}}.bind(this))},_addTag:function(e){13!==e.which||this.options.forceselection||(this._tagListWidget.addItem(this._input.val()),this.clear(),this._selectListWidget.hide())},_handleSelected:function(e){this._selectListWidget.hide();var t=e.selectedValue,i=e.displayedValue;this.options.multiple?(this._tagListWidget.addItem({display:i,value:t}),this.clear()):(this._lastSelected=t||i,this._lastSelectedDisplay=i,this.options.forceselection?(this._input.val(i),this._valueInput.val(this._lastSelected)):this._input.val(this._lastSelected),this._triggerValueChange()),this._input.trigger("focus")},showSuggestions:function(t,i,n){this.$element.trigger(e.Event("query",{value:t}));var o=this._selectListWidget.get("type"),a=!0;0===t.length&&this._selectListWidget._hasFocus()?("static"===o&&(this._handleStaticFilter(t),a=this._selectlist.find('[role="option"]:not(.is-hidden)').length>0),a||this._selectListWidget.hide()):("static"===o?(this._handleStaticFilter(t),a=this._selectlist.find('[role="option"]:not(.is-hidden)').length>0):"dynamic"===o&&this._handleDynamicFilter(t),a?this._selectListWidget.show().resetCaret():this._selectListWidget.hide())},_handleStaticFilter:function(e){var t=this;e?this._selectListWidget.filter((function(i,n){return t.options.ignorecase&&(n=n.toLowerCase(),e=e.toLowerCase()),"starts"===t.options.mode?0===n.lastIndexOf(e,0):"contains"===t.options.mode&&-1!==n.search(e)})):this._selectListWidget.filter()},_handleDynamicFilter:function(t){var i=e.extend({},this._selectListWidget.get("dataadditional"),{query:t});this._selectListWidget.set("dataadditional",i),this._selectListWidget.triggerLoadData(!0)},_triggerValueChange:function(){this.$element.trigger(e.Event("change:value"),{value:this.getValue()})},_toggleDisabled:function(e){var t="boolean"==typeof e?e:this.options.disabled;this.$element.toggleClass("is-disabled",t),this.$element.attr("aria-disabled",t),this._input.prop("disabled",t),this._suggestionsBtn.prop("disabled",t),this.options.multiple&&this._tagListWidget.set("disabled",t)},clear:function(){this._input.val(""),this._lastSelected="",this._lastSelectedDisplay="",this._selectListWidget.filter(),this._valueInput&&this._valueInput.val("");var e=this._selectListWidget.get("dataadditional");e&&delete e.query},disable:function(){this._toggleDisabled(!0)},enable:function(){this._toggleDisabled(!1)},getOption:function(e){return this._selectListWidget.getOption(e)},removeOption:function(e){this.getOption(e).remove()},getGroup:function(e){return this._selectListWidget.getGroup(e)},removeGroup:function(e){return this.getGroup(e).remove()},addOption:function(e,t){this._selectListWidget.addOption(e,t)},addGroup:function(e,t){this._selectListWidget.addGroup(e,t)},getValue:function(){return this.options.multiple?this._tagListWidget.getValues():this.options.forceselection?this._lastSelected:this._input.val()},getItems:function(){return this._selectListWidget.getItems()}}),CUI.Widget.registry.register("autocomplete",CUI.Autocomplete),CUI.options.dataAPI&&e(document).on("cui-contentloaded.data-api",(function(t){CUI.Autocomplete.init(e("[data-init~=autocomplete]",t.target))}))}(jQuery),
/*!
 * jQuery Cookie Plugin v1.3
 * https://github.com/carhartl/jquery-cookie
 *
 * Copyright 2011, Klaus Hartl
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.opensource.org/licenses/GPL-2.0
 */
function(e,t,i){var n=/\+/g;function o(e){return e}function a(e){return decodeURIComponent(e.replace(n," "))}var r=e.cookie=function(i,n,s){if(void 0!==n){if(s=e.extend({},r.defaults,s),null===n&&(s.expires=-1),"number"==typeof s.expires){var l=s.expires,c=s.expires=new Date;c.setDate(c.getDate()+l)}return n=r.json?JSON.stringify(n):String(n),t.cookie=[encodeURIComponent(i),"=",r.raw?n:encodeURIComponent(n),s.expires?"; expires="+s.expires.toUTCString():"",s.path?"; path="+s.path:"",s.domain?"; domain="+s.domain:"",s.secure?"; secure":""].join("")}for(var d=r.raw?o:a,u=t.cookie.split("; "),h=0,p=u.length;h<p;h++){var m=u[h].split("=");if(d(m.shift())===i){var f=d(m.join("="));return r.json?JSON.parse(f):f}}return null};r.defaults={},e.removeCookie=function(t,i){return null!==e.cookie(t)&&(e.cookie(t,null,i),!0)}}(jQuery,document);